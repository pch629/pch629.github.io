function popup_open(t){$("body").addClass("pop_open");var e=$(t);$(".popup").fadeOut(200),e.fadeIn(200);var i=(i=e.find(".pop-cont").height())/2;return e.find(".pop-cont").css("margin-top",-i+"px"),console.log(i),!1}function popup_close(t){$("body").removeClass("pop_open"),$(t).fadeOut(200)}!function(){"use strict";var t,e;function i(t,e,i,r,o,s){isFinite(e)&&isFinite(r)&&isFinite(i)&&isFinite(o)&&(t.save(),n(t,s),t.beginPath(),t.moveTo(e,i),t.lineTo(r,o),t.stroke(),t.restore())}function n(t,e){var i,n=((i={})[0]=[],i[1]=[t.lineWidth,2*t.lineWidth],i[2]=[5*t.lineWidth,6*t.lineWidth],i[3]=[6*t.lineWidth,6*t.lineWidth],i[4]=[t.lineWidth,4*t.lineWidth],i)[e];t.setLineDash(n)}!function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps"}(t||(t={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(e||(e={}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var s=function(){return(s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function l(t){if(void 0===t)throw new Error("Value is undefined");return t}function c(t){if(null===t)throw new Error("Value is null");return t}function h(t){return c(l(t))}function u(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n=0,r=e;n<r.length;n++){var o=r[n];for(var s in o)void 0!==o[s]&&("object"!=typeof o[s]||void 0===t[s]?t[s]=o[s]:u(t[s],o[s]))}return t}function d(t){return"number"==typeof t&&isFinite(t)}function p(t){return"number"==typeof t&&t%1==0}function f(t){return"string"==typeof t}function _(t){return!(t<=0||t>0)}function m(t){var e,i,n,r=t;if(!r||"object"!=typeof r)return r;for(i in e=Array.isArray(r)?[]:{},r)r.hasOwnProperty(i)&&(e[i]=(n=r[i])&&"object"==typeof n?m(n):n);return e}function v(t){return null!==t}function g(t){return null===t?void 0:t}var y,b,S,w,x=function(){function t(){this._renderers=[]}return t.prototype.setRenderers=function(t){this._renderers=t},t.prototype.draw=function(t,e){this._renderers.forEach(function(i){t.save(),i.draw(t,e),t.restore()})},t}(),C=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&null!==this._data.visibleRange){var e=this._data.visibleRange,i=this._data,n=function(n){t.beginPath();for(var r=e.to-1;r>=e.from;--r){var o=i.items[r];t.moveTo(o.x,o.y),t.arc(o.x,o.y,n,0,2*Math.PI)}t.fill()};t.fillStyle=i.backColor,n(i.radius+2),t.fillStyle=i.lineColor,n(i.radius)}},t}(),k={from:0,to:1},T=function(){function t(t,e){this._compositeRenderer=new x,this._markersRenderers=[],this._markersData=[],this._invalidated=!0,this._chartModel=t,this._crosshair=e,this._compositeRenderer.setRenderers(this._markersRenderers)}return t.prototype.update=function(t){var e=this,i=this._chartModel.serieses();i.length!==this._markersRenderers.length&&(this._markersData=i.map(function(){return{items:[{x:0,y:0,time:0,price:0}],lineColor:"",backColor:e._chartModel.options().layout.backgroundColor,radius:0,visibleRange:null}}),this._markersRenderers=this._markersData.map(function(t){var e=new C;return e.setData(t),e}),this._compositeRenderer.setRenderers(this._markersRenderers)),this._invalidated=!0},t.prototype.renderer=function(t,e,i){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._compositeRenderer},t.prototype._updateImpl=function(){var t=this,e=this._chartModel.serieses(),i=this._crosshair.appliedIndex(),n=this._chartModel.timeScale();e.forEach(function(e,r){var o=t._markersData[r],s=e.markerDataAtIndex(i);if(null===s)o.visibleRange=null;else{var a=c(e.firstValue());o.lineColor=e.barColorer().barStyle(i).barColor,o.backColor=t._chartModel.options().layout.backgroundColor,o.radius=s.radius,o.items[0].price=s.price,o.items[0].y=e.priceScale().priceToCoordinate(s.price,a),o.items[0].time=i,o.items[0].x=n.indexToCoordinate(i),o.visibleRange=k}})},t}(),M=function(){function t(t){this._data=t}return t.prototype.draw=function(t){if(null!==this._data){var e=this._data.vertLine.visible,n=this._data.horzLine.visible;if(e||n){var r=this._data.x+1+(this._data.horzLine.lineWidth%2==0?.5:0),o=this._data.y+(this._data.vertLine.lineWidth%2==0?.5:0),s=this._data.w,a=this._data.h;e&&r>=0&&(t.lineWidth=this._data.vertLine.lineWidth,t.strokeStyle=this._data.vertLine.color,t.fillStyle=this._data.vertLine.color,i(t,r,0,r,a,this._data.vertLine.lineStyle)),n&&o>=0&&(t.lineWidth=this._data.horzLine.lineWidth,t.strokeStyle=this._data.horzLine.color,t.fillStyle=this._data.horzLine.color,i(t,0,o,s,o,this._data.horzLine.lineStyle))}}},t}(),P=function(){function t(t){this._invalidated=!0,this._rendererData={vertLine:{lineWidth:1,lineStyle:0,color:"",visible:!1},horzLine:{lineWidth:1,lineStyle:0,color:"",visible:!1},w:0,h:0,x:0,y:0},this._renderer=new M(this._rendererData),this._source=t}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(t,e){return this._invalidated&&this._updateImpl(),this._renderer},t.prototype._updateImpl=function(){var t=this._source.visible(),e=c(this._source.pane()),i=e.model().options().crosshair,n=this._rendererData;n.horzLine.visible=t&&this._source.horzLineVisible(e),n.vertLine.visible=t&&this._source.vertLineVisible(),n.horzLine.lineWidth=i.horzLine.width,n.horzLine.lineStyle=i.horzLine.style,n.horzLine.color=i.horzLine.color,n.vertLine.lineWidth=i.vertLine.width,n.vertLine.lineStyle=i.vertLine.style,n.vertLine.color=i.vertLine.color,n.w=e.width(),n.h=e.height(),n.x=this._source.appliedX(),n.y=this._source.appliedY()},t}(),E={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function D(t){return _(e=t)?0:e<0?0:e>255?255:Math.round(e);var e}function A(t){return _(e=t)?0:e<0?0:e>1?1:Math.round(1e4*e)/1e4;var e}function O(t){var e=function(t){(t=t.toLowerCase())in E&&(t=E[t]);var e,i=null!==(e=S.re.exec(t))?S.parse(e):null;if(null!==i)return i;var n=function(t){var e=b.re.exec(t);return null!==e?b.parse(e):null}(t);if(null!==n)return n;var r=function(t){var e=y.re.exec(t);return null!==e?y.parse(e):null}(t);if(null!==r)return r;var o=function(t){var e=w.re.exec(t);return null!==e?w.parse(e):null}(t);return null!==o?[o[0],o[1],o[2]]:null}(t);if(null!==e)return e;throw new Error("Passed color string "+t+" does not match any of the known color representations")}function L(t,e){if(e<0||e>255)throw new Error("invalid threshold value, valid values are [0, 255]");return function(t){return.199*t[0]+.687*t[1]+.114*t[2]}(t)>=e?"white":"black"}!function(t){t.re=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/,t.parse=function(t){return[D(parseInt(t[1]+t[1],16)),D(parseInt(t[2]+t[2],16)),D(parseInt(t[3]+t[3],16))]}}(y||(y={})),function(t){t.re=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,t.parse=function(t){return[D(parseInt(t[1],16)),D(parseInt(t[2],16)),D(parseInt(t[3],16))]}}(b||(b={})),function(t){t.re=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,t.parse=function(t){return[D(parseInt(t[1],10)),D(parseInt(t[2],10)),D(parseInt(t[3],10))]}}(S||(S={})),function(t){t.re=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/,t.parse=function(t){return[D(parseInt(t[1],10)),D(parseInt(t[2],10)),D(parseInt(t[3],10)),A(parseFloat(t[4]))]}}(w||(w={}));var I,R=function(){function t(t,e){this.setData(t,e)}return t.prototype.setData=function(t,e){this._data=t,this._commonData=e},t.prototype.draw=function(t,e,i,n,r){if(this._data.visible){var o=e.fontSize;t.font=e.font;var s=this._data.tickVisible?e.tickLength:0,a=this._data.borderVisible?e.borderSize:0,l=e.paddingTop,c=e.paddingBottom,h=e.paddingInner,u=e.paddingOuter,d=this._data.text,p=Math.ceil(i.measureText(t,d)),f=e.baselineOffset,_=e.fontSize+l+c,m=a+p+h+u+s,v=this._commonData.coordinate;this._commonData.fixedCoordinate&&(v=this._commonData.fixedCoordinate);var g,y,b=v-Math.floor(o/2)-l-.5,S=b+_,w="right"===r,x=w?n-a-.5:.5,C=x;t.fillStyle=function(t){return function(t){return 0===t.indexOf("#")}(t)?t:"rgba("+(e=[(i=O(t))[0],i[1],i[2],A(1)])[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";var e,i}(this._commonData.background),t.lineWidth=1,t.lineCap="butt",d&&(w?(g=x-s,y=(C=x-m)+u):(C=x+m,g=x+s,y=x+a+s+h),t.beginPath(),t.moveTo(x,b),t.lineTo(C,b),t.lineTo(C,S),t.lineTo(x,S),t.fill(),this._data.tickVisible&&(t.beginPath(),t.strokeStyle=this._commonData.color,t.moveTo(x,v),t.lineTo(g,v),t.stroke()),t.textAlign="left",t.fillStyle=this._commonData.color,t.fillText(d,y,S-c-f))}},t.prototype.height=function(t,e){return this._data.visible?t.fontSize+t.paddingTop+t.paddingBottom:0},t}(),z=function(){function t(t){this._commonRendererData={coordinate:0,color:"#FFF",background:"#000"},this._axisRendererData={text:"",visible:!1,tickVisible:!0,borderVisible:!0,lineStyle:1},this._paneRendererData={text:"",visible:!1,tickVisible:!1,borderVisible:!1,lineStyle:1},this._invalidated=!0,this._axisRenderer=new(t||R)(this._axisRendererData,this._commonRendererData),this._paneRenderer=new(t||R)(this._paneRendererData,this._commonRendererData)}return t.prototype.text=function(){return this._axisRendererData.text},t.prototype.background=function(){return this._commonRendererData.background},t.prototype.color=function(){return this.generateTextColor(this.background())},t.prototype.generateTextColor=function(t){return"black"===L(O(t),160)?"white":"black"},t.prototype.coordinate=function(){return this._updateRendererDataIfNeeded(),this._commonRendererData.coordinate},t.prototype.floatCoordinate=function(){return this._updateRendererDataIfNeeded(),this._commonRendererData.floatCoordinate||this._commonRendererData.coordinate},t.prototype.update=function(){this._invalidated=!0},t.prototype.height=function(t,e){return void 0===e&&(e=!1),Math.max(this._axisRenderer.height(t,e),this._paneRenderer.height(t,e))},t.prototype.getFixedCoordinate=function(){return this._commonRendererData.fixedCoordinate||0},t.prototype.setFixedCoordinate=function(t){this._commonRendererData.fixedCoordinate=t},t.prototype.isVisible=function(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible||this._paneRendererData.visible},t.prototype.isAxisLabelVisible=function(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible},t.prototype.isPaneLabelVisible=function(){return this._updateRendererDataIfNeeded(),this._paneRendererData.visible},t.prototype.renderer=function(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._axisRenderer},t.prototype.paneRenderer=function(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._paneRenderer},t.prototype._updateRendererDataIfNeeded=function(){this._invalidated&&(this._updateRendererData(this._axisRendererData,this._paneRendererData,this._commonRendererData),this._invalidated=!1)},t}(),$=function(t){function e(e,i,n){var r=t.call(this)||this;return r._background="#4c525e",r._source=e,r._priceScale=i,r._valueProvider=n,r}return o(e,t),e.prototype._updateRendererData=function(t,e,i){if(t.visible=!1,this._source.options().horzLine.labelVisible){var n=this._priceScale.mainSource(),r=null!==n?n.firstValue():null;if(this._source.visible()&&!this._priceScale.isEmpty()&&null!==r){i.background=this._background,i.color=this.generateTextColor(this._background);var o=this._valueProvider(this._priceScale);i.coordinate=o.coordinate,t.text=this._priceScale.formatPrice(o.price,r),t.visible=!0}}},e}(z),V=/[1-9]/g,B=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t,e){if(null!==this._data&&!1!==this._data.visible&&0!==this._data.text.length){t.font=e.font;var i=Math.round(e.widthCache.measureText(t,this._data.text,V));if(!(i<=0)){var n=e.paddingHorizontal,r=i+2*n,o=r/2,s=this._data.width,a=this._data.coordinate,l=Math.floor(a-o)+.5;l<0?(a+=Math.abs(0-l),l=Math.floor(a-o)+.5):l+r>s&&(a-=Math.abs(s-(l+r)),l=Math.floor(a-o)+.5);var c=l+r,h=-.5+e.borderSize+e.paddingTop+e.fontSize+e.paddingBottom;t.fillStyle=this._data.background,t.lineWidth=1,function(t,e,i,n,r,o){t.beginPath(),t.moveTo(e+1,i),t.lineTo(e+n-1,i),t.arcTo(e+n,i,e+n,.5,1),t.lineTo(e+n,i+r-1),t.arcTo(e+n,i+r,e+n-1,i+r,1),t.lineTo(e+1,i+r),t.arcTo(e,i+r,e,i+r-1,1),t.lineTo(e,.5),t.arcTo(e,i,e+1,i,1)}(t,l,-.5,c-l,h- -.5),t.fill();var u=Math.round(this._data.coordinate+1),d=-.5+e.borderSize+e.tickLength;t.strokeStyle=this._data.color,t.beginPath(),t.moveTo(u,-.5),t.lineTo(u,d),t.stroke();var p=h-e.baselineOffset-e.paddingBottom;t.textAlign="left",t.fillStyle=this._data.color,t.fillText(this._data.text,l+n,p)}}},t}(),N=function(t){function e(e,i,n){var r=t.call(this)||this;return r._invalidated=!0,r._renderer=new B,r._rendererData={visible:!1,background:"#4c525e",color:"white",text:"",width:0,coordinate:NaN},r._crosshair=e,r._model=i,r._valueProvider=n,r}return o(e,t),e.prototype.update=function(){this._invalidated=!0},e.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer.setData(this._rendererData),this._renderer},e.prototype._updateImpl=function(){var t=this._rendererData;if(t.visible=!1,this._crosshair.options().vertLine.labelVisible){var e=this._model.timeScale();if(!e.isEmpty()){var i=e.indexToUserTime(this._crosshair.appliedIndex());t.width=e.width();var n=this._valueProvider();n.time&&(t.coordinate=n.coordinate,t.text=e.formatDateTime(c(i)),t.visible=!0)}}},e}(function(){function t(){this._text="",this._background="#585858",this._coordinate=0}return t.prototype.text=function(){return this._text},t.prototype.background=function(){return this._background},t.prototype.color=function(){return"black"===L(O(this._background),150)?"white":"black"},t.prototype.coordinate=function(){return this._coordinate},t}()),W=function(){function t(){this._priceScale=null,this._zorder=0}return t.prototype.zorder=function(){return this._zorder},t.prototype.setZorder=function(t){this._zorder=t},t.prototype.priceScale=function(){return this._priceScale},t.prototype.setPriceScale=function(t){this._priceScale=t},t.prototype.priceAxisViews=function(t,e){return[]},t.prototype.paneViews=function(t){return[]},t.prototype.timeAxisViews=function(){return[]},t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}(I||(I={}));var H=function(t){function e(e,i){var n,r,o=t.call(this)||this;return o._pane=null,o._price=NaN,o._index=0,o._visible=!0,o._priceAxisViews=new Map,o._subscribed=!1,o._x=NaN,o._y=NaN,o._originX=NaN,o._originY=NaN,o._model=e,o._options=i,o._markersPaneView=new T(e,o),o._currentPosPriceProvider=(n=function(){return o._price},r=function(){return o._y},function(t){var e=r(),i=n();if(t===c(o._pane).defaultPriceScale())return{price:i,coordinate:e};var s=c(t.mainSource()),a=c(s.firstValue());return{price:t.coordinateToPrice(e,a),coordinate:e}}),o._timeAxisView=new N(o,e,function(){return{time:o._model.timeScale().indexToUserTime(o._index),coordinate:o.appliedX()}}),o._paneView=new P(o),o}return o(e,t),e.prototype.index=function(){return this._index},e.prototype.options=function(){return this._options},e.prototype.saveOriginCoord=function(t,e){this._originX=t,this._originY=e},e.prototype.clearOriginCoord=function(){this._originX=NaN,this._originY=NaN},e.prototype.originCoordX=function(){return this._originX},e.prototype.originCoordY=function(){return this._originY},e.prototype.setPosition=function(t,e,i){this._subscribed||(this._subscribed=!0),this._visible=!0,this._tryToUpdateViews(t,e,i)},e.prototype.appliedIndex=function(){return this._index},e.prototype.appliedX=function(){return this._x},e.prototype.appliedY=function(){return this._y},e.prototype.visible=function(){return this._visible},e.prototype.clearPosition=function(){this._visible=!1,this._setIndexToLastSeriesBarIndex(),this._price=NaN,this._x=NaN,this._y=NaN,this._pane=null,this.clearOriginCoord()},e.prototype.paneViews=function(t){return null!==this._pane?[this._paneView,this._markersPaneView]:[]},e.prototype.horzLineVisible=function(t){return t===this._pane&&this._options.horzLine.visible},e.prototype.vertLineVisible=function(){return this._options.vertLine.visible},e.prototype.priceAxisViews=function(t,e){this._visible&&this._pane===t||this._priceAxisViews.clear();var i=[];return this._pane===t&&i.push(this._createPriceAxisViewOnDemand(this._priceAxisViews,e,this._currentPosPriceProvider)),i},e.prototype.timeAxisViews=function(){return this._visible?[this._timeAxisView]:[]},e.prototype.pane=function(){return this._pane},e.prototype.updateAllViews=function(){this._priceAxisViews.forEach(function(t){return t.update()}),this._timeAxisView.update(),this._markersPaneView.update()},e.prototype._priceScaleByPane=function(t){return t&&!t.defaultPriceScale().isEmpty()?t.defaultPriceScale():null},e.prototype._tryToUpdateViews=function(t,e,i){this._tryToUpdateData(t,e,i)&&this.updateAllViews()},e.prototype._tryToUpdateData=function(t,e,i){var n=this._x,r=this._y,o=this._price,s=this._index,a=this._pane,l=this._priceScaleByPane(i);this._index=t,this._x=isNaN(t)?NaN:this._model.timeScale().indexToCoordinate(t);var c=i.mainDataSource(),h=null!==c?c.firstValue():null;return null!==l&&null!==h?(this._pane=i,this._price=e,this._y=l.priceToCoordinate(e,h)):(this._pane=null,this._price=NaN,this._y=NaN),n!==this._x||r!==this._y||s!==this._index||o!==this._price||a!==this._pane},e.prototype._setIndexToLastSeriesBarIndex=function(){var t=this._model.serieses().map(function(t){return t.bars().lastIndex()}).filter(v),e=0===t.length?null:Math.max.apply(Math,t);this._index=null!==e?e:NaN},e.prototype._createPriceAxisViewOnDemand=function(t,e,i){var n=t.get(e);return void 0===n&&(n=new $(this,e,i),t.set(e,n)),n},e}(W);function F(t,e){if(!d(t))return"n/a";if(!p(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}var j,q=function(){function t(t,e,i,n){if(e||(e=1),d(t)&&p(t)||(t=100),t<0)throw new TypeError("invalid base");this._priceScale=t,this._minMove=e,this._minMove2=n,i&&void 0!==n&&n>0&&2!==n&&4!==n&&8!==n||(this._fractional=i,this._calculateDecimal())}return t.prototype.format=function(t,e,i,n){void 0===n&&(n=!0);var r="";return t<0?(r=!0===e?"\u2212":!1===n?"":"\u2212",t=-t):t&&!0===e&&(r="+"),this._fractional?r+this._formatAsFractional(t,i):r+this._formatAsDecimal(t,i)},t.prototype._calculateDecimal=function(){if(this._fractionalLength=0,this._priceScale>0&&this._minMove>0){var t=this._priceScale;for(this._fractional&&this._minMove2&&(t/=this._minMove2);t>1;)t/=10,this._fractionalLength++}},t.prototype._formatAsDecimal=function(t,e){var i;e=e||0,i=this._fractional?Math.pow(10,this._fractionalLength||0):Math.pow(10,e)*this._priceScale/this._minMove;var n=Math.floor(t),r="",o=void 0!==this._fractionalLength?this._fractionalLength:NaN;if(i>1){var s=+(Math.round(t*i)-n*i).toFixed(this._fractionalLength);s>=i&&(s-=i,n+=1),r="."+F(+s.toFixed(this._fractionalLength)*this._minMove,o+e),r=this._removeEndingZeros(r,e)}else n=Math.round(n*i)/i,o>0&&(r="."+F(0,o+e));return n.toFixed(0)+r},t.prototype._formatAsFractional=function(t,e){var i=this._priceScale/this._minMove,n=Math.floor(t),r=e?Math.floor(t*i)-n*i:Math.round(t*i)-n*i;r===i&&(r=0,n+=1);var o="";if(e){var s=(t-n-r/i)*i;o=F(s=Math.round(s*Math.pow(10,e)),e),o=this._removeEndingZeros(o,e)}if(!this._fractionalLength)throw new Error("_fractionalLength is not calculated");var a="";if(this._minMove2){var l=r%this._minMove2;a=F(r=(r-l)/this._minMove2,this._fractionalLength)+"'"+(2===this._minMove2?["0","5"][l]:8===this._minMove2?["0","1","2","3","4","5","6","7"][l]:["0","2","5","7"][l])}else a=F(r*this._minMove,this._fractionalLength);return n.toString()+"'"+a+o},t.prototype._removeEndingZeros=function(t,e){for(var i=0;i<e&&"0"===t[t.length-1];i++)t=t.substr(0,t.length-1);return t},t}(),U=function(t){function e(e){return void 0===e&&(e=100),t.call(this,e)||this}return o(e,t),e.prototype.format=function(e,i,n,r){return t.prototype.format.call(this,e,i,n,r)+"%"},e}(q),Y=function(){function t(){this._listeners=[]}return t.prototype.subscribe=function(t,e,i){this._listeners.push({callback:t,linkedObject:e,singleshot:!0===i})},t.prototype.unsubscribe=function(t){var e=this._listeners.findIndex(function(e){return t===e.callback});e>-1&&this._listeners.splice(e,1)},t.prototype.unsubscribeAll=function(t){this._listeners=this._listeners.filter(function(e){return e.linkedObject===t})},t.prototype.fire=function(t,e){var i=this._listeners.slice();this._listeners=this._listeners.filter(function(t){return!t.singleshot}),i.forEach(function(i){return i.callback(t,e)})},t.prototype.hasListeners=function(){return this._listeners.length>0},t.prototype.destroy=function(){this._listeners=[]},t}(),X=function(t){function e(e){var i=t.call(this)||this;return i._model=e,i}return o(e,t),e.prototype.model=function(){return this._model},e.prototype.base=function(){return 0},e.prototype.priceRange=function(t,e){return null},e}(W),G=function(){function t(t,e){this._minValue=t,this._maxValue=e}return t.prototype.equals=function(t){return null!==t&&this._minValue===t._minValue&&this._maxValue===t._maxValue},t.prototype.clone=function(){return new t(this._minValue,this._maxValue)},t.prototype.minValue=function(){return this._minValue},t.prototype.setMinValue=function(t){this._minValue=t},t.prototype.maxValue=function(){return this._maxValue},t.prototype.setMaxValue=function(t){this._maxValue=t},t.prototype.length=function(){return this._maxValue-this._minValue},t.prototype.isEmpty=function(){return this._maxValue===this._minValue||Number.isNaN(this._maxValue)||Number.isNaN(this._minValue)},t.prototype.merge=function(e){return new t(Math.min(this.minValue(),e.minValue()),Math.max(this.maxValue(),e.maxValue()))},t.prototype.apply=function(t,e){this._minValue=Math.min(this._minValue,t),this._maxValue=Math.max(this._maxValue,e)},t.prototype.set=function(t,e){this._minValue=t,this._maxValue=e},t.prototype.scaleAroundCenter=function(t){if(d(t)&&0!=this._maxValue-this._minValue){var e=.5*(this._maxValue+this._minValue),i=this._maxValue-e,n=this._minValue-e;n*=t,this._maxValue=e+(i*=t),this._minValue=e+n}},t.prototype.shift=function(t){d(t)&&(this._maxValue+=t,this._minValue+=t)},t.prototype.containsStrictly=function(t){return t.minValue()>this._minValue&&t.maxValue()<this._maxValue},t}();function Z(t,e,i){return Math.min(Math.max(t,e),i)}function J(t,e,i){return e-t<=i}function K(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function Q(t,e){var i=100*(t-e)/e;return e<0?-i:i}function tt(t,e){var i=Q(t.minValue(),e),n=Q(t.maxValue(),e);return new G(i,n)}function et(t,e){var i=100*(t-e)/e+100;return e<0?-i:i}function it(t,e){var i=et(t.minValue(),e),n=et(t.maxValue(),e);return new G(i,n)}function nt(t){var e=Math.abs(t);if(e<1e-8)return 0;var i=K(e+1e-4)+4;return t<0?-i:i}function rt(t){var e=Math.abs(t);if(e<1e-8)return 0;var i=Math.pow(10,e-4)-1e-4;return t<0?-i:i}function ot(t){if(null===t)return null;var e=nt(t.minValue()),i=nt(t.maxValue());return new G(e,i)}!function(t){t[t.LogicalOffset=4]="LogicalOffset",t[t.CoordOffset=1e-4]="CoordOffset"}(j||(j={}));var st=function(){function t(t,e){if(this._base=t,this._integralDividers=e,function(t){if(t<0)return!1;for(var e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this._base))this._fractionalDividers=[2,2.5,2];else{this._fractionalDividers=[];for(var i=this._base;1!==i;){if(i%2==0)this._fractionalDividers.push(2),i/=2;else{if(i%5!=0)throw new Error("unexpected base");this._fractionalDividers.push(2),this._fractionalDividers.push(2.5),i/=5}if(this._fractionalDividers.length>100)throw new Error("something wrong with base")}}}return t.prototype.tickSpan=function(t,e,i){for(var n=0===this._base?0:1/this._base,r=Math.pow(10,Math.max(0,Math.ceil(K(t-e)))),o=0,s=this._integralDividers[0];;){var a=J(r,n,1e-9)&&r>n+1e-9,l=J(r,i*s,1e-9),c=J(r,1,1e-9);if(!(a&&l&&c))break;r/=s,s=this._integralDividers[++o%this._integralDividers.length]}if(r<=n+1e-9&&(r=n),r=Math.max(1,r),this._fractionalDividers.length>0&&Math.abs(r-1)<1e-9)for(o=0,s=this._fractionalDividers[0];J(r,i*s,1e-9)&&r>n+1e-9;)r/=s,s=this._fractionalDividers[++o%this._fractionalDividers.length];return r},t}(),at=function(){function t(t,e,i,n){this._marks=[],this._priceScale=t,this._base=e,this._coordinateToLogicalFunc=i,this._logicalToCoordinateFunc=n}return t.prototype.base=function(){return this._base},t.prototype.setBase=function(t){if(t<0)throw new Error("base < 0");this._base=t},t.prototype.tickSpan=function(t,e){if(t<e)throw new Error("high < low");var i=this._priceScale.height(),n=(t-e)*this._tickMarkHeight()/i,r=new st(this._base,[2,2.5,2]),o=new st(this._base,[2,2,2.5]),s=new st(this._base,[2.5,2,2]),a=[];return a.push(r.tickSpan(t,e,n)),a.push(o.tickSpan(t,e,n)),a.push(s.tickSpan(t,e,n)),function(t){if(t.length<1)throw Error("array is empty");for(var e=t[0],i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(a)},t.prototype.rebuildTickMarks=function(){var t=this._priceScale;if(t.isEmpty())this._marks=[];else{var e=t.mainSource();if(null!==e){var i=e.firstValue();if(null!==i){var n=t.height(),r=this._coordinateToLogicalFunc(n-1,i),o=this._coordinateToLogicalFunc(0,i),s=Math.max(r,o),a=Math.min(r,o);if(s!==a){for(var l=this.tickSpan(s,a),c=s%l,h=s>=a?1:-1,u=null,d=0,p=s-(c+=c<0?l:0);p>a;p-=l){var f=this._logicalToCoordinateFunc(p,i,!0);null!==u&&Math.abs(f-u)<this._tickMarkHeight()||(d<this._marks.length?(this._marks[d].coord=Math.round(f),this._marks[d].label=t.formatLogical(p)):this._marks.push({coord:Math.round(f),label:t.formatLogical(p)}),d++,u=f,t.isLog()&&(l=this.tickSpan(p*h,a)))}this._marks.length=d}else this._marks=[]}else this._marks=[]}else this._marks=[]}},t.prototype.marks=function(){return this._marks},t.prototype._fontHeight=function(){return this._priceScale.fontSize()},t.prototype._tickMarkHeight=function(){return Math.ceil(2.5*this._fontHeight())},t}(),lt=function(){function t(t){this._precision=t}return t.prototype.format=function(t){var e="";return t<0&&(e="-",t=-t),t<995?e+this._formatNumber(t):t<999995?e+this._formatNumber(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this._formatNumber(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this._formatNumber(t/1e9)+"B")},t.prototype._formatNumber=function(t){var e=Math.pow(10,this._precision);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this._precision).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,function(t,e){return e})},t}();function ct(t,e,i,n){if(0!==e.length){t.moveTo(e[n.from].x,e[n.from].y);for(var r=n.from+1;r<n.to;++r){var o=e[r];1===i&&t.lineTo(e[r-1].x,o.x),t.lineTo(o.x,o.y)}}}var ht=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.items.length&&null!==this._data.visibleRange){t.save(),t.lineCap="square",t.strokeStyle=this._data.lineColor,t.lineWidth=this._data.lineWidth,n(t,this._data.lineStyle),t.lineWidth=1,t.beginPath(),t.moveTo(this._data.items[this._data.visibleRange.from].x,this._data.bottom),t.lineTo(this._data.items[this._data.visibleRange.from].x,this._data.items[this._data.visibleRange.from].y),ct(t,this._data.items,this._data.lineType,this._data.visibleRange),t.lineTo(this._data.items[this._data.visibleRange.to-1].x,this._data.bottom),t.lineTo(this._data.items[this._data.visibleRange.from].x,this._data.bottom),t.closePath();var e=t.createLinearGradient(0,0,0,this._data.bottom);e.addColorStop(0,this._data.topColor),e.addColorStop(1,this._data.bottomColor),t.fillStyle=e,t.fill(),t.restore()}},t}(),ut=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){null!==this._data&&0!==this._data.items.length&&null!==this._data.visibleRange&&(t.lineCap="square",t.lineWidth=this._data.lineWidth,n(t,this._data.lineStyle),t.strokeStyle=this._data.lineColor,t.lineJoin="miter",t.beginPath(),ct(t,this._data.items,this._data.lineType,this._data.visibleRange),t.stroke())},t}();function dt(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var o=r-n;0<o;){var s=o>>1,a=n+s;i(t[a],e)?(n=a+1,o-=s+1):o=s}return n}function pt(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);for(var o=r-n;0<o;){var s=o>>1,a=n+s;i(e,t[a])?o=s:(n=a+1,o-=s+1)}return n}function ft(t,e){return t.time<e}function _t(t,e){return t<e.time}function mt(t,e){return{from:dt(t,e.firstBar(),ft),to:pt(t,e.lastBar(),_t)}}var vt=function(){function t(t,e){this._invalidated=!0,this._dataInvalidated=!0,this._items=[],this._itemsVisibleRange=null,this._series=t,this._model=e}return t.prototype.update=function(t){this._invalidated=!0,"data"===t&&(this._dataInvalidated=!0)},t.prototype._makeValid=function(){this._dataInvalidated&&(this._fillRawPoints(),this._dataInvalidated=!1),this._invalidated&&(this._updatePoints(),this._invalidated=!1)},t.prototype._updatePoints=function(){var t=this._series.priceScale(),e=this._model.timeScale();if(this._itemsVisibleRange=null,!e.isEmpty()&&!t.isEmpty()){var i=e.visibleBars();if(null!==i&&0!==this._series.data().bars().size()){var n=this._series.firstValue();null!==n&&(this._itemsVisibleRange=mt(this._items,i),this._convertToCoordinates(t,e,n))}}},t}(),gt=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),e.prototype._convertToCoordinates=function(t,e,i){e.indexesToCoordinates(this._items,g(this._itemsVisibleRange)),t.pointsArrayToCoordinates(this._items,i,g(this._itemsVisibleRange))},e.prototype._createRawItemBase=function(t,e){return{time:t,price:e,x:NaN,y:NaN}},e.prototype._fillRawPoints=function(){var t=this,e=this._series.barFunction(),i=[],n=this._series.barColorer();this._series.bars().each(function(r,o){var s=e(o.value),a=t._createRawItem(r,s,n);return i.push(a),!1}),this._items=i},e}(vt),yt=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._renderer=new x,n._areaRenderer=new ht,n._lineRenderer=new ut,n._renderer.setRenderers([n._areaRenderer,n._lineRenderer]),n}return o(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={lineType:0,items:this._items,lineColor:i.lineColor,lineStyle:i.lineStyle,lineWidth:i.lineWidth,topColor:i.topColor,bottomColor:i.bottomColor,bottom:t,visibleRange:this._itemsVisibleRange};return this._areaRenderer.setData(n),this._lineRenderer.setData(n),this._renderer},e.prototype._createRawItem=function(t,e){return this._createRawItemBase(t,e)},e}(gt);function bt(t){return.3*t}var St,wt=function(){function t(){this._data=null,this._barWidth=0,this._barLineWidth=0}return t.prototype.setData=function(t){this._data=t,this._barWidth=bt(t.barSpacing),this._barLineWidth=t.thinBars?1:Math.max(1,Math.round(this._barWidth))},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.bars.length&&null!==this._data.visibleRange){t.save(),t.translate(.5,.5);for(var e=this._data.thinBars?1:Math.round(this._barWidth),i=this._data.thinBars?1:e/2,n=null,r=this._data.visibleRange.from;r<this._data.visibleRange.to;++r){var o=this._data.bars[r];n!==o.color&&(t.fillStyle=o.color,n=o.color),t.fillRect(Math.round(o.x-this._barLineWidth/2),Math.round(o.highY-i),Math.round(this._barLineWidth),Math.round(o.lowY-o.highY+e)),this._barLineWidth<this._data.barSpacing-1&&(this._data.openVisible&&t.fillRect(Math.round(o.x-1.5*this._barWidth),Math.floor(o.openY-i),Math.round(1.5*this._barWidth),e),t.fillRect(Math.round(o.x),Math.floor(o.closeY-i),Math.round(1.5*this._barWidth),e))}t.restore()}},t}(),xt=function(t){function e(e,i){return t.call(this,e,i)||this}return o(e,t),e.prototype._convertToCoordinates=function(t,e,i){e.indexesToCoordinates(this._items,g(this._itemsVisibleRange)),t.barPricesToCoordinates(this._items,i,g(this._itemsVisibleRange))},e.prototype._createDefaultItem=function(t,e,i){return{time:t,open:e.value[0],high:e.value[1],low:e.value[2],close:e.value[3],x:NaN,openY:NaN,highY:NaN,lowY:NaN,closeY:NaN}},e.prototype._fillRawPoints=function(){var t=this,e=[],i=this._series.barColorer();this._series.bars().each(function(n,r){var o=t._createRawItem(n,r,i);return e.push(o),!1}),this._items=e},e}(vt),Ct=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._renderer=new wt,n}return o(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={bars:this._items,barSpacing:this._model.timeScale().barSpacing(),openVisible:i.openVisible,thinBars:i.thinBars,visibleRange:this._itemsVisibleRange};return this._renderer.setData(n),this._renderer},e.prototype._createRawItem=function(t,e,i){return s({},this._createDefaultItem(t,e,i),{color:i.barStyle(t).barColor})},e}(xt);!function(t){t[t.BarBorderWidth=1]="BarBorderWidth"}(St||(St={}));var kt,Tt=function(){function t(){this._data=null,this._barWidth=0}return t.prototype.setData=function(t){this._data=t,this._barWidth=bt(t.barSpacing)},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.bars.length&&null!==this._data.visibleRange)if(t.lineCap="square",this._data.barSpacing<1)this._drawThinCandles(t);else{var e=this._data.bars;t.translate(-.5,-.5),t.lineWidth=1,this._data.wickVisible&&this._drawWicks(t,e,this._data.visibleRange),this._data.borderVisible&&this._drawBorder(t,e,this._data.visibleRange),this._drawCandles(t,e,this._data.visibleRange)}},t.prototype._drawWicks=function(t,e,i){for(var n="",r=i.from;r<i.to;r++){var o=e[r];o.wickColor!==n&&(t.fillStyle=o.wickColor,n=o.wickColor),t.fillRect(o.x,o.highY,1,o.lowY-o.highY)}},t.prototype._drawBorder=function(t,e,i){for(var n="",r=i.from;r<i.to;r++){var o=e[r];o.borderColor!==n&&(t.fillStyle=o.borderColor,n=o.borderColor);var s=Math.round(o.x-this._barWidth),a=Math.round(o.x+this._barWidth),l=Math.min(o.openY,o.closeY),c=Math.max(o.openY,o.closeY);t.fillRect(s,l,a-s+1,c-l+1)}},t.prototype._drawCandles=function(t,e,i){if(null!==this._data)for(var n="",r=i.from;r<i.to;r++){var o=e[r],s=Math.min(o.openY,o.closeY),a=Math.max(o.openY,o.closeY),l=Math.round(o.x-this._barWidth),c=Math.round(o.x+this._barWidth);if(this._data.borderVisible&&(l+=1,s+=1,c-=1,a-=1),!(s>a)){if(o.color!==n){var h=o.color;t.fillStyle=h,n=h}t.fillRect(l,s,c-l+1,a-s+1)}}},t.prototype._drawThinCandles=function(t){if(null!==this._data&&null!==this._data.visibleRange){if(t.lineWidth=1,this._data.wickVisible){t.strokeStyle=this._data.wickColor,t.beginPath();for(var e=this._data.visibleRange.from;e<this._data.visibleRange.to;e++){var i=this._data.bars[e];t.moveTo(i.x,i.lowY),t.lineTo(i.x,i.highY)}t.stroke()}var n="",r=!1;for(t.beginPath(),e=this._data.visibleRange.from;e<this._data.visibleRange.to;e++)n!==(i=this._data.bars[e]).color&&(r&&(t.stroke(),t.beginPath(),r=!1),t.strokeStyle=i.color,n=i.color),t.moveTo(i.x,i.openY),t.lineTo(i.x,i.closeY),r=!0;r&&t.stroke()}},t}(),Mt=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._renderer=new Tt,n}return o(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options(),n={bars:this._items,barSpacing:this._model.timeScale().barSpacing(),wickColor:i.wickColor,wickVisible:i.wickVisible,borderVisible:i.borderVisible,visibleRange:this._itemsVisibleRange};return this._renderer.setData(n),this._renderer},e.prototype._createRawItem=function(t,e,i){var n=i.barStyle(t);return s({},this._createDefaultItem(t,e,i),{color:n.barColor,wickColor:n.barWickColor,borderColor:n.barBorderColor})},e}(xt),Pt=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&0!==this._data.items.length&&null!==this._data.visibleRange){var e=this._data.histogramBase;t.translate(.5,.5),t.fillStyle=this._data.color,t.lineWidth=1,t.beginPath();for(var i=this._data.visibleRange.from;i<this._data.visibleRange.to;i++){var n=this._data.items[i],r=n.y,o=n.left;t.rect(o,r,n.right-o,e-r)}t.fill()}},t}(),Et=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._compositeRenderer=new x,n._paletteData=[],n._paletteRenderers=[],n._colorIndexes=new Int32Array(0),n._sourceIndexes=new Int32Array(0),n}return o(e,t),e.prototype.renderer=function(t,e){return this._makeValid(),this._compositeRenderer},e.prototype._fillRawPoints=function(){var t=this,e=this._model.timeScale().barSpacing(),i=this._series.palette();this._paletteRenderers.length=i.size(),this._paletteData.length=i.size();var n=new Int32Array(i.size()),r=this._series.options(),o=this._series.barFunction();this._colorIndexes=new Int32Array(this._series.bars().size());var s=0;this._items.length=this._series.bars().size();var a=0;this._series.bars().each(function(l,c){var h=o(c.value),u=c.value[4],d={time:l,price:h,x:NaN,y:NaN},p=i.colorByIndex(u),f=t._paletteData[u]||function(t,e,i){return{items:[],barSpacing:t,lineWidth:r.lineWidth,histogramBase:NaN,color:p,visibleRange:null}}(e),_=n[u]++;return _<f.items.length?f.items[_]=d:f.items.push(d),t._items[a++]={time:l,x:0},t._paletteData[u]=f,t._colorIndexes[s++]=u,!1}),this._paletteRenderers.length=this._paletteData.length,this._sourceIndexes.length!==this._paletteData.length&&(this._sourceIndexes=new Int32Array(this._paletteData.length)),this._paletteData.forEach(function(e,i){e.items.length=n[i];var r=t._paletteRenderers[i]||new Pt;r.setData(e),t._paletteRenderers[i]=r}),this._compositeRenderer.setRenderers(this._paletteRenderers)},e.prototype._convertToCoordinates=function(t,e,i){var n=this;if(null!==this._itemsVisibleRange){var r=e.barSpacing(),o=c(e.visibleBars()),s=t.priceToCoordinate(this._series.options().base,i);this._paletteData.forEach(function(r,a){e.indexesToCoordinates(r.items),t.pointsArrayToCoordinates(r.items,i),r.histogramBase=s,r.visibleRange=mt(r.items,o),n._sourceIndexes[a]=r.visibleRange.from});for(var a=null,l=this._itemsVisibleRange.from;l<this._itemsVisibleRange.to;++l){var h=this._colorIndexes[l],u=this._paletteData[h],d=this._sourceIndexes[h]++,p=u.items[d];p.left=Math.floor(p.x-.5*r),p.right=Math.ceil(p.left+r),null!==a&&(a.right=p.left-(p.right-p.left>5?1:0)),a=p}}},e}(vt),Dt=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._lineRenderer=new ut,n}return o(e,t),e.prototype.renderer=function(t,e){this._makeValid();var i=this._series.options();return this._lineRenderer.setData({items:this._items,lineColor:i.color,lineStyle:i.lineStyle,lineType:0,lineWidth:i.lineWidth,visibleRange:this._itemsVisibleRange}),this._lineRenderer},e.prototype._createRawItem=function(t,e){return this._createRawItemBase(t,e)},e}(gt),At=/[2-9]/g,Ot=function(){function t(t){void 0===t&&(t=50),this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._tick2Labels={},this._cache={},this._maxSize=t}return t.prototype.reset=function(){this._actualSize=0,this._cache={},this._usageTick=1,this._oldestTick=1,this._tick2Labels={}},t.prototype.measureText=function(t,e,i){var n=i||At,r=String(e).replace(n,"0");if(this._cache[r])return this._cache[r].width;if(this._actualSize===this._maxSize){var o=this._tick2Labels[this._oldestTick];delete this._tick2Labels[this._oldestTick],delete this._cache[o],this._oldestTick++,this._actualSize--}var s=t.measureText(r).width;return 0===s&&e.length?0:(this._cache[r]={width:s,tick:this._usageTick},this._tick2Labels[this._usageTick]=r,this._actualSize++,this._usageTick++,s)},t}(),Lt=function(){function t(t){this._priceAxisViewRenderer=null,this._rendererOptions=null,this._align="right",this._width=0,this._textWidthCache=t}return t.prototype.setParams=function(t,e,i,n){this._priceAxisViewRenderer=t,this._rendererOptions=e,this._width=i,this._align=n},t.prototype.draw=function(t){null!==this._rendererOptions&&null!==this._priceAxisViewRenderer&&this._priceAxisViewRenderer.draw(t,this._rendererOptions,this._textWidthCache,this._width,this._align)},t}(),It=function(){function t(t,e,i){this._priceAxisView=t,this._textWidthCache=new Ot(50),this._dataSource=e,this._chartModel=i,this._fontSize=-1,this._renderer=new Lt(this._textWidthCache)}return t.prototype.update=function(){this._priceAxisView.update()},t.prototype.renderer=function(t,e){var i=this._chartModel.paneForSource(this._dataSource);if(null===i)return null;if(null===this._dataSource.priceScale())return null;var n=i.priceScalePosition();if("overlay"===n)return null;var r=this._chartModel.priceAxisRendererOptions();return r.fontSize!==this._fontSize&&(this._fontSize=r.fontSize,this._textWidthCache.reset()),this._renderer.setParams(this._priceAxisView.paneRenderer(),r,e,n),this._renderer},t}(),Rt=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data&&!1!==this._data.visible){var e=this._data.y;if(!(e<0||e>this._data.height)){var n=this._data.width;t.lineCap="square",t.strokeStyle=this._data.color,t.lineWidth=this._data.lineWidth,i(t,0,e,n,e,this._data.lineStyle)}}},t}(),zt=function(){function t(t){this._lineRendererData={width:0,height:0,y:0,color:"rgba(0, 0, 0, 0)",lineWidth:1,lineStyle:0,visible:!1},this._lineRenderer=new Rt,this._invalidated=!0,this._series=t,this._model=t.model(),this._lineRenderer.setData(this._lineRendererData)}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._lineRenderer},t}(),$t=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype._updateImpl=function(){this._lineRendererData.visible=!1;var t=this._series.priceScale().mode().mode;if(2===t||3===t){var e=this._series.options();if(e.baseLineVisible){var i=this._series.firstValue();null!==i&&(this._lineRendererData.visible=!0,this._lineRendererData.y=this._series.priceScale().priceToCoordinate(i,i),this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.color=e.baseLineColor,this._lineRendererData.lineWidth=e.baseLineWidth,this._lineRendererData.lineStyle=e.baseLineStyle)}}},e}(zt),Vt=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e.prototype._updateImpl=function(){this._lineRendererData.visible=!1;var t=this._series.options();if(t.priceLineVisible){var e=this._series.lastValueData(void 0,!0);e.noData||(this._lineRendererData.visible=!0,this._lineRendererData.y=e.coordinate,this._lineRendererData.color=this._series.priceLineColor(e.color),this._lineRendererData.width=this._model.timeScale().width(),this._lineRendererData.height=this._series.priceScale().height(),this._lineRendererData.lineWidth=t.priceLineWidth,this._lineRendererData.lineStyle=t.priceLineStyle)}},e}(zt),Bt=function(t){function e(e,i){var n=t.call(this)||this;return n._source=e,n._data=i,n}return o(e,t),e.prototype._getSource=function(){return this._source},e.prototype._getData=function(){return this._data},e.prototype._updateRendererData=function(t,e,i){t.visible=!1,e.visible=!1;var n=this._source.options(),r=n.lastValueVisible,o=""!==this._source.title(),s=0===n.seriesLastValueMode,a=this._source.lastValueData(void 0,!1);a.noData||(r&&(t.text=this._axisText(a,r,s),t.visible=0!==t.text.length),(o||s)&&(e.text=this._paneText(a,r,o,s),e.visible=e.text.length>0),i.background=this._source.priceLineColor(a.color),i.color=this.generateTextColor(i.background),i.coordinate=a.coordinate,i.floatCoordinate=a.floatCoordinate)},e.prototype._paneText=function(t,e,i,n){var r="",o=this._source.title();return i&&0!==o.length&&(r+=o+" "),e&&n&&(r+=this._source.priceScale().isPercentage()?t.formattedPriceAbsolute:t.formattedPricePercentage),r.trim()},e.prototype._axisText=function(t,e,i){return e?i?this._source.priceScale().isPercentage()?t.formattedPricePercentage:t.formattedPriceAbsolute:t.text:""},e}(z),Nt=function(){function t(){this._maxUsedIndex=0,this._colorToIndex=new Map,this._indexToColor=new Map}return t.prototype.colorByIndex=function(t){return l(this._indexToColor.get(t))},t.prototype.addColor=function(t){var e=this._colorToIndex.get(t);return void 0===e&&(e=this._maxUsedIndex++,this._colorToIndex.set(t,e),this._indexToColor.set(e,t)),e},t.prototype.size=function(){return this._indexToColor.size},t}(),Wt={barColor:"",barBorderColor:"",barWickColor:""},Ht=function(){function t(t){this._series=t}return t.prototype.barStyle=function(t,e){var i=this._series.seriesType(),n=this._series.options();switch(i){case"Line":return this._lineStyle(n);case"Area":return this._areaStyle(n);case"Bar":return this._barStyle(n,t,e);case"Candlestick":return this._candleStyle(n,t,e);case"Histogram":return this._histogramStyle(n,t,e)}throw new Error("Unknown chart style")},t.prototype._barStyle=function(t,e,i){var n=s({},Wt),r=t.upColor,o=t.downColor,a=r,l=o,u=c(this._findBar(e,i)),d=h(u.value[0])<=h(u.value[3]);return n.barColor=d?r:o,n.barBorderColor=d?a:l,n},t.prototype._candleStyle=function(t,e,i){var n=s({},Wt),r=t.upColor,o=t.downColor,a=t.borderUpColor,l=t.borderDownColor,u=t.wickUpColor,d=t.wickDownColor,p=c(this._findBar(e,i)),f=h(p.value[0])<=h(p.value[3]);return n.barColor=f?r:o,n.barBorderColor=f?a:l,n.barWickColor=f?u:d,n},t.prototype._areaStyle=function(t){return s({},Wt,{barColor:t.lineColor})},t.prototype._lineStyle=function(t){return s({},Wt,{barColor:t.color})},t.prototype._histogramStyle=function(t,e,i){var n=s({},Wt),r=c(this._findBar(e,i)).value[4];if(null!=r){var o=c(this._series.palette());n.barColor=o.colorByIndex(r)}else n.barColor=t.color;return n},t.prototype._getSeriesBars=function(){return this._series.bars()},t.prototype._findBar=function(t,e){return void 0!==e?e.value:this._getSeriesBars().valueAt(t)},t}();!function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.Exact=0]="Exact",t[t.NearestRight=1]="NearestRight"}(kt||(kt={}));var Ft,jt=function(){function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache=new Map,this._rowSearchCache=new Map,this._rowSearchCacheWithoutEmptyValues=new Map,this._plotFunctions=t||new Map,this._emptyValuePredicate=e}return t.prototype.clear=function(){this._items=[],this._start=0,this._end=0,this._shareRead=!1,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear()},t.prototype.first=function(){return this.size()>0?this._items[this._start]:null},t.prototype.last=function(){return this.size()>0?this._items[this._end-1]:null},t.prototype.firstIndex=function(){return this.size()>0?this._indexAt(this._start):null},t.prototype.lastIndex=function(){return this.size()>0?this._indexAt(this._end-1):null},t.prototype.size=function(){return this._end-this._start},t.prototype.isEmpty=function(){return 0===this.size()},t.prototype.contains=function(t){return null!==this._search(t,0)},t.prototype.valueAt=function(t){return this.search(t)},t.prototype.add=function(t,e,i){if(this._shareRead)return!1;var n={index:t,value:i,time:e},r=this._search(t,0);return this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),null===r?(this._items.splice(this._lowerbound(t),0,n),this._start=0,this._end=this._items.length,!0):(this._items[r]=n,!1)},t.prototype.search=function(t,e,i){void 0===e&&(e=0);var n=this._search(t,e,i);if(null===n)return null;var r=this._valueAt(n);return{index:this._indexAt(n),time:r.time,value:r.value}},t.prototype.each=function(t){for(var e=this._start;e<this._end&&!t(this._indexAt(e),this._valueAt(e));++e);},t.prototype.range=function(e,i){var n=new t(this._plotFunctions,this._emptyValuePredicate);return n._items=this._items,n._start=this._lowerbound(e),n._end=this._upperbound(i),n._shareRead=!0,n},t.prototype.minMaxOnRangeCached=function(t,e,i){if(this.isEmpty())return null;for(var n=null,r=0,o=i;r<o.length;r++)n=qt(n,this._minMaxOnRangeCachedImpl(t,e,o[r]));return n},t.prototype.merge=function(t){return this._shareRead?null:0===t.length?null:this.isEmpty()||t[t.length-1].index<this._items[0].index?this._prepend(t):t[0].index>this._items[this._items.length-1].index?this._append(t):1===t.length&&t[0].index===this._items[this._items.length-1].index?(this._updateLast(t[0]),t[0]):this._merge(t)},t.prototype.remove=function(t){if(this._shareRead)return null;var e=this._search(t,1);if(null===e)return null;var i=this._items.splice(e);return this._end=this._items.length,this._minMaxCache.clear(),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),i.length>0?i[0]:null},t.prototype._indexAt=function(t){return this._items[t].index},t.prototype._valueAt=function(t){return this._items[t]},t.prototype._search=function(t,e,i){var n=this._bsearch(t);if(null===n&&0!==e)switch(e){case-1:return this._searchNearestLeft(t,i);case 1:return this._searchNearestRight(t,i);default:throw new TypeError("Unknown search mode")}if(!i||null===n||0===e)return n;switch(e){case-1:return this._nonEmptyNearestLeft(n);case 1:return this._nonEmptyNearestRight(n);default:throw new TypeError("Unknown search mode")}},t.prototype._nonEmptyNearestRight=function(t){for(var e=c(this._emptyValuePredicate);t<this._end&&e(this._valueAt(t).value);)t+=1;return t===this._end?null:t},t.prototype._nonEmptyNearestLeft=function(t){for(var e=c(this._emptyValuePredicate);t>=this._start&&e(this._valueAt(t).value);)t-=1;return t<this._start?null:t},t.prototype._searchNearestLeft=function(t,e){var i=this._lowerbound(t);i>this._start&&(i-=1);var n=i!==this._end&&this._indexAt(i)<t?i:null;return e&&null!==n?this._nonEmptyNearestLeft(n):n},t.prototype._searchNearestRight=function(t,e){var i=this._upperbound(t),n=i!==this._end&&t<this._indexAt(i)?i:null;return e&&null!==n?this._nonEmptyNearestRight(n):n},t.prototype._bsearch=function(t){var e=this._lowerbound(t);return e===this._end||t<this._items[e].index?null:e},t.prototype._lowerbound=function(t){return dt(this._items,t,function(t,e){return t.index<e},this._start,this._end)},t.prototype._upperbound=function(t){return pt(this._items,t,function(t,e){return e.index>t},this._start,this._end)},t.prototype._plotMinMax=function(t,e,i){var n=null,r=this._plotFunctions.get(i.name);if(void 0===r)throw new Error('Plot "'+i.name+'" is not registered');for(var o=t;o<e;o++){var s=r(this._items[o].value);null==s||Number.isNaN(s)||(null===n?n={min:s,max:s}:(s<n.min&&(n.min=s),s>n.max&&(n.max=s)))}return n},t.prototype._invalidateCacheForRow=function(t){var e=Math.floor(t.index/30);this._minMaxCache.forEach(function(t){return t.delete(e)})},t.prototype._prepend=function(t){return a(!this._shareRead,"collection should not be readonly"),a(0!==t.length,"plotRows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=t.concat(this._items),this._start=0,this._end=this._items.length,t[0]},t.prototype._append=function(t){return a(!this._shareRead,"collection should not be readonly"),a(0!==t.length,"plotRows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=this._items.concat(t),this._start=0,this._end=this._items.length,t[0]},t.prototype._updateLast=function(t){a(!this.isEmpty(),"plot list should not be empty"),a(this._items[this._end-1].index===t.index,"last row index should match new row index"),this._invalidateCacheForRow(t),this._rowSearchCache.delete(t.index),this._rowSearchCacheWithoutEmptyValues.delete(t.index),this._items[this._end-1]=t},t.prototype._merge=function(t){return a(0!==t.length,"plot rows should not be empty"),this._rowSearchCache.clear(),this._rowSearchCacheWithoutEmptyValues.clear(),this._minMaxCache.clear(),this._items=function(t,e){for(var i=function(t,e){for(var i=t.length,n=e.length,r=i+n,o=0,s=0;o<i&&s<n;)t[o].index<e[s].index?o++:t[o].index>e[s].index?s++:(o++,s++,r--);return r}(t,e),n=new Array(i),r=0,o=0,s=t.length,a=e.length,l=0;r<s&&o<a;)t[r].index<e[o].index?(n[l]=t[r],r++):t[r].index>e[o].index?(n[l]=e[o],o++):(n[l]=e[o],r++,o++),l++;for(;r<s;)n[l]=t[r],r++,l++;for(;o<a;)n[l]=e[o],o++,l++;return n}(this._items,t),this._start=0,this._end=this._items.length,t[0]},t.prototype._minMaxOnRangeCachedImpl=function(t,e,i){if(this.isEmpty())return null;var n=null,r=c(this.firstIndex()),o=c(this.lastIndex()),s=t-i.offset,a=e-i.offset;s=Math.max(s,r),a=Math.min(a,o);var l=30*Math.ceil(s/30),h=Math.max(l,30*Math.floor(a/30)),u=this._lowerbound(s),d=this._upperbound(Math.min(a,l,e));n=qt(n,this._plotMinMax(u,d,i));var p=this._minMaxCache.get(i.name);void 0===p&&(p=new Map,this._minMaxCache.set(i.name,p));for(var f=Math.max(l+1,s);f<h;f+=30){var _=Math.floor(f/30),m=p.get(_);if(void 0===m){var v=this._lowerbound(30*_),g=this._upperbound(30*(_+1)-1);m=this._plotMinMax(v,g,i),p.set(_,m)}n=qt(n,m)}return u=this._lowerbound(h),d=this._upperbound(a),qt(n,this._plotMinMax(u,d,i))},t}();function qt(t,e){return null===t?e:null===e?t:{min:Math.min(t.min,e.min),max:Math.max(t.max,e.max)}}!function(t){t[t.Open=0]="Open",t[t.High=1]="High",t[t.Low=2]="Low",t[t.Close=3]="Close",t[t.Color=4]="Color"}(Ft||(Ft={}));var Ut={open:function(t){return t[0]},high:function(t){return t[1]},low:function(t){return t[2]},close:function(t){return t[3]},hl2:function(t){return(t[1]+t[2])/2},hlc3:function(t){return(t[1]+t[2]+t[3])/3},ohlc4:function(t){return(t[0]+t[1]+t[2]+t[3])/4}},Yt=["open","high","low","close","hl2","hlc3","ohlc4"];function Xt(t){return Ut[t]}var Gt,Zt=function(){function t(){var t;this._bars=new jt((t=new Map,Yt.forEach(function(e,i){t.set(e,Xt(e))}),t))}return t.prototype.bars=function(){return this._bars},t.prototype.size=function(){return this._bars.size()},t.prototype.each=function(t){this._bars.each(t)},t.prototype.clear=function(){this._bars.clear()},t.prototype.isEmpty=function(){return this._bars.isEmpty()},t.prototype.first=function(){return this._bars.first()},t.prototype.last=function(){return this._bars.last()},t.prototype.search=function(t,e){return this.bars().search(t,e)},t.prototype.valueAt=function(t){return this.search(t)},t}(),Jt=function(t){function e(e,i,n){var r=t.call(this,e)||this;r._data=new Zt,r._priceLineView=new Vt(r),r._baseHorizontalLineView=new $t(r),r._endOfData=!1,r._paneView=null,r._barColorerCache=null,r._palette=new Nt,r._options=i,r._seriesType=n,r.createPaneView();var o=new Bt(r,{model:e});return r._priceAxisViews=[o],r._panePriceAxisView=new It(o,r,e),r._recreateFormatter(),r._updateBarFunction(),r._barFunction=r.barFunction(),r}return o(e,t),e.prototype.destroy=function(){},e.prototype.endOfData=function(){return this._endOfData},e.prototype.priceLineColor=function(t){return this._options.priceLineColor||t},e.prototype.lastValueData=function(t,e,i){var n={noData:!0},r=this.priceScale();if(this.model().timeScale().isEmpty()||r.isEmpty()||this.data().isEmpty())return n;var o,s,a=this.model().timeScale().visibleBars(),l=this.firstValue();if(null===a||null===l)return n;if(e){var c=this.data().bars().last();if(null===c)return n;o=c,s=c.index}else{var h=this.data().bars().search(a.lastBar(),-1);if(null===h)return n;if(null===(o=this.data().bars().valueAt(h.index)))return n;s=h.index}var u=void 0!==t?o.value[t]:this._barFunction(o.value),d=this.barColorer().barStyle(s,{value:o}),p=r.priceToCoordinate(u,l,!0);return{noData:!1,price:i?u:void 0,text:r.formatPrice(u,l),formattedPriceAbsolute:r.formatPriceAbsolute(u),formattedPricePercentage:r.formatPricePercentage(u,l),color:d.barColor,floatCoordinate:p,coordinate:Math.round(p),index:s}},e.prototype.data=function(){return this._data},e.prototype.createPaneView=function(){switch(this._paneView=null,this._seriesType){case"Bar":this._paneView=new Ct(this,this.model());break;case"Candlestick":this._paneView=new Mt(this,this.model());break;case"Line":this._paneView=new Dt(this,this.model());break;case"Area":this._paneView=new yt(this,this.model());break;case"Histogram":this._paneView=new Et(this,this.model());break;default:throw Error("Unknown chart style assigned: "+this._seriesType)}},e.prototype.barColorer=function(){return null!==this._barColorerCache?this._barColorerCache:(this._barColorerCache=new Ht(this),this._barColorerCache)},e.prototype.options=function(){return this._options},e.prototype.applyOptions=function(t){var e=this._options.overlay;u(this._options,t),this._options.overlay=e,e&&null!==this._priceScale&&void 0!==t.scaleMargins&&this._priceScale.applyOptions({scaleMargins:this._options.scaleMargins}),this._recreateFormatter(),this.model().updateSource(this)},e.prototype.setData=function(t,e,i){this._data.clear(),this._data.bars().merge(t),e&&(this._palette=void 0===i?new Nt:i),null!==this._paneView&&this._paneView.update("data");var n=this.model().paneForSource(this);this.model().recalculatePane(n),this.model().updateSource(this),this.model().updateCrosshair(),this.model().lightUpdate()},e.prototype.updateData=function(t){this._data.bars().merge(t),null!==this._paneView&&this._paneView.update("data");var e=this.model().paneForSource(this);this.model().recalculatePane(e),this.model().updateSource(this),this.model().updateCrosshair(),this.model().lightUpdate()},e.prototype.palette=function(){return this._palette},e.prototype.seriesType=function(){return this._seriesType},e.prototype.firstValue=function(){var t=this.firstBar();return null===t?null:this._barFunction(t.value)},e.prototype.firstBar=function(){var t=this.model().timeScale().visibleBars();if(null===t)return null;var e=t.firstBar();return this.data().search(e,1)},e.prototype.bars=function(){return this._data.bars()},e.prototype.nearestIndex=function(t,e){var i=this.nearestData(t,e);return i?i.index:null},e.prototype.nearestData=function(t,e){return p(t)?this.data().search(t,e):null},e.prototype.paneViews=function(){var t=[];return this.priceScale()===this.model().mainPriceScale()&&t.push(this._baseHorizontalLineView),t.push(c(this._paneView)),t.push(this._priceLineView),t.push(this._panePriceAxisView),t},e.prototype.priceAxisViews=function(t,e){return this._priceAxisViews},e.prototype.priceRange=function(t,e){if(!p(t))return null;if(!p(e))return null;if(this.data().isEmpty())return null;var i,n="Line"===this._seriesType||"Area"===this._seriesType||"Histogram"===this._seriesType?"close":null,r=null!==(i=null!==n?this.data().bars().minMaxOnRangeCached(t,e,[{name:n,offset:0}]):this.data().bars().minMaxOnRangeCached(t,e,[{name:"low",offset:0},{name:"high",offset:0}]))?i.min===i.max?new G(i.min-.5,i.max+.5):new G(i.min,i.max):new G(-.5,.5);if("Histogram"===this.seriesType()){var o=this._options.base;r=r.merge(new G(o,o))}return r},e.prototype.base=function(){return Math.round(1/this._options.priceFormat.minMove)},e.prototype.formatter=function(){return this._formatter},e.prototype.barFunction=function(){return this._barFunction},e.prototype.updateAllViews=function(){if(null!==this._paneView){this._paneView.update();for(var t=this._priceAxisViews.length,e=0;e<t;e++)this._priceAxisViews[e].update();this._priceLineView.update(),this._baseHorizontalLineView.update()}},e.prototype.setPriceScale=function(t){this._priceScale!==t&&(this._priceScale=t)},e.prototype.priceScale=function(){return c(this._priceScale)},e.prototype.markerDataAtIndex=function(t){if("Line"!==this._seriesType&&"Area"!==this._seriesType||!this._options.crosshairMarkerVisible)return null;var e=this._data.valueAt(t);return null===e?null:{price:this._barFunction(e.value),radius:this._markerRadius()}},e.prototype.title=function(){return this._options.title},e.prototype._markerRadius=function(){switch(this._seriesType){case"Line":case"Area":return this._options.crosshairMarkerRadius}return 0},e.prototype._recreateFormatter=function(){switch(this._options.priceFormat.type){case"volume":this._formatter=new lt(this._options.priceFormat.precision);break;case"percent":this._formatter=new U(this._options.priceFormat.precision);break;default:var t=Math.pow(10,this._options.priceFormat.precision);this._formatter=new q(t,this._options.priceFormat.minMove*t,!1,void 0)}null!==this._priceScale&&this._priceScale.updateFormatter()},e.prototype._updateBarFunction=function(){this._barFunction=Xt("close")},e}(X);function Kt(t){return t.slice().sort(function(t,e){return c(t.zorder())-c(e.zorder())})}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Gt||(Gt={}));var Qt=new U,te=new q(100,1),ee=function(){function t(t,e,i){this._height=0,this._internalHeightCache=null,this._internalHeightChanged=new Y,this._priceRange=null,this._priceRangeSnapshot=null,this._priceRangeChanged=new Y,this._invalidatedForRange={isValid:!1,visibleBars:null},this._onMarksChanged=new Y,this._modeChanged=new Y,this._dataSources=[],this._cachedOrderedSources=null,this._hasSeries=!1,this._mainSource=null,this._marksCache=null,this._scaleStartPoint=null,this._scrollStartPoint=null,this._formatter=te,this._optionsChanged=new Y,this._options=t,this._layoutOptions=e,this._localizationOptions=i,this._markBuilder=new at(this,100,this._coordinateToLogical.bind(this),this._logicalToCoordinate.bind(this))}return t.prototype.options=function(){return this._options},t.prototype.applyOptions=function(t){if(u(this._options,t),this.updateFormatter(),void 0!==t.mode&&this.setMode({mode:t.mode}),this._optionsChanged.fire(),void 0!==t.scaleMargins){var e=l(t.scaleMargins.top),i=l(t.scaleMargins.bottom);if(e<0||e>1)throw new Error("Invalid top margin - expect value between 0 and 1, given="+e);if(i<0||i>1||e+i>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given="+i);if(e+i>1)throw new Error("Invalid margins - sum of margings must be less than 1, given="+(e+i));this._invalidateInternalHeightCache(),this._marksCache=null}},t.prototype.optionsChanged=function(){return this._optionsChanged},t.prototype.isAutoScale=function(){return this._options.autoScale},t.prototype.isLog=function(){return 1===this._options.mode},t.prototype.isPercentage=function(){return 2===this._options.mode},t.prototype.isIndexedTo100=function(){return 3===this._options.mode},t.prototype.mode=function(){return{autoScale:this._options.autoScale,isInverted:this._options.invertScale,mode:this._options.mode}},t.prototype.setMode=function(t){var e=this.mode(),i=null;void 0!==t.autoScale&&(this._options.autoScale=t.autoScale),void 0!==t.mode&&(this._options.mode=t.mode,2!==t.mode&&3!==t.mode||(this._options.autoScale=!0),this._invalidatedForRange.isValid=!1),1===e.mode&&t.mode!==e.mode&&(function(t){if(null===t)return!1;var e=rt(t.minValue()),i=rt(t.maxValue());return isFinite(e)&&isFinite(i)}(this._priceRange)?null!==(i=function(t){if(null===t)return null;var e=rt(t.minValue()),i=rt(t.maxValue());return new G(e,i)}(this._priceRange))&&this.setPriceRange(i):this._options.autoScale=!0),1===t.mode&&t.mode!==e.mode&&null!==(i=ot(this._priceRange))&&this.setPriceRange(i);var n=e.mode!==this._options.mode;n&&(2===e.mode||this.isPercentage())&&this.updateFormatter(),n&&(3===e.mode||this.isIndexedTo100())&&this.updateFormatter(),void 0!==t.isInverted&&e.isInverted!==t.isInverted&&(this._options.invertScale=t.isInverted,this._onIsInvertedChanged()),this._modeChanged.fire(e,this.mode())},t.prototype.modeChanged=function(){return this._modeChanged},t.prototype.fontSize=function(){return this._layoutOptions.fontSize},t.prototype.height=function(){return this._height},t.prototype.setHeight=function(t){this._height!==t&&(this._height=t,this._invalidateInternalHeightCache(),this._marksCache=null)},t.prototype.topMargin=function(){return this.isInverted()?this._options.scaleMargins.bottom:this._options.scaleMargins.top},t.prototype.bottomMargin=function(){return this.isInverted()?this._options.scaleMargins.top:this._options.scaleMargins.bottom},t.prototype.internalHeight=function(){if(this._internalHeightCache)return this._internalHeightCache;var t=this.height()*(1-this.topMargin()-this.bottomMargin());return this._internalHeightCache=t,t},t.prototype.internalHeightChanged=function(){return this._internalHeightChanged},t.prototype.priceRange=function(){return this._makeSureItIsValid(),this._priceRange},t.prototype.priceRangeChanged=function(){return this._priceRangeChanged},t.prototype.setPriceRange=function(t,e,i){var n=this._priceRange;(e||null===n&&null!==t||null!==n&&!n.equals(t))&&(this._marksCache=null,this._priceRange=t,i||this._priceRangeChanged.fire(n,t))},t.prototype.isEmpty=function(){return this._makeSureItIsValid(),0===this._height||!this._priceRange||this._priceRange.isEmpty()},t.prototype.invertedCoordinate=function(t){return this.isInverted()?t:this.height()-1-t},t.prototype.priceToCoordinate=function(t,e,i){return this.isPercentage()?t=Q(t,e):this.isIndexedTo100()&&(t=et(t,e)),this._logicalToCoordinate(t,e,i)},t.prototype.pointsArrayToCoordinates=function(t,e,i){this._makeSureItIsValid();for(var n=this.bottomMargin()*this.height(),r=c(this.priceRange()),o=r.minValue(),s=r.maxValue(),a=this.internalHeight()-1,l=this.isInverted(),h=a/(s-o),u=void 0===i?0:i.from,d=void 0===i?t.length:i.to,p=this._getCoordinateTransformer(),f=u;f<d;f++){var _=t[f],m=_.price;if(!isNaN(m)){var v=m;null!==p&&(v=p(_.price,e));var g=n+h*(v-o);_.y=Math.round(l?g:this._height-1-g)}}},t.prototype.barPricesToCoordinates=function(t,e,i){this._makeSureItIsValid();for(var n=this.bottomMargin()*this.height(),r=c(this.priceRange()),o=r.minValue(),s=r.maxValue(),a=this.internalHeight()-1,l=this.isInverted(),h=a/(s-o),u=void 0===i?0:i.from,d=void 0===i?t.length:i.to,p=this._getCoordinateTransformer(),f=u;f<d;f++){var _=t[f],m=_.open,v=_.high,g=_.low,y=_.close;null!==p&&(m=p(_.open,e),v=p(_.high,e),g=p(_.low,e),y=p(_.close,e));var b=n+h*(m-o),S=l?b:this._height-1-b;_.openY=Math.round(S),b=n+h*(v-o),S=l?b:this._height-1-b,_.highY=Math.round(S),b=n+h*(g-o),S=l?b:this._height-1-b,_.lowY=Math.round(S),b=n+h*(y-o),S=l?b:this._height-1-b,_.closeY=Math.round(S)}},t.prototype.coordinateToPrice=function(t,e){var i=this._coordinateToLogical(t,e);return this.logicalToPrice(i,e)},t.prototype.logicalToPrice=function(t,e){var i=t;return this.isPercentage()?i=function(t,e){return e<0&&(t=-t),t/100*e+e}(i,e):this.isIndexedTo100()&&(i=function(t,e){return t-=100,e<0&&(t=-t),t/100*e+e}(i,e)),i},t.prototype.dataSources=function(){return this._dataSources},t.prototype.orderedSources=function(){if(this._cachedOrderedSources)return this._cachedOrderedSources;for(var t=[],e=0;e<this._dataSources.length;e++){var i=this._dataSources[e];null===i.zorder()&&i.setZorder(e+1),t.push(i)}return t=Kt(t),this._cachedOrderedSources=t,this._cachedOrderedSources},t.prototype.hasSeries=function(){return this._hasSeries},t.prototype.addDataSource=function(t){-1===this._dataSources.indexOf(t)&&(t instanceof Jt&&(this._hasSeries=!0),this._dataSources.push(t),this._mainSource=null,this.updateFormatter(),this.invalidateSourcesCache())},t.prototype.removeDataSource=function(t){var e=this._dataSources.indexOf(t);if(-1===e)throw new Error("source is not attached to scale");this._dataSources.splice(e,1),t instanceof Jt&&(this._hasSeries=!1),this.mainSource()||this.setMode({autoScale:!0}),this._mainSource=null,this.updateFormatter(),this.invalidateSourcesCache()},t.prototype.mainSource=function(){if(null!==this._mainSource)return this._mainSource;for(var t=null,e=0;e<this._dataSources.length;e++){var i=this._dataSources[e];if(i instanceof Jt){t=i;break}null===t&&i instanceof X&&(t=i)}return this._mainSource=t,this._mainSource},t.prototype.isInverted=function(){return this._options.invertScale},t.prototype.marks=function(){return this._marksCache?this._marksCache:(this._markBuilder.rebuildTickMarks(),this._marksCache=this._markBuilder.marks(),this._onMarksChanged.fire(),this._marksCache)},t.prototype.onMarksChanged=function(){return this._onMarksChanged},t.prototype.startScale=function(t){this.isPercentage()||this.isIndexedTo100()||null===this._scaleStartPoint&&null===this._priceRangeSnapshot&&(this.isEmpty()||(this._scaleStartPoint=this._height-t,this._priceRangeSnapshot=c(this.priceRange()).clone()))},t.prototype.scaleTo=function(t){if(!this.isPercentage()&&!this.isIndexedTo100()&&null!==this._scaleStartPoint){this.setMode({autoScale:!1}),(t=this._height-t)<0&&(t=0);var e=(this._scaleStartPoint+.2*(this._height-1))/(t+.2*(this._height-1)),i=c(this._priceRangeSnapshot).clone();e=Math.max(e,.1),i.scaleAroundCenter(e),this.setPriceRange(i)}},t.prototype.endScale=function(){this.isPercentage()||this.isIndexedTo100()||(this._scaleStartPoint=null,this._priceRangeSnapshot=null)},t.prototype.startScroll=function(t){this.isAutoScale()||null===this._scrollStartPoint&&null===this._priceRangeSnapshot&&(this.isEmpty()||(this._scrollStartPoint=t,this._priceRangeSnapshot=c(this.priceRange()).clone()))},t.prototype.scrollTo=function(t){if(!this.isAutoScale()&&null!==this._scrollStartPoint){var e=c(this.priceRange()).length()/(this.height()-1),i=t-this._scrollStartPoint;this.isInverted()&&(i*=-1);var n=i*e,r=c(this._priceRangeSnapshot).clone();r.shift(n),this.setPriceRange(r,!0),this._marksCache=null}},t.prototype.endScroll=function(){this.isAutoScale()||null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._priceRangeSnapshot=null)},t.prototype.formatter=function(){return this._formatter||this.updateFormatter(),this._formatter},t.prototype.formatPrice=function(t,e){switch(this._options.mode){case 2:return this.formatter().format(Q(t,e));case 3:return this.formatter().format(et(t,e));default:return this._formatPrice(t)}},t.prototype.formatLogical=function(t){switch(this._options.mode){case 2:case 3:return this.formatter().format(t);default:return this._formatPrice(t)}},t.prototype.formatPriceAbsolute=function(t){return this._formatPrice(t,this._mainSourceFormatter())},t.prototype.formatPricePercentage=function(t,e){return t=Q(t,e),Qt.format(t)},t.prototype.sourcesForAutoScale=function(){return this._dataSources.filter(function(t){return t instanceof X})},t.prototype.recalculatePriceRange=function(t){this._invalidatedForRange={visibleBars:t,isValid:!1}},t.prototype.updateAllViews=function(){this._dataSources.forEach(function(t){return t.updateAllViews()})},t.prototype.updateFormatter=function(){this._marksCache=null;var t=this.mainSource(),e=100;null!==t&&(e=t.base()),this._formatter=te,this.isPercentage()?(this._formatter=Qt,e=100):this.isIndexedTo100()?(this._formatter=new q(100,1),e=100):null!==t&&(this._formatter=t.formatter()),this._markBuilder=new at(this,e,this._coordinateToLogical.bind(this),this._logicalToCoordinate.bind(this)),this._markBuilder.rebuildTickMarks()},t.prototype.invalidateSourcesCache=function(){this._cachedOrderedSources=null},t.prototype._makeSureItIsValid=function(){this._invalidatedForRange.isValid||(this._invalidatedForRange.isValid=!0,this._recalculatePriceRangeImpl())},t.prototype._invalidateInternalHeightCache=function(){this._internalHeightCache=null,this._internalHeightChanged.fire()},t.prototype._logicalToCoordinate=function(t,e,i){if(this._makeSureItIsValid(),this.isEmpty())return 0;t=this.isLog()&&t?nt(t):t;var n=c(this.priceRange()),r=this.bottomMargin()*this.height()+(this.internalHeight()-1)*(t-n.minValue())/n.length(),o=this.invertedCoordinate(r);return i?o:Math.round(o)},t.prototype._coordinateToLogical=function(t,e){if(this._makeSureItIsValid(),this.isEmpty())return 0;var i=this.invertedCoordinate(t),n=c(this.priceRange()),r=n.minValue()+n.length()*((i-this.bottomMargin()*this.height())/(this.internalHeight()-1));return this.isLog()?rt(r):r},t.prototype._onIsInvertedChanged=function(){this._marksCache=null,this._markBuilder.rebuildTickMarks()},t.prototype._mainSourceFormatter=function(){return c(this.mainSource()).formatter()},t.prototype._recalculatePriceRangeImpl=function(){var t=this._invalidatedForRange.visibleBars;if(null!==t){for(var e=null,i=this.sourcesForAutoScale(),n=0;n<i.length;n++){var r=i[n],o=r.firstValue();if(null!==o){var s=t.firstBar(),a=t.lastBar(),l=r.priceRange(s,a);if(null!==l){switch(this._options.mode){case 1:l=ot(l);break;case 2:l=tt(l,o);break;case 3:l=it(l,o)}e=null===e?l:e.merge(c(l))}}}e?(e.minValue()===e.maxValue()&&(e=new G(e.minValue()-.5,e.maxValue()+.5)),this.setPriceRange(e)):null===this._priceRange&&this.setPriceRange(new G(-.5,.5)),this._invalidatedForRange.isValid=!0}},t.prototype._getCoordinateTransformer=function(){return this.isPercentage()?Q:this.isIndexedTo100()?et:this.isLog()?nt:null},t.prototype._formatPrice=function(t,e){return void 0===this._localizationOptions.priceFormatter?(void 0===e&&(e=this.formatter()),e.format(t)):this._localizationOptions.priceFormatter(t)},t}();function ie(t){return!d(t)}function ne(t){return d(t)}var re,oe="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function se(t,e,i){return void 0!==i?i+=" ":i="",void 0===e&&(e=oe),""+i+t+"px "+e}!function(t){t[t.BorderSize=1]="BorderSize",t[t.TickLength=4]="TickLength",t[t.OffsetSize=1]="OffsetSize"}(re||(re={}));var ae,le=function(){function t(t){this._rendererOptions={borderSize:1,tickLength:4,offsetSize:1,fontSize:NaN,font:"",fontFamily:"",color:"",paddingBottom:0,paddingInner:0,paddingOuter:0,paddingTop:0,baselineOffset:0},this._chartModel=t}return t.prototype.options=function(){var t=this._rendererOptions,e=this._fontSize(),i=this._fontFamily();return t.fontSize===e&&t.fontFamily===i||(t.fontSize=e,t.fontFamily=i,t.font=se(e,i),t.paddingTop=Math.floor(e/3.5),t.paddingBottom=t.paddingTop,t.paddingInner=Math.max(Math.ceil(e/2-t.tickLength/2),0),t.paddingOuter=Math.ceil(e/2+t.tickLength/2),t.baselineOffset=Math.round(e/5)),t.color=this._textColor(),this._rendererOptions},t.prototype._textColor=function(){return this._chartModel.options().layout.textColor},t.prototype._fontSize=function(){return this._chartModel.options().layout.fontSize},t.prototype._fontFamily=function(){return this._chartModel.options().layout.fontFamily},t}(),ce=function(){function t(){this._data=null}return t.prototype.setData=function(t){this._data=t},t.prototype.draw=function(t){if(null!==this._data){if(t.lineWidth=1,this._data.vertLinesVisible){t.strokeStyle=this._data.vertLinesColor,n(t,this._data.vertLineStyle),t.beginPath();for(var e=0,i=this._data.timeMarks;e<i.length;e++){var r=i[e];t.moveTo(r.coord+1,0),t.lineTo(r.coord+1,this._data.h)}t.stroke()}if(this._data.horzLinesVisible){t.strokeStyle=this._data.horzLinesColor,n(t,this._data.horzLineStyle),t.beginPath();for(var o=0,s=this._data.priceMarks;o<s.length;o++){var a=s[o];t.moveTo(0,a.coord),t.lineTo(this._data.w,a.coord)}t.stroke()}}},t}(),he=function(){function t(t){this._renderer=new ce,this._invalidated=!0,this._pane=t}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(t,e){if(this._invalidated){var i=this._pane.model().options().grid,n={h:t,w:e,horzLinesVisible:i.horzLines.visible,vertLinesVisible:i.vertLines.visible,horzLinesColor:i.horzLines.color,vertLinesColor:i.vertLines.color,horzLineStyle:i.horzLines.style,vertLineStyle:i.vertLines.style,priceMarks:this._pane.defaultPriceScale().marks(),timeMarks:this._pane.model().timeScale().marks()||[]};this._renderer.setData(n),this._invalidated=!1}return this._renderer},t}(),ue=function(){function t(){this._paneViews=new WeakMap,this._invalidated=!0}return t.prototype.paneViews=function(t){var e=this._paneViews.get(t);return void 0===e&&(e=[new he(t)],this._paneViews.set(t,e)),this._invalidated&&(e.forEach(function(t){return t.update()}),this._invalidated=!1),e},t.prototype.invalidate=function(){this._invalidated=!0},t}();!function(t){t[t.None=0]="None",t[t.Cursor=1]="Cursor",t[t.Light=2]="Light",t[t.Full=3]="Full"}(ae||(ae={}));var de=function(){function t(t){this._invalidatedPanes=new Map,this._force=!1,this._fitContent=!1,this._targetTimeRange=null,this._globalLevel=t}return t.prototype.invalidatePane=function(t,e){var i=function(t,e){return void 0===t?e:{level:Math.max(t.level,e.level),autoScale:t.autoScale||e.autoScale}}(this._invalidatedPanes.get(t),e);this._invalidatedPanes.set(t,i)},t.prototype.invalidateAll=function(t){this._globalLevel=Math.max(this._globalLevel,t)},t.prototype.fullInvalidation=function(){return this._globalLevel},t.prototype.invalidateForPane=function(t){var e=this._invalidatedPanes.get(t);return void 0===e?{level:this._globalLevel}:{level:Math.max(this._globalLevel,e.level),autoScale:e.autoScale}},t.prototype.setFitContent=function(){this._fitContent=!0,this._targetTimeRange=null},t.prototype.getFitContent=function(){return this._fitContent},t.prototype.setTargetTimeRange=function(t){this._targetTimeRange=t,this._fitContent=!1},t.prototype.getTargetTimeRange=function(){return this._targetTimeRange},t.prototype.merge=function(t){var e=this;this._force=this._force||t._force,t._fitContent&&this.setFitContent(),t._targetTimeRange&&this.setTargetTimeRange(t._targetTimeRange),this._globalLevel=Math.max(this._globalLevel,t._globalLevel),t._invalidatedPanes.forEach(function(t,i){e.invalidatePane(i,t)})},t}(),pe=function(){function t(t){this._options=t}return t.prototype.align=function(t,e,i){var n=t;if(0===this._options.mode)return n;var r=i.defaultPriceScale(),o=r.mainSource();if(r.isEmpty()||null===o)return n;var s=o.firstValue();if(null===s)return n;var a=r.priceToCoordinate(t,s),l=i.dataSources().filter(function(t){return t instanceof Jt}).reduce(function(t,n){if(i.isOverlay(n))return t;var r=n.priceScale(),o=n.bars();if(r.isEmpty()||!o.contains(e))return t;var s=o.valueAt(e);if(null===s)return t;var a=[s.value[3]],l=h(n.firstValue());return t.concat(a.map(function(t){return r.priceToCoordinate(t,l,!0)}))},[]);return 0===l.length?n:(l.sort(function(t,e){return Math.abs(t-a)-Math.abs(e-a)}),r.coordinateToPrice(l[0],s))},t}(),fe=1e3,_e=function(){function t(t,e){this._dataSources=[],this._overlaySources=[],this._height=0,this._width=0,this._stretchFactor=fe,this._mainDataSource=null,this._cachedOrderedSources=null,this._destroyed=new Y,this._timeScale=t,this._model=e,this.model().mainPriceScaleOptionsChanged().subscribe(this.onPriceScaleOptionsChanged.bind(this),this),this._defaultNonOverlayPriceScale=this._createPriceScale()}return t.prototype.onPriceScaleOptionsChanged=function(){this._defaultNonOverlayPriceScale.applyOptions(this._model.options().priceScale)},t.prototype.destroy=function(){this.model().mainPriceScaleOptionsChanged().unsubscribeAll(this),this._timeScale.barSpacingChanged().unsubscribeAll(this),this._defaultNonOverlayPriceScale.modeChanged().unsubscribeAll(this),this._dataSources.forEach(function(t){t.destroy&&t.destroy()}),this._destroyed.fire()},t.prototype.stretchFactor=function(){return this._stretchFactor},t.prototype.setStretchFactor=function(t){this._stretchFactor=t},t.prototype.model=function(){return this._model},t.prototype.width=function(){return this._width},t.prototype.height=function(){return this._height},t.prototype.setWidth=function(t){this._width=t,this.updateAllViews()},t.prototype.setHeight=function(t){var e=this;this._height=t,this._defaultNonOverlayPriceScale.setHeight(t),this._dataSources.forEach(function(i){if(e.isOverlay(i)){var n=i.priceScale();null!==n&&n.setHeight(t)}}),this.updateAllViews()},t.prototype.dataSources=function(){return this._dataSources},t.prototype.isOverlay=function(t){var e=t.priceScale();return null===e||this._defaultNonOverlayPriceScale!==e},t.prototype.addDataSource=function(t,e,i){var n=this._getZOrderMinMax().minZOrder-1;this._insertDataSource(t,e,n)},t.prototype.removeDataSource=function(t){var e=this._dataSources.indexOf(t);a(-1!==e,"removeDataSource: invalid data source"),this._dataSources.splice(e,1),t===this._mainDataSource&&(this._mainDataSource=null);var i=this._overlaySources.indexOf(t);-1!==i&&this._overlaySources.splice(i,1);var n=t.priceScale();if(n&&n.dataSources().indexOf(t)>=0&&n.removeDataSource(t),n&&null===n.mainSource()){var r=n.dataSources().length;a(0===r,"Invalid priceScale state: empty mainSource but non-empty data sources="+r),n!==this._defaultNonOverlayPriceScale&&n.modeChanged().unsubscribeAll(this)}t instanceof X&&this._processMainSourceChange(),n&&t instanceof X&&(n.invalidateSourcesCache(),this.recalculatePriceScale(n)),this._cachedOrderedSources=null},t.prototype.priceScalePosition=function(){var t=this._model.options().priceScale.position;return"none"===t?"overlay":t},t.prototype.startScalePrice=function(t,e){t.startScale(e)},t.prototype.scalePriceTo=function(t,e){t.scaleTo(e),this.updateAllViews()},t.prototype.endScalePrice=function(t){t.endScale()},t.prototype.startScrollPrice=function(t,e){t.startScroll(e)},t.prototype.scrollPriceTo=function(t,e){t.scrollTo(e),this.updateAllViews()},t.prototype.endScrollPrice=function(t){t.endScroll()},t.prototype.setPriceAutoScale=function(t,e){t.setMode({autoScale:e}),this._timeScale.isEmpty()?t.setPriceRange(null):this.recalculatePriceScale(t)},t.prototype.updateAllViews=function(){this._dataSources.forEach(function(t){t.updateAllViews()})},t.prototype.defaultPriceScale=function(){var t=this.mainDataSource(),e=null!==t?t.priceScale():null;return null===e&&(e=this._defaultNonOverlayPriceScale),e},t.prototype.mainDataSource=function(){return this._mainDataSource},t.prototype.recalculatePriceScale=function(t){null!==t&&t.isAutoScale()&&this._recalculatePriceScaleImpl(t)},t.prototype.resetPriceScale=function(t){var e=this._timeScale.visibleBars();t.setMode({autoScale:!0}),null!==e&&t.recalculatePriceRange(e),this.updateAllViews()},t.prototype.momentaryAutoScale=function(){this._recalculatePriceScaleImpl(this._defaultNonOverlayPriceScale)},t.prototype.recalculate=function(){var t=this;this.recalculatePriceScale(this._defaultNonOverlayPriceScale),this._dataSources.forEach(function(e){t.isOverlay(e)&&t.recalculatePriceScale(e.priceScale())}),this.updateAllViews(),this._model.updatePane(this)},t.prototype.isEmpty=function(){return null===this._mainDataSource},t.prototype.containsSeries=function(){return this._dataSources.some(function(t){return t instanceof Jt})},t.prototype.orderedSources=function(){return null===this._cachedOrderedSources&&(this._cachedOrderedSources=Kt(this._dataSources)),this._cachedOrderedSources},t.prototype.onDestroyed=function(){return this._destroyed},t.prototype._findSuitableScale=function(t,e){return"overlay"!==e?this._defaultNonOverlayPriceScale:this._createPriceScale()},t.prototype._recalculatePriceScaleImpl=function(t){var e=t.sourcesForAutoScale();if(e&&e.length>0&&!this._timeScale.isEmpty()){var i=this._timeScale.visibleBars();null!==i&&t.recalculatePriceRange(i)}t.updateAllViews()},t.prototype._getZOrderMinMax=function(){var t=this.orderedSources();if(0===t.length)return{minZOrder:0,maxZOrder:0};for(var e=0,i=0,n=0;n<t.length;n++){var r=t[n].zorder();null!==r&&(r<e&&(e=r),r>i&&(i=r))}return{minZOrder:e,maxZOrder:i}},t.prototype._insertDataSource=function(t,e,i){var n="overlay",r=null;if(!e){var o=this.model().options().priceScale.position;n="none"===o?"overlay":o}t instanceof X&&(r=this._findSuitableScale(t,n)),this._dataSources.push(t),e&&this._overlaySources.push(t),null!==r&&(r.addDataSource(t),t.setPriceScale(r)),t.setZorder(i),this._processMainSourceChange(),t instanceof X&&this.recalculatePriceScale(r),this._cachedOrderedSources=null},t.prototype._onPriceScaleModeChanged=function(t,e,i){e.mode!==i.mode&&this._recalculatePriceScaleImpl(t)},t.prototype._processMainSourceChange=function(){if(null===this._mainDataSource||-1!==this._overlaySources.indexOf(this._mainDataSource)){for(var t=0,e=this._dataSources;t<e.length;t++)if((r=e[t])instanceof X&&!this.isOverlay(r))return void this._setMainSource(r);for(var i=0,n=this._overlaySources;i<n.length;i++){var r;if((r=n[i])instanceof X)return void this._setMainSource(r)}}},t.prototype._setMainSource=function(t){var e=c(t.priceScale());this.defaultPriceScale().modeChanged().unsubscribeAll(this),e.modeChanged().subscribe(this._onPriceScaleModeChanged.bind(this,e),this),this._mainDataSource=t},t.prototype._createPriceScale=function(){var t=new ee(m(this._model.options().priceScale),this._model.options().layout,this._model.options().localization);return t.setHeight(this.height()),t},t}(),me=function(t){return t.getUTCFullYear()},ve=function(t){return F(function(t){return t.getUTCDate()}(t),2)},ge=function(t){return F(function(t){return t.getUTCMonth()+1}(t),2)},ye=function(t){return F(me(t)%100,2)},be=function(t){return F(me(t),4)},Se={"dd MMM 'yy":function(t,e){return ve(t)+" "+function(t,e){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(e,{month:"short"})}(t,e)+" '"+ye(t)},"yyyy-MM-dd":function(t,e){return be(t)+"-"+ge(t)+"-"+ve(t)},"yy-MM-dd":function(t,e){return ye(t)+"-"+ge(t)+"-"+ve(t)},"yy/MM/dd":function(t,e){return ye(t)+"/"+ge(t)+"/"+ve(t)},"yyyy/MM/dd":function(t,e){return be(t)+"/"+ge(t)+"/"+ve(t)},"dd-MM-yyyy":function(t,e){return ve(t)+"-"+ge(t)+"-"+be(t)},"dd-MM-yy":function(t,e){return ve(t)+"-"+ge(t)+"-"+ye(t)},"dd/MM/yy":function(t,e){return ve(t)+"/"+ge(t)+"/"+ye(t)},"dd/MM/yyyy":function(t,e){return ve(t)+"/"+ge(t)+"/"+be(t)},"MM/dd/yy":function(t,e){return ge(t)+"/"+ve(t)+"/"+ye(t)},"MM/dd/yyyy":function(t,e){return ge(t)+"/"+ve(t)+"/"+be(t)}},we=function(){function t(t,e){void 0===t&&(t="yyyy-MM-dd"),void 0===e&&(e="default"),this._dateFormatFunc=Se[t],this._locale=e}return t.prototype.format=function(t){return this._dateFormatFunc(t,this._locale)},t}(),xe=function(){function t(t){this._formatStr=t||"%h:%m:%s"}return t.prototype.format=function(t){return this._formatStr.replace("%h",F(t.getUTCHours(),2)).replace("%m",F(t.getUTCMinutes(),2)).replace("%s",F(t.getUTCSeconds(),2))},t}(),Ce={dateFormat:"yyyy-MM-dd",timeFormat:"%h:%m:%s",dateTimeSeparator:" ",locale:"default"},ke=function(){function t(t){void 0===t&&(t={});var e=s({},Ce,t);this._dateFormatter=new we(e.dateFormat,e.locale),this._timeFormatter=new xe(e.timeFormat),this._separator=e.dateTimeSeparator}return t.prototype.format=function(t){return""+this._dateFormatter.format(t)+this._separator+this._timeFormatter.format(t)},t}(),Te=function(){function t(t,e){a(t<=e,"The last bar in the bars range should be greater than or equal to the first bar"),this._firstBar=t,this._lastBar=e}return t.prototype.firstBar=function(){return this._firstBar},t.prototype.lastBar=function(){return this._lastBar},t.prototype.count=function(){return this._lastBar-this._firstBar+1},t.prototype.contains=function(t){return this._firstBar<=t&&t<=this._lastBar},t.prototype.equals=function(t){return this._firstBar===t.firstBar()&&this._lastBar===t.lastBar()},t}(),Me=function(){function t(t,e){void 0===e&&(e=50),this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._cache=new Map,this._tick2Labels=new Map,this._format=t,this._maxSize=e}return t.prototype.format=function(t){var e=this._cache.get(t.valueOf());if(void 0!==e)return e.string;if(this._actualSize===this._maxSize){var i=this._tick2Labels.get(this._oldestTick);this._tick2Labels.delete(this._oldestTick),this._cache.delete(l(i)),this._oldestTick++,this._actualSize--}var n=this._format(t);return this._cache.set(t.valueOf(),{string:n,tick:this._usageTick}),this._tick2Labels.set(this._usageTick,t.valueOf()),this._actualSize++,this._usageTick++,n},t}();function Pe(t,e){return t.index-e.index}var Ee,De,Ae=function(){function t(){this._minIndex=1/0,this._maxIndex=-1/0,this._marksByIndex=new Map,this._marksBySpan=[],this._changed=new Y,this._cache=null,this._maxBar=NaN}return t.prototype.reset=function(){this._marksByIndex.clear(),this._marksBySpan=[],this._minIndex=1/0,this._maxIndex=-1/0,this._cache=null,this._changed.fire()},t.prototype.merge=function(t){for(var e=this._marksBySpan,i={},n=0,r=t;n<r.length;n++){var o=r[n],s=o.index,a=o.span,l=this._marksByIndex.get(o.index);if(l){if(l.index===o.index&&l.span===o.span){l.time=o.time;continue}this._removeTickMark(l)}this._marksByIndex.set(s,o),this._minIndex>s&&(this._minIndex=s),this._maxIndex<s&&(this._maxIndex=s),void 0===(c=e[a])&&(e[a]=c=[]),c.push(o),i[a]=!0}for(a=e.length;a--;){var c;void 0!==(c=e[a])&&(0===c.length&&delete e[a],i[a]&&c.sort(Pe))}this._cache=null,this._changed.fire()},t.prototype.indexToTime=function(t){var e=this._marksByIndex.get(t);return void 0===e?null:e.time},t.prototype.nearestIndex=function(t){for(var e=this._minIndex,i=this._maxIndex;i-e>2;){if(1e3*l(this._marksByIndex.get(e)).time.timestamp===t)return e;if(1e3*l(this._marksByIndex.get(i)).time.timestamp===t)return i;var n=Math.round((e+i)/2);1e3*l(this._marksByIndex.get(n)).time.timestamp>t?i=n:e=n}return e},t.prototype.build=function(t,e){var i=Math.ceil(e/t);if(this._maxBar===i&&this._cache)return this._cache;this._maxBar=i;for(var n=[],r=this._marksBySpan.length;r--;)if(this._marksBySpan[r]){var o=n;n=[];for(var s=o.length,a=0,c=l(this._marksBySpan[r]),h=c.length,u=1/0,d=-1/0,p=0;p<h;p++){for(var f=c[p],_=f.index;a<s;){var m=o[a],v=m.index;if(!(v<_)){u=v;break}a++,n.push(m),d=v,u=1/0}u-_>=i&&_-d>=i&&(n.push(f),d=_)}for(;a<s;a++)n.push(o[a])}return this._cache=n,this._cache},t.prototype._removeTickMark=function(t){var e=t.index;if(this._marksByIndex.get(e)===t){this._marksByIndex.delete(e),e<=this._minIndex&&this._minIndex++,e>=this._maxIndex&&this._maxIndex--,this._maxIndex<this._minIndex&&(this._minIndex=1/0,this._maxIndex=-1/0);var i=l(this._marksBySpan[t.span]),n=i.indexOf(t);-1!==n&&i.splice(n,1)}},t}(),Oe=function(){function t(){this._items=[]}return t.prototype.clear=function(){this._items=[]},t.prototype.size=function(){return this._items.length},t.prototype.firstIndex=function(){return this._offsetToIndex(0)},t.prototype.lastIndex=function(){return this._offsetToIndex(this._items.length-1)},t.prototype.merge=function(t,e){if(0!==e.length)if(0!==this._items.length){var i=t;if(i<0){var n=Math.abs(i);if(e.length<n)return;this._items=new Array(n).concat(this._items);for(var r=0;r<e.length;++r)this._items[t+r]=e[r]}else{for(var o=i;o<this._items.length&&o-i<e.length;++o)this._items[o]=e[o-i];var s=i+e.length;if(s>this._items.length){n=s-this._items.length;for(var a=o;a<o+n;++a)this._items.push(e[a-i])}}}else this._items=e},t.prototype.valueAt=function(t){var e=this._indexToOffset(t);return null!==e?this._items[e]:null},t.prototype.indexOf=function(t,e){if(this._items.length<1)return null;if(t>this._items[this._items.length-1].timestamp)return e?this._items.length-1:null;for(var i=0;i<this._items.length;++i){if(t===this._items[i].timestamp)return i;if(t<this._items[i].timestamp)return e?i:null}return null},t.prototype.closestIndexLeft=function(t){var e=this._items;if(!e.length)return null;if(Number.isNaN(t.timestamp))return null;var i=e.length-1;if(t>=e[i])return i;var n=0,r=e[n];if(t<r)return null;if(t===r)return n;for(;i>n+1;){var o=n+i>>1,s=e[o];if(s.timestamp>t.timestamp)i=o;else{if(!(s.timestamp<t.timestamp))return s.timestamp===t.timestamp?o:null;n=o}}return n},t.prototype._offsetToIndex=function(t){return 0<=t&&t<this.size()?t:null},t.prototype._indexToOffset=function(t){return 0<=t&&t<this.size()?t:null},t}();!function(t){t[t.DefaultAnimationDuration=400]="DefaultAnimationDuration",t[t.MaxBarSpacing=50]="MaxBarSpacing",t[t.MinBarSpacing=.5]="MinBarSpacing",t[t.MinVisibleBarsCount=5]="MinVisibleBarsCount"}(Ee||(Ee={})),function(t){t[t.Minute=20]="Minute",t[t.Hour=30]="Hour",t[t.Day=40]="Day",t[t.Week=50]="Week",t[t.Month=60]="Month",t[t.Year=70]="Year"}(De||(De={}));var Le=function(){function t(t,e,i){this._width=0,this._baseIndexOrNull=null,this._points=new Oe,this._barSpacingChanged=new Y,this._scrollStartPoint=null,this._scaleStartPoint=null,this._tickMarks=new Ae,this._formattedBySpan=new Map,this._visibleBars=null,this._visibleBarsInvalidated=!0,this._visibleBarsChanged=new Y,this._optionsApplied=new Y,this._leftEdgeIndex=null,this._commonTransitionStartState=null,this._timeMarksCache=null,this._labels=[],this._options=e,this._localizationOptions=i,this._rightOffset=e.rightOffset,this._barSpacing=Ie(e.barSpacing),this._model=t,this._updateDateTimeFormatter()}return t.prototype.options=function(){return this._options},t.prototype.applyLocalizationOptions=function(t){u(this._localizationOptions,t),this._invalidateTickMarks(),this._updateDateTimeFormatter()},t.prototype.applyOptions=function(t,e){if(u(this._options,t),this._options.fixLeftEdge){var i=this._points.firstIndex();null!==i&&this.setLeftEdgeFix(i)}else this._leftEdgeIndex=null;void 0!==t.rightOffset&&this.setRightOffset(t.rightOffset),void 0!==t.barSpacing&&this.setBarSpacing(t.barSpacing),this._invalidateTickMarks(),this._updateDateTimeFormatter(),this._optionsApplied.fire()},t.prototype.isEmpty=function(){return 0===this._width||0===this._points.size()},t.prototype.visibleBars=function(){return this._visibleBarsInvalidated&&(this._visibleBarsInvalidated=!1,this._updateVisibleBars()),this._visibleBars},t.prototype.tickMarks=function(){return this._tickMarks},t.prototype.points=function(){return this._points},t.prototype.width=function(){return this._width},t.prototype.setWidth=function(t){!isFinite(t)||t<=0||this._width===t||(this._visibleBarsInvalidated=!0,this._options.lockVisibleTimeRangeOnResize&&this._width&&this._setBarSpacing(this._barSpacing*t/this._width),null!==this._leftEdgeIndex&&c(this.visibleBars()).firstBar()<=this._leftEdgeIndex&&(this._rightOffset-=Math.round((this._width-t)/this._barSpacing)+1),this._width=t,this._correctOffset())},t.prototype.indexToCoordinate=function(t,e){if(this.isEmpty()||!p(t))return 0;var i=this.baseIndex()+this._rightOffset-t,n=this._width-(i+.5)*this._barSpacing;return e?n:Math.round(n)},t.prototype.indexesToCoordinates=function(t,e){for(var i=this.baseIndex(),n=void 0===e?t.length:e.to,r=void 0===e?0:e.from;r<n;r++)t[r].x=Math.round(this._width-(i+this._rightOffset-t[r].time+.5)*this._barSpacing)},t.prototype.indexToUserTime=function(t){return this._tickMarks.indexToTime(t)},t.prototype.coordinateToIndex=function(t){return Math.ceil(this._coordinateToFloatIndex(t))},t.prototype.setRightOffset=function(t){this._visibleBarsInvalidated=!0,this._rightOffset=t,this._correctOffset(),this._model.recalculateAllPanes(),this._model.lightUpdate()},t.prototype.barSpacing=function(){return this._barSpacing},t.prototype.setBarSpacing=function(t){this._setBarSpacing(t),this._correctOffset()},t.prototype.barSpacingChanged=function(){return this._barSpacingChanged},t.prototype.rightOffset=function(){return this._rightOffset},t.prototype.marks=function(){if(this.isEmpty())return null;if(null!==this._timeMarksCache)return this._timeMarksCache;for(var t=this._barSpacing,e=5*(this._model.options().layout.fontSize+4),i=Math.round(e/t),n=c(this.visibleBars()),r=Math.max(n.firstBar(),n.firstBar()-i),o=Math.max(n.lastBar(),n.lastBar()-i),s=0,a=0,l=this._tickMarks.build(t,e);a<l.length;a++){var h=l[a];if(r<=h.index&&h.index<=o){var u=this._tickMarks.indexToTime(h.index);if(null!==u){if(s<this._labels.length){var d=this._labels[s];d.coord=this.indexToCoordinate(h.index),d.label=this._formatLabel(u,h.span),d.span=h.span,d.major=!1}else this._labels.push({coord:this.indexToCoordinate(h.index),label:this._formatLabel(u,h.span),span:h.span,major:!1});s++}}}return this._labels.length=s,this._timeMarksCache=this._labels,this._labels},t.prototype.reset=function(){this._visibleBarsInvalidated=!0,this._points=new Oe,this._scrollStartPoint=null,this._scaleStartPoint=null,this._clearCommonTransitionsStartState(),this._tickMarks.reset(),this._leftEdgeIndex=null},t.prototype.restoreDefault=function(){this._visibleBarsInvalidated=!0,this.setBarSpacing(this._options.barSpacing),this.setRightOffset(this._options.rightOffset)},t.prototype.setLeftEdgeFix=function(t){this._leftEdgeIndex=t;var e=c(this.visibleBars()).firstBar()-t;e<0&&this.scrollToOffsetAnimated(this._rightOffset-e-1,500)},t.prototype.fixLeftEdge=function(){return this._options.fixLeftEdge},t.prototype.setBaseIndex=function(t){this._visibleBarsInvalidated=!0,this._baseIndexOrNull=t,this._correctOffset()},t.prototype.zoom=function(t,e){var i=this._coordinateToFloatIndex(t),n=this.barSpacing();this.setBarSpacing(n+e*(n/10)),this._options.rightBarStaysOnScroll||this.setRightOffset(this.rightOffset()+(i-this._coordinateToFloatIndex(t)))},t.prototype.startScale=function(t){this._scrollStartPoint&&this.endScroll(),null===this._scaleStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scaleStartPoint=t,this._saveCommonTransitionsStartState()))},t.prototype.scaleTo=function(t){if(null!==this._commonTransitionStartState){var e=Z(this._width-t,0,this._width),i=Z(this._width-c(this._scaleStartPoint),0,this._width);0!==e&&0!==i&&this.setBarSpacing(this._commonTransitionStartState.barSpacing*e/i)}},t.prototype.endScale=function(){null!==this._scaleStartPoint&&(this._scaleStartPoint=null,this._clearCommonTransitionsStartState())},t.prototype.startScroll=function(t){null===this._scrollStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scrollStartPoint=t,this._saveCommonTransitionsStartState()))},t.prototype.scrollTo=function(t){if(this._visibleBarsInvalidated=!0,null!==this._scrollStartPoint){var e=(this._scrollStartPoint-t)/this.barSpacing();this._rightOffset=c(this._commonTransitionStartState).rightOffset+e,this._correctOffset()}},t.prototype.endScroll=function(){null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._clearCommonTransitionsStartState())},t.prototype.scrollToRealTime=function(){this.scrollToOffsetAnimated(this._options.rightOffset)},t.prototype.scrollToOffsetAnimated=function(t,e){var i=this;if(void 0===e&&(e=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var n=this._rightOffset,r=(new Date).getTime(),o=function(){var s=((new Date).getTime()-r)/e,a=s>=1;i.setRightOffset(a?t:n+(t-n)*s),a||setTimeout(o,20)};o()},t.prototype.scrollStartPoint=function(){return this._scrollStartPoint},t.prototype.update=function(t,e,i){if(this._visibleBarsInvalidated=!0,e.length>0){var n=this._points.size();this._points.merge(t,e),this._rightOffset<0&&this._points.size()===n+1&&(this._rightOffset-=1,this._visibleBarsInvalidated=!0)}this._tickMarks.merge(i),this._correctOffset()},t.prototype.visibleBarsChanged=function(){return this._visibleBarsChanged},t.prototype.optionsApplied=function(){return this._optionsApplied},t.prototype.baseIndex=function(){return this._baseIndexOrNull||0},t.prototype.setVisibleRange=function(t){var e=t.count();this._setBarSpacing(this._width/e),this._rightOffset=t.lastBar()-this.baseIndex(),this._correctOffset(),this._visibleBarsInvalidated=!0,this._model.recalculateAllPanes(),this._model.lightUpdate()},t.prototype.fitContent=function(){var t=this._points.firstIndex(),e=this._points.lastIndex();null!==t&&null!==e&&this.setVisibleRange(new Te(t-1,e+1+this._options.rightOffset))},t.prototype.setTimePointsRange=function(t){var e=this.points(),i=e.firstIndex(),n=e.lastIndex();if(null!==i&&null!==n){var r=c(e.valueAt(i)).timestamp,o=c(e.valueAt(n)).timestamp,s=new Te(c(e.indexOf(Math.max(r,t.from.timestamp),!0)),c(e.indexOf(Math.min(o,t.to.timestamp),!0)));this.setVisibleRange(s)}},t.prototype.formatDateTime=function(t){return void 0!==this._localizationOptions.timeFormatter?this._localizationOptions.timeFormatter(t.businessDay||t.timestamp):this._dateTimeFormatter.format(new Date(1e3*t.timestamp))},t.prototype._rightOffsetForCoordinate=function(t){return(this._width+1-t)/this._barSpacing},t.prototype._coordinateToFloatIndex=function(t){var e=this._rightOffsetForCoordinate(t),i=this.baseIndex()+this._rightOffset-e;return Math.round(1e6*i)/1e6},t.prototype._setBarSpacing=function(t){t=Ie(t);var e=this._barSpacing;e!==t&&(this._visibleBarsInvalidated=!0,this._barSpacing=t,this._barSpacingChanged.fire(e,t),this._resetTimeMarksCache())},t.prototype._updateVisibleBars=function(){if(this.isEmpty())this._setVisibleBars(null);else{var t=this.baseIndex(),e=Math.ceil(this._width/this._barSpacing)-1,i=Math.round(this._rightOffset+t);this._setVisibleBars(new Te(i-e,i))}},t.prototype._correctOffset=function(){var t=this._maxRightOffset();this._rightOffset>t&&(this._rightOffset=t,this._visibleBarsInvalidated=!0);var e=this._minRightOffset();null!==e&&this._rightOffset<e&&(this._rightOffset=e,this._visibleBarsInvalidated=!0)},t.prototype._minRightOffset=function(){var t=this._points.firstIndex(),e=this._baseIndexOrNull;return null===t||null===e?null:null!==this._leftEdgeIndex?this._leftEdgeIndex-e+this._width/this._barSpacing-1:t-e-1+5},t.prototype._maxRightOffset=function(){return this._width/this._barSpacing-5},t.prototype._saveCommonTransitionsStartState=function(){this._commonTransitionStartState={barSpacing:this.barSpacing(),rightOffset:this.rightOffset()}},t.prototype._clearCommonTransitionsStartState=function(){this._commonTransitionStartState=null},t.prototype._formatLabel=function(t,e){var i=this,n=this._formattedBySpan.get(e);return void 0===n&&(n=new Me(function(t){return i._formatLabelImpl(t,e)}),this._formattedBySpan.set(e,n)),n.format(void 0===t.businessDay?new Date(1e3*t.timestamp):new Date(Date.UTC(t.businessDay.year,t.businessDay.month-1,t.businessDay.day)))},t.prototype._formatLabelImpl=function(t,e){var i={},n=this._options.timeVisible;return e<20&&n?(i.hour12=!1,i.hour="2-digit",i.minute="2-digit",this._options.secondsVisible&&(i.second="2-digit")):e<40&&n?(i.hour12=!1,i.hour="2-digit",i.minute="2-digit"):e<50?i.day="numeric":e<60?i.day="numeric":e<70?i.month="short":i.year="numeric",new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()).toLocaleString(this._localizationOptions.locale,i)},t.prototype._setVisibleBars=function(t){if(null!==t||null!==this._visibleBars){var e=this._visibleBars;this._visibleBars=t,(null===this._visibleBars||null!==e&&!this._visibleBars.equals(e))&&this._visibleBarsChanged.fire(),this._resetTimeMarksCache()}},t.prototype._resetTimeMarksCache=function(){this._timeMarksCache=null},t.prototype._invalidateTickMarks=function(){this._resetTimeMarksCache(),this._formattedBySpan.clear()},t.prototype._updateDateTimeFormatter=function(){var t=this._localizationOptions.dateFormat;this._dateTimeFormatter=this._options.timeVisible?new ke({dateFormat:t,timeFormat:this._options.secondsVisible?"%h:%m:%s":"%h:%m",dateTimeSeparator:"   ",locale:this._localizationOptions.locale}):new we(t,this._localizationOptions.locale)},t}();function Ie(t){return t<.5?.5:t>50?50:t}var Re=function(){function t(t){this._metricsCache=new Map,this._data=t}return t.prototype.draw=function(t){},t.prototype.drawBackground=function(t){if(this._data.visible){t.save();for(var e=0,i=0,n=this._data.lines;i<n.length;i++)if(0!==(l=n[i]).text.length){t.font=l.font;var r=this._metrics(t,l.text);l.zoom=r>this._data.width?this._data.width/r:1,e+=l.lineHeight*l.zoom}var o=0;switch(this._data.vertAlign){case"top":o=0;break;case"center":o=Math.max((this._data.height-e)/2,0);break;case"bottom":o=Math.max(this._data.height-e,0)}t.fillStyle=this._data.color;for(var s=0,a=this._data.lines;s<a.length;s++){var l=a[s];t.save();var c=0;switch(this._data.horzAlign){case"left":t.textAlign="left",c=l.lineHeight/2;break;case"center":t.textAlign="center",c=this._data.width/2;break;case"right":t.textAlign="right",c=this._data.width-1-l.lineHeight/2}t.translate(c,o),t.textBaseline="top",t.font=l.font,t.scale(l.zoom,l.zoom),t.fillText(l.text,0,l.vertOffset),t.restore(),o+=l.lineHeight*l.zoom}t.restore()}},t.prototype._metrics=function(t,e){var i=this._fontCache(t.font),n=i.get(e);return void 0===n&&(n=t.measureText(e).width,i.set(e,n)),n},t.prototype._fontCache=function(t){var e=this._metricsCache.get(t);return void 0===e&&(e=new Map,this._metricsCache.set(t,e)),e},t}(),ze=function(){function t(t){this._invalidated=!0,this._rendererData={visible:!1,color:"",height:0,width:0,lines:[],vertAlign:"center",horzAlign:"center"},this._renderer=new Re(this._rendererData),this._source=t}return t.prototype.update=function(){this._invalidated=!0},t.prototype.renderer=function(t,e){return this._invalidated&&(this._updateImpl(t,e),this._invalidated=!1),this._renderer},t.prototype._updateImpl=function(t,e){var i=this._source.options(),n=this._rendererData;n.visible=i.visible,n.visible&&(n.color=i.color,n.width=e,n.height=t,n.horzAlign=i.horzAlign,n.vertAlign=i.vertAlign,n.lines=[{text:i.text,font:se(i.fontSize),lineHeight:1.2*i.fontSize,vertOffset:0,zoom:0}])},t}(),$e=function(t){function e(e,i){var n=t.call(this)||this;return n._options=i,n._paneView=new ze(n),n}return o(e,t),e.prototype.paneViews=function(){return[this._paneView]},e.prototype.options=function(){return this._options},e.prototype.updateAllViews=function(){this._paneView.update()},e}(W),Ve=function(){function t(t,e){this._panes=[],this._serieses=[],this._width=0,this._initialTimeScrollPos=null,this._hoveredSource=null,this._mainPriceScaleOptionsChanged=new Y,this._crosshairMoved=new Y,this._invalidateHandler=t,this._options=e,this._rendererOptionsProvider=new le(this),this._timeScale=new Le(this,e.timeScale,this._options.localization),this._grid=new ue,this._crosshair=new H(this,e.crosshair),this._magnet=new pe(e.crosshair),this._watermark=new $e(this,e.watermark),this.createPane(),this._panes[0].setStretchFactor(2*fe),this._panes[0].addDataSource(this._watermark,!0,!1)}return t.prototype.updatePane=function(t){var e=this._paneInvalidationMask(t,0);this._invalidate(e)},t.prototype.fullUpdate=function(){this._invalidate(new de(3))},t.prototype.lightUpdate=function(){this._invalidate(new de(2))},t.prototype.updateSource=function(t){var e=this._invalidationMaskForSource(t);this._invalidate(e)},t.prototype.hoveredSource=function(){return this._hoveredSource},t.prototype.setHoveredSource=function(t){this._hoveredSource=t},t.prototype.options=function(){return this._options},t.prototype.applyOptions=function(t){u(this._options,t),void 0!==t.priceScale&&(this.mainPriceScale().applyOptions(t.priceScale),this._mainPriceScaleOptionsChanged.fire()),void 0!==t.timeScale&&this._timeScale.applyOptions(t.timeScale),void 0!==t.localization&&(this._timeScale.applyLocalizationOptions(t.localization),this.mainPriceScale().updateFormatter()),this.fullUpdate()},t.prototype.updateAllPaneViews=function(){this._panes.forEach(function(t){return t.updateAllViews()})},t.prototype.timeScale=function(){return this._timeScale},t.prototype.panes=function(){return this._panes},t.prototype.gridSource=function(){return this._grid},t.prototype.watermarkSource=function(){return this._watermark},t.prototype.crosshairSource=function(){return this._crosshair},t.prototype.crosshairMoved=function(){return this._crosshairMoved},t.prototype.width=function(){return this._width},t.prototype.setPaneHeight=function(t,e){t.setHeight(e),this.recalculateAllPanes(),this.lightUpdate()},t.prototype.setWidth=function(t){this._width=t,this._timeScale.setWidth(this._width),this._panes.forEach(function(e){return e.setWidth(t)}),this.recalculateAllPanes()},t.prototype.createPane=function(t){var e=new _e(this._timeScale,this);void 0!==t?this._panes.splice(t,0,e):this._panes.push(e);var i=void 0===t?this._panes.length-1:t,n=new de(3);return n.invalidatePane(i,{level:0,autoScale:!0}),this.invalidate(n),e},t.prototype.startScalePrice=function(t,e,i){t.startScalePrice(e,i)},t.prototype.scalePriceTo=function(t,e,i){t.scalePriceTo(e,i),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.endScalePrice=function(t,e){t.endScalePrice(e),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.startScrollPrice=function(t,e,i){e.isAutoScale()||t.startScrollPrice(e,i)},t.prototype.scrollPriceTo=function(t,e,i){e.isAutoScale()||(t.scrollPriceTo(e,i),this._invalidate(this._paneInvalidationMask(t,2)))},t.prototype.endScrollPrice=function(t,e){e.isAutoScale()||(t.endScrollPrice(e),this._invalidate(this._paneInvalidationMask(t,2)))},t.prototype.setPriceAutoScale=function(t,e,i){t.setPriceAutoScale(e,i),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.resetPriceScale=function(t,e){t.resetPriceScale(e),this._invalidate(this._paneInvalidationMask(t,2))},t.prototype.startScaleTime=function(t){this._timeScale.startScale(t)},t.prototype.zoomTime=function(t,e){var i=this.timeScale();if(!i.isEmpty()&&0!==e){var n=i.width();t=Math.max(1,Math.min(t,n)),i.zoom(t,e),this.updateCrosshair(),this.recalculateAllPanes(),this.lightUpdate()}},t.prototype.scrollChart=function(t){this.startScrollTime(0),this.scrollTimeTo(t),this.endScrollTime()},t.prototype.scaleTimeTo=function(t){this._timeScale.scaleTo(t),this.recalculateAllPanes(),this.lightUpdate()},t.prototype.endScaleTime=function(){this._timeScale.endScale(),this.lightUpdate()},t.prototype.startScrollTime=function(t){this._initialTimeScrollPos=t,this._timeScale.startScroll(t)},t.prototype.scrollTimeTo=function(t){var e=!1;return null!==this._initialTimeScrollPos&&Math.abs(t-this._initialTimeScrollPos)>20&&(this._initialTimeScrollPos=null,e=!0),this._timeScale.scrollTo(t),this.recalculateAllPanes(),this.updateCrosshair(),this.lightUpdate(),e},t.prototype.endScrollTime=function(){this._timeScale.endScroll(),this.lightUpdate(),this._initialTimeScrollPos=null},t.prototype.resetTimeScale=function(){this._timeScale.restoreDefault(),this.recalculateAllPanes(),this.updateCrosshair(),this.lightUpdate()},t.prototype.invalidate=function(t){this._invalidateHandler&&this._invalidateHandler(t),this._grid.invalidate(),this.lightUpdate()},t.prototype.dataSources=function(){return this._panes.reduce(function(t,e){return t.concat(e.dataSources())},[])},t.prototype.serieses=function(){return this._serieses},t.prototype.setAndSaveCurrentPosition=function(t,e,i){this._crosshair.saveOriginCoord(t,e);var n=NaN,r=this._timeScale.coordinateToIndex(t),o=i.mainDataSource();if(null!==o){var s=i.defaultPriceScale();if(!s.isEmpty()){var a=c(o.firstValue());n=s.coordinateToPrice(e,a)}n=this._magnet.align(n,r,i)}this._crosshair.setPosition(r,n,i),this._cursorUpdate(),this._crosshairMoved.fire(this._crosshair.appliedIndex(),{x:t,y:e})},t.prototype.clearCurrentPosition=function(){this.crosshairSource().clearPosition(),this._cursorUpdate(),this._crosshairMoved.fire(null,null)},t.prototype.updateCrosshair=function(){var t=this._crosshair.pane();if(null!==t){var e=this._crosshair.originCoordX(),i=this._crosshair.originCoordY();this.setAndSaveCurrentPosition(e,i,t)}},t.prototype.updateTimeScale=function(t,e,i,n){n&&this._timeScale.reset(),this._timeScale.update(t,e,i)},t.prototype.updateTimeScaleBaseIndex=function(t){var e=this._serieses.reduce(function(t,e){var i=e.bars();if(i.isEmpty())return t;var n=c(i.lastIndex());return void 0===t?n:Math.max(n,t)},void 0);if(void 0!==e){var i=this._timeScale,n=i.baseIndex(),r=i.visibleBars();if(null!==r){var o=r.contains(n);if(void 0!==t&&t>0&&!o){var s=e-n;i.setRightOffset(i.rightOffset()-s)}}i.setBaseIndex(e)}this.updateCrosshair(),this.recalculateAllPanes(),this.lightUpdate()},t.prototype.recalculatePane=function(t){null!==t&&t.recalculate()},t.prototype.paneForSource=function(t){var e=this._panes.find(function(e){return e.orderedSources().includes(t)});return void 0===e?null:e},t.prototype.recalculateAllPanes=function(){this._panes.forEach(function(t){return t.recalculate()}),this.updateAllPaneViews()},t.prototype.destroy=function(){this._panes.forEach(function(t){return t.destroy()}),this._panes.length=0,this._options.localization.priceFormatter=void 0,this._options.localization.timeFormatter=void 0},t.prototype.setPriceAutoScaleForAllMainSources=function(){this._panes.map(function(t){return t.mainDataSource()}).forEach(function(t){null!==t&&c(t.priceScale()).setMode({autoScale:!0})})},t.prototype.rendererOptionsProvider=function(){return this._rendererOptionsProvider},t.prototype.priceAxisRendererOptions=function(){return this._rendererOptionsProvider.options()},t.prototype.mainPriceScaleOptionsChanged=function(){return this._mainPriceScaleOptionsChanged},t.prototype.mainPriceScale=function(){return this._panes[0].defaultPriceScale()},t.prototype.createSeries=function(t,e){var i=this._createSeries(e,t,this._panes[0]);return this._serieses.push(i),this.lightUpdate(),i},t.prototype.removeSeries=function(t){var e=this.paneForSource(t),i=this._serieses.indexOf(t);a(-1!==i,"Series not found"),this._serieses.splice(i,1),c(e).removeDataSource(t),t.destroy&&t.destroy()},t.prototype.fitContent=function(){var t=new de(2);t.setFitContent(),this._invalidate(t)},t.prototype.setTargetTimeRange=function(t){var e=new de(2);e.setTargetTimeRange(t),this._invalidate(e)},t.prototype._paneInvalidationMask=function(t,e){var i=new de(e);if(null!==t){var n=this._panes.indexOf(t);i.invalidatePane(n,{level:e})}return i},t.prototype._invalidationMaskForSource=function(t,e){return void 0===e&&(e=2),this._paneInvalidationMask(this.paneForSource(t),e)},t.prototype._invalidate=function(t){this._invalidateHandler&&this._invalidateHandler(t),this._grid.invalidate()},t.prototype._cursorUpdate=function(){this._invalidate(new de(1))},t.prototype._createSeries=function(t,e,i){var n=new Jt(this,t,e);return i.addDataSource(n,Boolean(t.overlay),!1),t.overlay&&n.applyOptions(t),n},t}(),Be=/(\d+(?:\.\d+)?)(px|em|rem|pt)/g,Ne=document.createElement("canvas").getContext("2d")||{},We=(window.devicePixelRatio||1)/(Ne.backingStorePixelRatio||Ne.webkitBackingStorePixelRatio||Ne.mozBackingStorePixelRatio||Ne.msBackingStorePixelRatio||Ne.oBackingStorePixelRatio||Ne.backingStorePixelRatio||1);function He(t){t.width!==Math.floor(parseInt(c(t.style.width))*We)&&(t.style.width=t.width+"px",t.width*=We,t.height*=We);var e=t.getContext("2d");return null===e?null:new Fe(e,We)}var Fe=function(){function t(t,e){this.canvas=t.canvas,this._ctx=t,this._rto=e}return t.prototype.restore=function(){this._ctx.restore()},t.prototype.save=function(){this._ctx.save()},t.prototype.getTransform=function(){return this._ctx.getTransform()},t.prototype.resetTransform=function(){this._ctx.resetTransform()},t.prototype.rotate=function(t){this._ctx.rotate(t)},t.prototype.scale=function(t,e){this._ctx.scale(t,e)},t.prototype.setTransform=function(t,e,i,n,r,o){d(t)?this._ctx.setTransform(t,e,i,n,r,o):this._ctx.setTransform(t)},t.prototype.transform=function(t,e,i,n,r,o){this._ctx.transform(t,e,i,n,r,o)},t.prototype.translate=function(t,e){this._ctx.translate(t*this._rto,e*this._rto)},Object.defineProperty(t.prototype,"globalAlpha",{get:function(){return this._ctx.globalAlpha},set:function(t){this._ctx.globalAlpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalCompositeOperation",{get:function(){return this._ctx.globalCompositeOperation},set:function(t){this._ctx.globalCompositeOperation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSmoothingEnabled",{get:function(){return this._ctx.imageSmoothingEnabled},set:function(t){this._ctx.imageSmoothingEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSmoothingQuality",{get:function(){return this._ctx.imageSmoothingQuality},set:function(t){this._ctx.imageSmoothingQuality=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillStyle",{get:function(){return this._ctx.fillStyle},set:function(t){this._ctx.fillStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeStyle",{get:function(){return this._ctx.strokeStyle},set:function(t){this._ctx.strokeStyle=t},enumerable:!0,configurable:!0}),t.prototype.createLinearGradient=function(t,e,i,n){return this._ctx.createLinearGradient(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.createPattern=function(t,e){return this._ctx.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,i,n,r,o){return this._ctx.createRadialGradient(t*this._rto,e*this._rto,i*this._rto,n*this._rto,r*this._rto,o*this._rto)},Object.defineProperty(t.prototype,"shadowBlur",{get:function(){return this._ctx.shadowBlur},set:function(t){this._ctx.shadowBlur=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadowColor",{get:function(){return this._ctx.shadowColor},set:function(t){this._ctx.shadowColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadowOffsetX",{get:function(){return this._ctx.shadowOffsetX},set:function(t){this._ctx.shadowOffsetX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadowOffsetY",{get:function(){return this._ctx.shadowOffsetY},set:function(t){this._ctx.shadowOffsetY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._ctx.filter},set:function(t){this._ctx.filter=t},enumerable:!0,configurable:!0}),t.prototype.clearRect=function(t,e,i,n){this._ctx.clearRect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.fillRect=function(t,e,i,n){this._ctx.fillRect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.strokeRect=function(t,e,i,n){this._ctx.strokeRect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.beginPath=function(){this._ctx.beginPath()},t.prototype.clip=function(t,e){"nonzero"===t||"evenodd"===t||void 0===t?this._ctx.clip(t):this._ctx.clip(t,e)},t.prototype.fill=function(t,e){"nonzero"===t||"evenodd"===t||void 0===t?this._ctx.fill(t):this._ctx.fill(t,e)},t.prototype.isPointInPath=function(t,e,i,n){return d(t)?this._ctx.isPointInPath(t*this._rto,e*this._rto,i):this._ctx.isPointInPath(t,e*this._rto,i*this._rto,n)},t.prototype.isPointInStroke=function(t,e,i){return d(t)?this._ctx.isPointInStroke(t*this._rto,e*this._rto):this._ctx.isPointInStroke(t,e*this._rto,i*this._rto)},t.prototype.stroke=function(t){void 0!==t?this._ctx.stroke(t):this._ctx.stroke()},t.prototype.drawFocusIfNeeded=function(t,e){void 0!==e?this._ctx.drawFocusIfNeeded(t,e):this._ctx.drawFocusIfNeeded(t)},t.prototype.scrollPathIntoView=function(t){void 0!==t?this._ctx.scrollPathIntoView(t):this._ctx.scrollPathIntoView()},t.prototype.fillText=function(t,e,i,n){var r=this;1!==this._rto&&(this.font=this.font.replace(Be,function(t,e,i){return e*r._rto+i})),void 0===n?this._ctx.fillText(t,e*this._rto,i*this._rto):this._ctx.fillText(t,e*this._rto,i*this._rto,n*this._rto),-1!==this._rto&&(this.font=this.font.replace(Be,function(t,e,i){return e/r._rto+i}))},t.prototype.measureText=function(t){return this._ctx.measureText(t)},t.prototype.strokeText=function(t,e,i,n){var r=this;1!==this._rto&&(this.font=this.font.replace(Be,function(t,e,i){return e*r._rto+i})),void 0===n?this._ctx.strokeText(t,e*this._rto,i*this._rto):this._ctx.strokeText(t,e*this._rto,i*this._rto,n*this._rto),1!==this._rto&&(this.font=this.font.replace(Be,function(t,e,i){return e/r._rto+i}))},t.prototype.drawImage=function(t,e,i,n,r,o,s,a,l){return t instanceof HTMLCanvasElement?this._drawImagePatchedSourceAndDest(t,e,i,n,r,o,s,a,l):this._drawImagePatchedSource(t,e,i,n,r,o,s,a,l)},t.prototype.createImageData=function(t,e){return d(t)?this._ctx.createImageData(t,e):this._ctx.createImageData(t)},t.prototype.getImageData=function(t,e,i,n){return this._ctx.getImageData(t,e,i,n)},t.prototype.putImageData=function(t,e,i,n,r,o,s){void 0===n?this._ctx.putImageData(t,e,i):this._ctx.putImageData(t,e,i,n,r,o,s)},Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._ctx.lineCap},set:function(t){this._ctx.lineCap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._ctx.lineDashOffset},set:function(t){this._ctx.lineDashOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._ctx.lineJoin},set:function(t){this._ctx.lineJoin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this._ctx.lineWidth},set:function(t){this._ctx.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._ctx.miterLimit},set:function(t){this._ctx.miterLimit=t},enumerable:!0,configurable:!0}),t.prototype.getLineDash=function(){return this._ctx.getLineDash()},t.prototype.setLineDash=function(t){this._ctx.setLineDash(t)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._ctx.direction},set:function(t){this._ctx.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._ctx.font},set:function(t){this._ctx.font=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._ctx.textAlign},set:function(t){this._ctx.textAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._ctx.textBaseline},set:function(t){this._ctx.textBaseline=t},enumerable:!0,configurable:!0}),t.prototype.arc=function(t,e,i,n,r,o){this._ctx.arc(t*this._rto,e*this._rto,i*this._rto,n,r,o)},t.prototype.arcTo=function(t,e,i,n,r){this._ctx.arcTo(t*this._rto,e*this._rto,i*this._rto,n*this._rto,r*this._rto)},t.prototype.bezierCurveTo=function(t,e,i,n,r,o){this._ctx.bezierCurveTo(t*this._rto,e*this._rto,i*this._rto,n*this._rto,r*this._rto,o*this._rto)},t.prototype.closePath=function(){this._ctx.closePath()},t.prototype.ellipse=function(t,e,i,n,r,o,s,a){this._ctx.ellipse(t,e,i,n,r,o,s,a)},t.prototype.lineTo=function(t,e){this._ctx.lineTo(t*this._rto,e*this._rto)},t.prototype.moveTo=function(t,e){this._ctx.moveTo(t*this._rto,e*this._rto)},t.prototype.quadraticCurveTo=function(t,e,i,n){this._ctx.quadraticCurveTo(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype.rect=function(t,e,i,n){this._ctx.rect(t*this._rto,e*this._rto,i*this._rto,n*this._rto)},t.prototype._drawImageImpl=function(t,e,i,n,r,o,s,a,l){void 0===n?this._ctx.drawImage(t,e,i):void 0===o?this._ctx.drawImage(t,e,i,n,r):this._ctx.drawImage(t,e,i,n,r,o,s,a,l)},t.prototype._drawImagePatchedSource=function(t,e,i,n,r,o,s,a,l){this._drawImageImpl(t,e*this._rto,i*this._rto,void 0===n?n:n*this._rto,void 0===r?r:r*this._rto,void 0===o?o:o*this._rto,void 0===s?s:s*this._rto,void 0===a?a:a*this._rto,void 0===l?l:l*this._rto)},t.prototype._drawImagePatchedSourceAndDest=function(t,e,i,n,r,o,s,a,l){void 0!==o&&("width"in t&&(n=Math.min(t.width,Math.max(1,n))),"height"in t&&(r=Math.min(t.height,Math.max(1,r)))),this._drawImageImpl(t,e*this._rto,i*this._rto,void 0===n?n:n*this._rto,void 0===r?r:r*this._rto,void 0===o?o:o*this._rto,void 0===s?s:s*this._rto,void 0===a?a:a*this._rto,void 0===l?l:l*this._rto)},t}(),je=function(){function t(t,e){this.w=t,this.h=e}return t.prototype.equals=function(t){return this.w===t.w&&this.h===t.h},t}();function qe(t,e){t.width=e.w,t.height=e.h;var i=He(t);i&&i.translate(.5,.5)}function Ue(t,e,i,n,r,o){t.save(),t.translate(-.5,-.5),t.fillStyle=o,t.fillRect(e,i,n,r),t.restore()}function Ye(t,e){var i=document.createElement("canvas");return t.appendChild(i),qe(i,e),i}var Xe,Ge,Ze=!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints||"ontouchstart"in window||Boolean(window.DocumentTouch&&document instanceof window.DocumentTouch),Je="onorientationchange"in window&&Ze,Ke=!1;!function(t){t[t.ResetClick=500]="ResetClick"}(Xe||(Xe={})),function(t){t[t.Left=0]="Left"}(Ge||(Ge={}));var Qe=function(){function t(t,e,i,n){this._clickCount=0,this._clickTimeoutId=null,this._lastTouchPosition={x:0,y:0},this._mouseMoveStartPosition=null,this._moveExceededManhattanDistance=!1,this._cancelClick=!1,this._unsubscribeOutsideEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRoot=null,this._startPinchMiddlePoint=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._target=t,this._handler=e,this._originalPreventDefault=i,this._preventDefault=!n&&i,this._verticalTouchScroll=n,this._init()}return t.prototype.destroy=function(){null!==this._unsubscribeOutsideEvents&&(this._unsubscribeOutsideEvents(),this._unsubscribeOutsideEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null)},t.prototype._mouseEnterHandler=function(t){var e=this;this._unsubscribeMousemove&&this._unsubscribeMousemove();var i=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){e._target.removeEventListener("mousemove",i)},this._target.addEventListener("mousemove",i),Je&&this._mouseMoveHandler(t);var n=this._makeCompatEvent(t);this._processEvent(n,this._handler.mouseEnterEvent),this._preventDefaultIfNeeded(t)},t.prototype._resetClickTimeout=function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null},t.prototype._mouseMoveHandler=function(t){if(!Ke||Je){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseMoveEvent),this._preventDefaultIfNeeded(t)}},t.prototype._mouseMoveWithDownHandler=function(t){if(!("button"in t&&0!==t.button)&&null===this._startPinchMiddlePoint){this._pinchPrevented=!0;var e=!1,i=this._makeCompatEvent(t),n=Je||t.touches;n&&(this._verticalTouchScroll&&(Math.abs(.5*(i.pageX-this._lastTouchPosition.x))<=Math.abs(i.pageY-this._lastTouchPosition.y)?(e=!0,this._preventDefault=!1):this._preventDefault=this._originalPreventDefault),this._lastTouchPosition.x=i.pageX,this._lastTouchPosition.y=i.pageY);var r=h(this._mouseMoveStartPosition),o=Math.abs(r.x-i.pageX),s=Math.abs(r.y-i.pageY);this._moveExceededManhattanDistance=this._moveExceededManhattanDistance||o+s>5,this._moveExceededManhattanDistance?this._cancelClick=!0:n&&(e=!0),e||this._processEvent(i,this._handler.pressedMouseMoveEvent),this._preventDefaultIfNeeded(t)}},t.prototype._mouseUpHandler=function(t){if(!("button"in t&&0!==t.button)){var e=this._makeCompatEvent(t);this._mouseMoveStartPosition=null,Ke=!1,this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),(Je||"touches"in t)&&this._mouseLeaveHandler(t),this._processEvent(e,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1?(this._processEvent(e,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(e,this._handler.mouseClickEvent),this._preventDefaultIfNeeded(t),Je&&this._mouseLeaveHandler(t)}},t.prototype._mouseDownHandler=function(t){if(!("button"in t&&0!==t.button)){var e=this._makeCompatEvent(t);this._cancelClick=!1,this._moveExceededManhattanDistance=!1,Je&&(this._lastTouchPosition.x=e.pageX,this._lastTouchPosition.y=e.pageY,this._mouseEnterHandler(t)),this._mouseMoveStartPosition={x:e.pageX,y:e.pageY},this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null);var i=this._mouseMoveWithDownHandler.bind(this),n=this._mouseUpHandler.bind(this),r=this._target.ownerDocument.documentElement;if(this._unsubscribeRoot=function(){r.removeEventListener("touchmove",i),r.removeEventListener("touchend",n),r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",n)},r.addEventListener("touchmove",i,{passive:!1}),r.addEventListener("touchend",n),Je||(r.addEventListener("mousemove",i),r.addEventListener("mouseup",n)),Ke=!0,this._processEvent(e,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500)),this._preventDefaultIfNeeded(t),this._preventDefault)try{window.focus()}catch(t){}}},t.prototype._init=function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this));var e=this._target.ownerDocument,i=function(e){t._handler.mouseDownOutsideEvent&&(e.target&&t._target.contains(e.target)||t._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideEvents=function(){e.removeEventListener("mousedown",i),e.removeEventListener("touchstart",i)},e.addEventListener("mousedown",i),e.addEventListener("touchstart",i),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._mouseDownHandler.bind(this)),Je||this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch()},t.prototype._initPinch=function(){var t=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",function(e){t._checkPinchState(e.touches)}),this._target.addEventListener("touchmove",function(e){if(2===e.touches.length&&null!==t._startPinchMiddlePoint&&void 0!==t._handler.pinchEvent){var i=ei(e.touches[0],e.touches[1])/t._startPinchDistance;t._handler.pinchEvent(t._startPinchMiddlePoint,i)}},{passive:!1}),this._target.addEventListener("touchend",function(e){t._checkPinchState(e.touches)}))},t.prototype._checkPinchState=function(t){1===t.length&&(this._pinchPrevented=!1),2!==t.length||this._pinchPrevented?this._stopPinch():this._startPinch(t)},t.prototype._startPinch=function(t){var e=ti(this._target);this._startPinchMiddlePoint={x:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,y:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this._startPinchDistance=ei(t[0],t[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent()},t.prototype._stopPinch=function(){null!==this._startPinchMiddlePoint&&(this._startPinchMiddlePoint=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())},t.prototype._mouseLeaveHandler=function(t){this._unsubscribeMousemove&&this._unsubscribeMousemove();var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseLeaveEvent),this._preventDefaultIfNeeded(t)},t.prototype._processEvent=function(t,e){e&&e.call(this._handler,t)},t.prototype._preventDefaultIfNeeded=function(t){this._preventDefault&&t.cancelable&&t.preventDefault()},t.prototype._makeCompatEvent=function(t){var e;e="touches"in t&&t.touches.length?t.touches[0]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0]:t;var i=ti(this._target);return{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,localX:e.clientX-i.left,localY:e.clientY-i.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,target:e.target,view:t.view,preventDefault:function(){t.cancelable&&t.preventDefault()}}},t}();function ti(t){return t.getBoundingClientRect()||{left:0,top:0}}function ei(t,e){var i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}var ii,ni=1,ri=function(){function t(t,e,i,n){if(this._startY=0,this._deltaY=0,this._totalHeight=0,this._totalStretch=0,this._minPaneHeight=0,this._maxPaneHeight=0,this._pixelStretchFactor=0,this._chartWidget=t,this._paneA=t.paneWidgets()[e],this._paneB=t.paneWidgets()[i],this._rowElement=document.createElement("tr"),this._rowElement.style.height=ni+"px",this._cell=document.createElement("td"),this._cell.style.padding="0",this._cell.setAttribute("colspan","3"),this._updateBorderColor(),this._rowElement.appendChild(this._cell),n)this._handle=null,this._mouseEventHandler=null;else{this._handle=document.createElement("div"),this._handle.style.position="absolute",this._handle.style.zIndex="0",this._handle.style.height="5px",this._handle.style.width="100%",this._handle.style.backgroundColor="rgba(255, 255, 255, 0.02)",this._handle.style.cursor="ns-resize",this._cell.appendChild(this._handle);var r={mouseDownEvent:this._mouseDownEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this)};this._mouseEventHandler=new Qe(this._handle,r,!0,!1)}}return t.prototype.destroy=function(){null!==this._mouseEventHandler&&this._mouseEventHandler.destroy()},t.prototype.getElement=function(){return this._rowElement},t.prototype.update=function(){this._updateBorderColor()},t.prototype._updateBorderColor=function(){this._cell.style.background=this._chartWidget.options().timeScale.borderColor},t.prototype._mouseDownEvent=function(t){this._startY=t.pageY,this._deltaY=0,this._totalHeight=this._paneA.getSize().h+this._paneB.getSize().h,this._totalStretch=this._paneA.stretchFactor()+this._paneB.stretchFactor(),this._minPaneHeight=30,this._maxPaneHeight=this._totalHeight-this._minPaneHeight,this._pixelStretchFactor=this._totalStretch/this._totalHeight},t.prototype._pressedMouseMoveEvent=function(t){t.preventDefault(),this._deltaY=t.pageY-this._startY;var e=this._paneA.getSize().h,i=Z(e+this._deltaY,this._minPaneHeight,this._maxPaneHeight)*this._pixelStretchFactor,n=this._totalStretch-i;this._paneA.setStretchFactor(i),this._paneB.setStretchFactor(n),this._chartWidget.adjustSize(),this._paneA.getSize().h!==e&&(this._startY=t.pageY)},t.prototype._mouseUpEvent=function(t){this._startY=0,this._deltaY=0,this._totalHeight=0,this._totalStretch=0,this._minPaneHeight=0,this._maxPaneHeight=0,this._pixelStretchFactor=0},t}(),oi=200,si=function(){function t(t,e,i,n){this._textWidthCache=new Ot(oi),this._fontSize=0,this._color="",this._font="",this._keys=[],this._hash=new Map,this._fontSize=t,this._color=e,this._font=se(t,i,n)}return t.prototype.destroy=function(){delete this._textWidthCache,this._keys=[],this._hash.clear()},t.prototype.paintTo=function(t,e,i,n,r){var o=this.getLabelImage(t,e);"left"!==r&&(i-=o.textWidth),n-=Math.floor(o.height/2),t.drawImage(o.canvas,i,n)},t.prototype.getLabelImage=function(t,e){var i;if(this._hash.has(e))i=l(this._hash.get(e));else{if(this._keys.length>=oi){var n=l(this._keys.shift());this._hash.delete(n)}i={text:e,textWidth:0,width:0,height:0,canvas:document.createElement("canvas")};var r=Math.ceil(this._fontSize/4.5),o=Math.round(this._fontSize/10),s=Math.ceil(this._textWidthCache.measureText(t,e));i.textWidth=Math.round(Math.max(1,s)),i.width=Math.round(s+2*r),i.height=this._fontSize+2*r,0!==s&&(this._keys.push(i.text),this._hash.set(i.text,i)),i.canvas.width=i.width,i.canvas.height=i.height,(t=c(He(i.canvas))).font=this._font,t.fillStyle=this._color,t.fillText(e,0,i.height-r-o)}return i},t}();!function(t){t[t.Default=0]="Default",t[t.NsResize=1]="NsResize"}(ii||(ii={}));var ai,li,ci=function(){function t(t,e,i,n){this._priceScale=null,this._size=null,this._updateTimeout=null,this._mousedown=!1,this._isVisible=!0,this._widthCache=new Ot(50),this._tickMarksCache=new si(11,"#000"),this._color=null,this._font=null,this._prevOptimalWidth=0,this._pane=t,this._options=e,this._rendererOptionsProvider=i,this._isLeft="left"===n,this._cell=document.createElement("div"),this._cell.style.height="100%",this._cell.style.overflow="hidden",this._cell.style.width="25px",this._cell.style.left="0",this._cell.style.position="relative",this._canvas=Ye(this._cell,new je(16,16)),this._canvas.style.position="absolute",this._canvas.style.zIndex="0",this._canvas.style.left="0",this._canvas.style.top="0",this._ctx=c(He(this._canvas)),this._topCanvas=Ye(this._cell,new je(16,16)),this._topCanvas.style.position="absolute",this._topCanvas.style.zIndex="0",this._topCanvas.style.left="0",this._topCanvas.style.top="0",this._topCtx=c(He(this._topCanvas));var r={mouseDownEvent:this._mouseDownEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseDownOutsideEvent:this._mouseDownOutsideEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),mouseDoubleClickEvent:this._mouseDoubleClickEvent.bind(this),mouseEnterEvent:this._mouseEnterEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this)};this._mouseEventHandler=new Qe(this._topCanvas,r,!0,!1)}return t.prototype.destroy=function(){this._mouseEventHandler.destroy(),null!==this._priceScale&&(this._priceScale.onMarksChanged().unsubscribeAll(this),this._priceScale.optionsChanged().unsubscribeAll(this)),this._priceScale=null,null!==this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=null),this._tickMarksCache.destroy()},t.prototype.getElement=function(){return this._cell},t.prototype.backgroundColor=function(){return this._options.backgroundColor},t.prototype.lineColor=function(){return this._pane.chart().options().priceScale.borderColor},t.prototype.textColor=function(){return this._options.textColor},t.prototype.fontSize=function(){return this._options.fontSize},t.prototype.baseFont=function(){return se(this.fontSize(),this._options.fontFamily)},t.prototype.rendererOptions=function(){var t=this._rendererOptionsProvider.options(),e=this._font!==t.font;return(this._color!==t.color||e)&&(this._recreateTickMarksCache(t),this._color=t.color),e&&(this._widthCache.reset(),this._font=t.font),t},t.prototype.optimalWidth=function(){if(!this.isVisible()||null===this._priceScale)return 0;var t=34,e=this.rendererOptions(),i=this._ctx,n=this._priceScale.marks();i.font=this.baseFont(),n.length>0&&(t=Math.max(this._widthCache.measureText(i,n[0].label),this._widthCache.measureText(i,n[n.length-1].label)));for(var r=this._backLabels(),o=r.length;o--;){var s=this._widthCache.measureText(i,r[o].text());s>t&&(t=s)}return Math.ceil(e.offsetSize+e.borderSize+e.tickLength+e.paddingInner+e.paddingOuter+t)},t.prototype.setSize=function(t){if(t.w<0||t.h<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this._size&&this._size.equals(t)||(this._size=t,qe(this._canvas,t),qe(this._topCanvas,t),this._cell.style.width=t.w+"px",this._cell.style.height=t.h+"px",this._cell.style.minWidth=t.w+"px")},t.prototype.getWidth=function(){return c(this._size).w},t.prototype.setPriceScale=function(t){this._priceScale!==t&&(null!==this._priceScale&&(this._priceScale.onMarksChanged().unsubscribeAll(this),this._priceScale.optionsChanged().unsubscribeAll(this)),this._priceScale=t,t.onMarksChanged().subscribe(this._onMarksChanged.bind(this),this))},t.prototype.priceScale=function(){return this._priceScale},t.prototype.isVisible=function(){return this._isVisible},t.prototype.setVisible=function(t){t!==this._isVisible&&(this._cell.style.display=t?"table-cell":"none",this._isVisible=t)},t.prototype.setAutoScale=function(t){var e=this._pane.state();this._pane.chart().model().setPriceAutoScale(e,c(this.priceScale()),t)},t.prototype.reset=function(){var t=this._pane.state();this._pane.chart().model().resetPriceScale(t,c(this.priceScale()))},t.prototype.paint=function(t){this._isVisible&&null!==this._size&&(this._topCtx.clearRect(-.5,-.5,this._size.w,this._size.h),1===t?this._drawCrosshairLabel(this._topCtx):(this._alignLabels(),this._drawBackground(this._ctx),this._drawBorder(this._ctx),this._drawTickMarks(this._ctx),this._drawBackLabels(this._ctx),this._drawCrosshairLabel(this._topCtx)))},t.prototype.isLeft=function(){return this._isLeft},t.prototype._mouseDownEvent=function(t){if(null!==this._priceScale&&!this._priceScale.isEmpty()&&this._pane.chart().options().handleScale.axisPressedMouseMove){var e=this._pane.chart().model(),i=this._pane.state();this._mousedown=!0,e.startScalePrice(i,this._priceScale,t.localY)}},t.prototype._pressedMouseMoveEvent=function(t){if(null!==this._priceScale&&this._pane.chart().options().handleScale.axisPressedMouseMove){var e=this._pane.chart().model(),i=this._pane.state();e.scalePriceTo(i,this._priceScale,t.localY)}},t.prototype._mouseDownOutsideEvent=function(){if(null!==this._priceScale&&this._pane.chart().options().handleScale.axisPressedMouseMove){var t=this._pane.chart().model(),e=this._pane.state(),i=this._priceScale;this._mousedown&&(this._mousedown=!1,t.endScalePrice(e,i))}},t.prototype._mouseUpEvent=function(t){if(null!==this._priceScale&&this._pane.chart().options().handleScale.axisPressedMouseMove){var e=this._pane.chart().model(),i=this._pane.state();this._mousedown=!1,e.endScalePrice(i,this._priceScale)}},t.prototype._mouseDoubleClickEvent=function(t){this.reset()},t.prototype._mouseEnterEvent=function(t){null!==this._priceScale&&(!this._pane.chart().model().options().handleScale.axisPressedMouseMove||this._priceScale.isPercentage()||this._priceScale.isIndexedTo100()||this._setCursor(1))},t.prototype._mouseLeaveEvent=function(t){this._setCursor(0)},t.prototype._backLabels=function(){var t=this,e=[],i=null===this._priceScale?void 0:this._priceScale;return function(n){for(var r=0;r<n.length;++r)for(var o=n[r].priceAxisViews(t._pane.state(),i),s=0;s<o.length;s++)e.push(o[s])}(this._pane.state().orderedSources()),e},t.prototype._drawBackground=function(t){null!==this._size&&Ue(t,0,0,this._size.w,this._size.h,this.backgroundColor())},t.prototype._drawBorder=function(t){if(null!==this._size&&null!==this._priceScale&&this._priceScale.options().borderVisible){t.save(),t.fillStyle=this.lineColor();var e,i=this.rendererOptions().borderSize;this._isLeft?(t.translate(-.5,-.5),e=this._size.w-i-1):(t.translate(.5,-.5),e=0),t.fillRect(e,0,i,this._size.h),t.restore()}},t.prototype._drawTickMarks=function(t){if(null!==this._size&&null!==this._priceScale){t.save(),t.strokeStyle=this.lineColor();var e=this._priceScale.marks();t.font=this.baseFont(),t.translate(-.5,-.5),t.fillStyle=this.lineColor();var i=this.rendererOptions(),n=this._priceScale.options().borderVisible;if(this._isLeft){var r=this._size.w-i.offsetSize-i.borderSize-i.tickLength;if(n){t.beginPath();for(var o=e.length;o--;)t.rect(r,e[o].coord,i.tickLength,1);t.fill()}for(t.fillStyle=this.textColor(),o=e.length;o--;)this._tickMarksCache.paintTo(t,e[o].label,r-i.paddingInner,e[o].coord,"right")}else{var s=i.borderSize+i.offsetSize;if(n){for(t.beginPath(),o=e.length;o--;)t.rect(s,e[o].coord,i.tickLength,1);t.fill()}for(t.fillStyle=this.textColor(),o=e.length;o--;)this._tickMarksCache.paintTo(t,e[o].label,s+i.tickLength+i.paddingInner,e[o].coord,"left")}t.restore()}},t.prototype._alignLabels=function(){if(null!==this._size&&null!==this._priceScale){var t=this._size.h/2,e=[],i=this._priceScale.orderedSources().slice(),n=this._pane.state(),r=this.rendererOptions();this._priceScale===n.defaultPriceScale()&&this._pane.state().orderedSources().forEach(function(t){n.isOverlay(t)&&i.push(t)});var o=this._priceScale.mainSource(),s=this._priceScale;i.forEach(function(i){var r=i.priceAxisViews(n,s);r.forEach(function(t){t.setFixedCoordinate(null),t.isVisible()&&e.push(t)}),o===i&&r.length>0&&(t=r[0].floatCoordinate())});var a=e.filter(function(e){return e.floatCoordinate()<=t}),l=e.filter(function(e){return e.floatCoordinate()>t});if(a.sort(function(t,e){return e.floatCoordinate()-t.floatCoordinate()}),a.length&&l.length&&l.push(a[0]),l.sort(function(t,e){return t.floatCoordinate()-e.floatCoordinate()}),e.forEach(function(t){return t.setFixedCoordinate(t.coordinate())}),this._priceScale.options().alignLabels){for(var c=1;c<a.length;c++){var h=a[c],u=(p=a[c-1]).height(r,!1);h.coordinate()>(f=p.getFixedCoordinate())-u&&h.setFixedCoordinate(f-u)}for(var d=1;d<l.length;d++){var p,f;h=l[d],u=(p=l[d-1]).height(r,!0),h.coordinate()<(f=p.getFixedCoordinate())+u&&h.setFixedCoordinate(f+u)}}}},t.prototype._drawBackLabels=function(t){var e=this;if(null!==this._size){var i=this._size,n=this._backLabels(),r=this.rendererOptions(),o=this._isLeft?"right":"left";n.forEach(function(n){if(n.isAxisLabelVisible()){var s=n.renderer();t.save(),s.draw(t,r,e._widthCache,i.w,o),t.restore()}})}},t.prototype._drawCrosshairLabel=function(t){var e=this;if(null!==this._size&&null!==this._priceScale){var i=this._size,n=this._pane.chart().model(),r=[],o=this._pane.state(),s=n.crosshairSource().priceAxisViews(o,this._priceScale);s.length&&r.push(s);var a=this.rendererOptions(),l=this._isLeft?"right":"left";r.forEach(function(n){n.forEach(function(n){t.save(),n.renderer().draw(t,a,e._widthCache,i.w,l),t.restore()})})}},t.prototype._setCursor=function(t){this._cell.style.cursor=1===t?"ns-resize":"default"},t.prototype._onMarksChanged=function(){var t=this,e=this.optimalWidth();if(this._prevOptimalWidth<e){var i=this._pane.chart();null===this._updateTimeout&&(this._updateTimeout=setTimeout(function(){i&&i.model().fullUpdate(),t._updateTimeout=null},100))}this._prevOptimalWidth=e},t.prototype._recreateTickMarksCache=function(t){this._tickMarksCache.destroy(),this._tickMarksCache=new si(t.fontSize,t.color,t.fontFamily)},t}(),hi=function(){function t(t,e){this._size=new je(0,0),this._priceAxisWidget=null,this._startScrollingPos=null,this._isScrolling=!1,this._priceAxisPosition="none",this._clicked=new Y,this._prevPinchScale=0,this._chart=t,this._state=e,this._state.onDestroyed().subscribe(this._onStateDestroyed.bind(this),this,!0),this._paneCell=document.createElement("td"),this._paneCell.style.padding="0",this._paneCell.style.position="relative";var i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this._leftAxisCell=document.createElement("td"),this._leftAxisCell.style.padding="0",this._rightAxisCell=document.createElement("td"),this._rightAxisCell.style.padding="0",this._paneCell.appendChild(i),this._canvas=Ye(i,new je(16,16)),this._canvas.style.position="absolute",this._canvas.style.zIndex="0",this._canvas.style.left="0",this._canvas.style.top="0",this._ctx=c(He(this._canvas)),this._topCanvas=Ye(i,new je(16,16)),this._topCanvas.style.position="absolute",this._topCanvas.style.zIndex="0",this._topCanvas.style.left="0",this._topCanvas.style.top="0",this._topCtx=c(He(this._topCanvas)),this._rowElement=document.createElement("tr"),this._rowElement.appendChild(this._leftAxisCell),this._rowElement.appendChild(this._paneCell),this._rowElement.appendChild(this._rightAxisCell),this._recreatePriceAxisWidgetImpl(),t.model().mainPriceScaleOptionsChanged().subscribe(this._recreatePriceAxisWidget.bind(this),this),this.updatePriceAxisWidget(),this._mouseEventHandler=new Qe(this._topCanvas,this,!0,!this.chart().options().handleScroll.pressedMouseMove)}return t.prototype.destroy=function(){null!==this._priceAxisWidget&&this._priceAxisWidget.destroy(),null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._mouseEventHandler.destroy()},t.prototype.state=function(){return c(this._state)},t.prototype.stateOrNull=function(){return this._state},t.prototype.setState=function(e){null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._state=e,null!==this._state&&this._state.onDestroyed().subscribe(t.prototype._onStateDestroyed.bind(this),this,!0),this.updatePriceAxisWidget()},t.prototype.chart=function(){return this._chart},t.prototype.getElement=function(){return this._rowElement},t.prototype.updatePriceAxisWidget=function(){if(null!==this._state&&null!==this._priceAxisWidget&&0!==this._chart.model().serieses().length){var t=this._state.defaultPriceScale();this._priceAxisWidget.setPriceScale(c(t))}},t.prototype.stretchFactor=function(){return null!==this._state?this._state.stretchFactor():0},t.prototype.setStretchFactor=function(t){this._state&&this._state.setStretchFactor(t)},t.prototype.mouseEnterEvent=function(t){if(this._state){var e=this._chart.model();Je||e.setAndSaveCurrentPosition(t.localX,t.localY,this._state)}},t.prototype.mouseDownEvent=function(t){if(this._state){if(document.activeElement!==document.body&&document.activeElement!==document.documentElement)c(document.activeElement).blur();else{var e=document.getSelection();null!==e&&e.removeAllRanges()}var i=this._chart.model();this._state.defaultPriceScale().isEmpty()||i.timeScale().isEmpty()||Je||i.setAndSaveCurrentPosition(t.localX,t.localY,this._state)}},t.prototype.mouseMoveEvent=function(t){if(this._state){var e=this._chart.model(),i=t.localX,n=t.localY;if(!Je){e.setAndSaveCurrentPosition(i,n,this._state);var r=this.hitTest(i,n);this._state.model().setHoveredSource(r&&r.source),null!==r&&void 0!==r.view.moveHandler&&r.view.moveHandler(i,n)}}},t.prototype.mouseClickEvent=function(t){if(null!==this._state){var e=t.localX,i=t.localY,n=this.hitTest(e,i);if(null!==n&&void 0!==n.view.clickHandler&&n.view.clickHandler(e,i),this._clicked.hasListeners()){var r=this._chart.model().crosshairSource().appliedIndex();this._clicked.fire(r,{x:e,y:i})}}},t.prototype.pressedMouseMoveEvent=function(t){if(null!==this._state){var e=this._chart.model();if(e.setAndSaveCurrentPosition(t.localX,t.localY,this._state),!e.timeScale().isEmpty()&&this._chart.options().handleScroll.pressedMouseMove){var i=this._state.defaultPriceScale();null===this._startScrollingPos&&(this._startScrollingPos={x:t.clientX,y:t.clientY}),this._startScrollingPos.x===t.clientX&&this._startScrollingPos.y===t.clientY||this._isScrolling||(i.isEmpty()||e.startScrollPrice(this._state,i,t.localY),e.startScrollTime(t.localX),this._isScrolling=!0),this._isScrolling&&(i.isEmpty()||e.scrollPriceTo(this._state,i,t.localY),e.scrollTimeTo(t.localX))}}},t.prototype.mouseUpEvent=function(t){var e=this;if(null!==this._state){var i=this._chart.model();if(this._isScrolling){var n=this._state.defaultPriceScale();i.endScrollPrice(this._state,n);var r=function(){i.endScrollTime(),e._startScrollingPos=null,e._isScrolling=!1};if(Je){var o=c(i.timeScale().scrollStartPoint()),s=.05*(t.localX-o),a=null,l=function(e){null===a&&(a=e);var n=.01*Math.min(100,3*(e-a));n=Math.sqrt(n),i.scrollTimeTo(t.localX+s*n),n>=1?r():requestAnimationFrame(l)};requestAnimationFrame(l)}else r()}}},t.prototype.mouseLeaveEvent=function(t){null!==this._state&&(this._state.model().setHoveredSource(null),this._chart.model().clearCurrentPosition())},t.prototype.clicked=function(){return this._clicked},t.prototype.pinchStartEvent=function(){this._prevPinchScale=1},t.prototype.pinchEvent=function(t,e){if(this._chart.options().handleScale.pinch){var i=5*(e-this._prevPinchScale);this._prevPinchScale=e,this._chart.model().zoomTime(t.x,i)}},t.prototype.hitTest=function(t,e){var i=this._state;if(null===i)return null;for(var n=0,r=i.orderedSources();n<r.length;n++){var o=r[n],s=this._hitTestPaneView(o.paneViews(i),t,e);if(null!==s)return{source:o,view:s}}return null},t.prototype.setPriceAxisSize=function(t){c(this._priceAxisWidget).setSize(new je(t,this._size.h))},t.prototype.getSize=function(){return this._size},t.prototype.setSize=function(t){if(t.w<0||t.h<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this._size.equals(t)||(this._size=t,qe(this._canvas,t),qe(this._topCanvas,t),this._ctx=c(He(this._canvas)),this._paneCell.style.width=t.w+"px",this._paneCell.style.height=t.h+"px")},t.prototype.recalculatePriceScale=function(){var t=c(this._state);t.recalculatePriceScale(t.defaultPriceScale());for(var e=0,i=t.dataSources();e<i.length;e++){var n=i[e];if(t.isOverlay(n)){var r=n.priceScale();null!==r&&t.recalculatePriceScale(r),n.updateAllViews()}}},t.prototype.paint=function(t){0!==t&&null!==this._state&&(t>1&&this.recalculatePriceScale(),null!==this._priceAxisWidget&&this._priceAxisWidget.paint(t),this._topCtx.clearRect(-.5,-.5,this._size.w,this._size.h),1===t?this._drawCrosshair(this._topCtx):(this._drawBackground(this._ctx,this._backgroundColor()),this._state&&(this._drawGrid(this._ctx),this._drawWatermark(this._ctx),this._drawSources(this._ctx),this._drawCrosshair(this._topCtx))))},t.prototype.priceAxisWidget=function(){return this._priceAxisWidget},t.prototype._backgroundColor=function(){return this._chart.options().layout.backgroundColor},t.prototype._onStateDestroyed=function(){null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._state=null},t.prototype._drawBackground=function(t,e){Ue(t,0,0,this._size.w,this._size.h,e)},t.prototype._drawGrid=function(t){for(var e=c(this._state),i=this._chart.model().gridSource().paneViews(e),n=e.height(),r=e.width(),o=0,s=i;o<s.length;o++){var a=s[o];t.save();var l=a.renderer(n,r);null!==l&&l.draw(t,!1),t.restore()}},t.prototype._drawWatermark=function(t){var e=this._chart.model().watermarkSource();if(null!==e){var i=c(this._state);if(i.containsSeries())for(var n=e.paneViews(),r=i.height(),o=i.width(),s=0,a=n;s<a.length;s++){var l=a[s];t.save();var h=l.renderer(r,o);null!==h&&h.draw(t,!1),t.restore()}}},t.prototype._drawCrosshair=function(t){this._drawSource(this._chart.model().crosshairSource(),t)},t.prototype._drawSources=function(t){for(var e=c(this._state).orderedSources(),i=this._chart.model().crosshairSource(),n=0,r=e;n<r.length;n++){var o=r[n];this._drawSourceBackground(o,t)}for(var s=0,a=e;s<a.length;s++)(o=a[s])!==i&&this._drawSource(o,t)},t.prototype._drawSource=function(t,e){for(var i=c(this._state),n=t.paneViews(i),r=i.height(),o=i.width(),s=i.model().hoveredSource()===t,a=0,l=n;a<l.length;a++){var h=l[a].renderer(r,o);null!==h&&(e.save(),h.draw(e,s),e.restore())}},t.prototype._drawSourceBackground=function(t,e){for(var i=c(this._state),n=t.paneViews(i),r=i.height(),o=i.width(),s=i.model().hoveredSource()===t,a=0,l=n;a<l.length;a++){var h=l[a].renderer(r,o);null!==h&&void 0!==h.drawBackground&&(e.save(),h.drawBackground(e,s),e.restore())}},t.prototype._hitTestPaneView=function(t,e,i){for(var n=0,r=t;n<r.length;n++){var o=r[n],s=o.renderer(this._size.h,this._size.w);if(null!==s&&s.hitTest&&s.hitTest(e,i))return o}return null},t.prototype._recreatePriceAxisWidget=function(){this._recreatePriceAxisWidgetImpl(),this._chart.adjustSize()},t.prototype._recreatePriceAxisWidgetImpl=function(){if(null!==this._state){var t=this._chart,e=this._state.defaultPriceScale().options().position;if(this._priceAxisPosition!==e){if(null!==this._priceAxisWidget&&(this._priceAxisWidget.isLeft()?this._leftAxisCell.removeChild(this._priceAxisWidget.getElement()):this._rightAxisCell.removeChild(this._priceAxisWidget.getElement()),this._priceAxisWidget.destroy(),this._priceAxisWidget=null),"none"!==e){var i=t.model().rendererOptionsProvider();this._priceAxisWidget=new ci(this,t.options().layout,i,e),"left"===e&&this._leftAxisCell.appendChild(this._priceAxisWidget.getElement()),"right"===e&&this._rightAxisCell.appendChild(this._priceAxisWidget.getElement())}this._priceAxisPosition=e}}},t}(),ui=function(){function t(t,e,i,n){this._invalidated=!0,this._size=new je(0,0),this._isLeft="left"===t,this._rendererOptionsProvider=i.rendererOptionsProvider,this._options=e,this._borderVisible=n,this._cell=document.createElement("div"),this._cell.style.width="25px",this._cell.style.height="100%",this._cell.style.overflow="hidden",this._canvas=Ye(this._cell,new je(16,16)),this._ctx=He(this._canvas)}return t.prototype.destroy=function(){},t.prototype.update=function(){this._invalidated=!0},t.prototype.getElement=function(){return this._cell},t.prototype.setSize=function(t){if(t.w<0||t.h<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this._size.equals(t)||(this._size=t,qe(this._canvas,t),this._cell.style.width=t.w+"px",this._cell.style.minWidth=t.w+"px",this._cell.style.height=t.h+"px",this._invalidated=!0)},t.prototype.paint=function(t){t<3&&!this._invalidated||0!==this._size.w&&0!==this._size.h&&(this._invalidated=!1,this._drawBackground(),this._drawBorder())},t.prototype.getWidth=function(){return this._size.w},t.prototype.isLeft=function(){return this._isLeft},t.prototype._drawBorder=function(){if(this._borderVisible()){var t=this._size.w;this._ctx.save(),this._ctx.fillStyle=this._options.timeScale.borderColor;var e,i=this._rendererOptionsProvider.options().borderSize;this._isLeft?(this._ctx.translate(-.5,-.5),e=t-i-1):(this._ctx.translate(-.5,-.5),e=0),this._ctx.fillRect(e,0,2*i,1),this._ctx.restore()}},t.prototype._drawBackground=function(){Ue(this._ctx,0,0,this._size.w,this._size.h,this._options.layout.backgroundColor)},t}();function di(t,e){return t.span>e.span?t:e}!function(t){t[t.BorderSize=1]="BorderSize",t[t.TickLength=3]="TickLength"}(ai||(ai={})),function(t){t[t.Default=0]="Default",t[t.EwResize=1]="EwResize"}(li||(li={}));var pi,fi=function(){function t(t){this._stub=null,this._minVisibleSpan=70,this._rendererOptions=null,this._mouseDown=!1,this._size=new je(0,0),this._priceAxisPosition="none",this._chart=t,this._options=t.options().layout,this._element=document.createElement("tr"),this._leftStubCell=document.createElement("td"),this._leftStubCell.style.padding="0",this._rightStubCell=document.createElement("td"),this._rightStubCell.style.padding="0",this._cell=document.createElement("td"),this._cell.style.height="25px",this._cell.style.padding="0",this._dv=document.createElement("div"),this._dv.style.width="100%",this._dv.style.height="100%",this._dv.style.position="relative",this._dv.style.overflow="hidden",this._cell.appendChild(this._dv),this._canvas=Ye(this._dv,new je(16,16)),this._canvas.style.position="absolute",this._canvas.style.zIndex="0",this._canvas.style.left="0",this._canvas.style.top="0",this._canvasContext=c(He(this._canvas)),this._topCanvas=Ye(this._dv,new je(16,16)),this._topCanvas.style.position="absolute",this._topCanvas.style.zIndex="0",this._topCanvas.style.left="0",this._topCanvas.style.top="0",this._topCanvasContext=c(He(this._topCanvas)),this._element.appendChild(this._leftStubCell),this._element.appendChild(this._cell),this._element.appendChild(this._rightStubCell),this._recreateStub(),this._chart.model().mainPriceScaleOptionsChanged().subscribe(this._recreateStub.bind(this),this),this._mouseEventHandler=new Qe(this._cell,this,!0,!1)}return t.prototype.destroy=function(){this._mouseEventHandler.destroy(),null!==this._stub&&this._stub.destroy()},t.prototype.getElement=function(){return this._element},t.prototype.mouseDownEvent=function(t){if(!this._mouseDown){this._mouseDown=!0;var e=this._chart.model();!e.timeScale().isEmpty()&&this._chart.options().handleScale.axisPressedMouseMove&&e.startScaleTime(t.localX)}},t.prototype.mouseDownOutsideEvent=function(){var t=this._chart.model();!t.timeScale().isEmpty()&&this._mouseDown&&(this._mouseDown=!1,this._chart.options().handleScale.axisPressedMouseMove&&t.endScaleTime())},t.prototype.pressedMouseMoveEvent=function(t){var e=this._chart.model();!e.timeScale().isEmpty()&&this._chart.options().handleScale.axisPressedMouseMove&&e.scaleTimeTo(t.localX)},t.prototype.mouseUpEvent=function(t){this._mouseDown=!1;var e=this._chart.model();e.timeScale().isEmpty()&&!this._chart.options().handleScale.axisPressedMouseMove||e.endScaleTime()},t.prototype.mouseDoubleClickEvent=function(){this._chart.model().resetTimeScale()},t.prototype.mouseEnterEvent=function(t){this._chart.model().options().handleScale.axisPressedMouseMove&&this._setCursor(1)},t.prototype.mouseLeaveEvent=function(t){this._setCursor(0)},t.prototype.setSizes=function(t,e){this._size&&this._size.equals(t)||(this._size=t,qe(this._canvas,t),qe(this._topCanvas,t),He(this._canvas),He(this._topCanvas),this._cell.style.width=t.w+"px",this._cell.style.height=t.h+"px"),null!==this._stub&&this._stub.setSize(new je(e,t.h))},t.prototype.width=function(){return this._size.w},t.prototype.height=function(){return this._size.h},t.prototype.optimalHeight=function(){var t=this._getRendererOptions();return Math.ceil(t.borderSize+t.tickLength+t.fontSize+t.paddingTop+t.paddingBottom)},t.prototype.update=function(){var t=this,e=this._chart.model().timeScale().marks();e&&(this._minVisibleSpan=70,e.forEach(function(e){t._minVisibleSpan=Math.min(e.span,t._minVisibleSpan)}))},t.prototype.paint=function(t){if(0!==t)if(1!==t){var e=this._canvasContext;this._drawBackground(e),this._drawBorder(e),this._drawTickMarks(e),this._drawBackLabels(e),this._chart.model().crosshairSource().updateAllViews(),this._drawCrosshairLabel(this._topCanvasContext),null!==this._stub&&this._stub.paint(t)}else this._drawCrosshairLabel(this._topCanvasContext)},t.prototype._drawBackground=function(t){Ue(t,0,0,this._size.w,this._size.h,this._backgroundColor())},t.prototype._drawBorder=function(t){this._chart.options().timeScale.borderVisible&&Ue(t,0,0,this._size.w,1,this._lineColor())},t.prototype._drawTickMarks=function(t){var e=this._chart.model().timeScale().marks();if(e&&0!==e.length){var i=e.reduce(di,e[0]).span;i>30&&i<40&&(i=30),t.save(),t.strokeStyle=this._lineColor();var n=this._getRendererOptions(),r=n.borderSize+n.tickLength+n.paddingTop+n.fontSize-n.baselineOffset;if(t.textAlign="center",t.translate(.5,-.5),t.fillStyle=this._lineColor(),this._chart.model().timeScale().options().borderVisible){t.beginPath();for(var o=e.length;o--;)t.rect(e[o].coord,1,1,n.tickLength);t.fill()}t.fillStyle=this._textColor(),t.font=this._baseFont();for(var s=0,a=e;s<a.length;s++)(h=a[s]).span<i&&t.fillText(h.label,h.coord,r);t.font=this._baseBoldFont();for(var l=0,c=e;l<c.length;l++){var h;(h=c[l]).span>=i&&t.fillText(h.label,h.coord,r)}t.restore()}},t.prototype._drawBackLabels=function(t){t.save();var e=new Set,i=this._chart.model(),n=i.dataSources();e.add(i.crosshairSource());for(var r=this._getRendererOptions(),o=0,s=n;o<s.length;o++){var a=s[o];if(!e.has(a))for(var l=0,c=a.timeAxisViews();l<c.length;l++)c[l].renderer().draw(t,r)}t.restore()},t.prototype._drawCrosshairLabel=function(t){this._topCanvasContext.clearRect(-.5,-.5,this._size.w,this._size.h);var e=[],i=this._chart.model().crosshairSource().timeAxisViews();e.push(i);var n=this._getRendererOptions();e.forEach(function(e){e.forEach(function(e){t.save(),e.renderer().draw(t,n),t.restore()})})},t.prototype._backgroundColor=function(){return this._options.backgroundColor},t.prototype._lineColor=function(){return this._chart.options().timeScale.borderColor},t.prototype._textColor=function(){return this._options.textColor},t.prototype._fontSize=function(){return this._options.fontSize},t.prototype._baseFont=function(){return se(this._fontSize(),this._options.fontFamily)},t.prototype._baseBoldFont=function(){return se(this._fontSize(),this._options.fontFamily,"bold")},t.prototype._getRendererOptions=function(){null===this._rendererOptions&&(this._rendererOptions={borderSize:1,baselineOffset:NaN,paddingTop:NaN,paddingBottom:NaN,paddingHorizontal:NaN,tickLength:3,fontSize:NaN,font:"",widthCache:new Ot});var t=this._rendererOptions,e=this._baseFont();if(t.font!==e){var i=this._fontSize();t.fontSize=i,t.font=e,t.paddingTop=Math.ceil(i/2.5),t.paddingBottom=t.paddingTop,t.paddingHorizontal=Math.ceil(i/2),t.baselineOffset=Math.round(this._fontSize()/5),t.widthCache.reset()}return this._rendererOptions},t.prototype._setCursor=function(t){this._cell.style.cursor=1===t?"ew-resize":"default"},t.prototype._recreateStub=function(){var t=this._chart.model().mainPriceScale().options().position;if(t!==this._priceAxisPosition){if(null!==this._stub&&(this._stub.isLeft()?this._leftStubCell.removeChild(this._stub.getElement()):this._rightStubCell.removeChild(this._stub.getElement()),this._stub.destroy(),this._stub=null),"none"!==t){var e={rendererOptionsProvider:this._chart.model().rendererOptionsProvider()},i=this._chart.model();this._stub=new ui(t,this._chart.options(),e,function(){return i.mainPriceScale().options().borderVisible&&i.timeScale().options().borderVisible}),("left"===t?this._leftStubCell:this._rightStubCell).appendChild(this._stub.getElement())}this._priceAxisPosition=t}},t}(),_i=function(){function t(t,e){var i=this;this._paneWidgets=[],this._paneSeparators=[],this._drawRafId=0,this._priceAxisWidthChanged=new Y,this._height=0,this._width=0,this._priceAxisWidth=0,this._invalidateMask=null,this._drawPlanned=!1,this._clicked=new Y,this._crosshairMoved=new Y,this._options=e,this._element=document.createElement("div"),this._element.style.overflow="hidden",this._element.style.width="100%",this._element.style.height="100%",this._tableElement=document.createElement("table"),this._tableElement.setAttribute("cellspacing","0"),this._element.appendChild(this._tableElement),this._onWheelBound=this._onMousewheel.bind(this),this._element.addEventListener("wheel",this._onWheelBound,{passive:!1}),this._model=new Ve(this._invalidateHandler.bind(this),this._options),this.model().crosshairMoved().subscribe(this._onPaneWidgetCrosshairMoved.bind(this),this),this._timeAxisWidget=new fi(this),this._tableElement.appendChild(this._timeAxisWidget.getElement());var n=this._options.width,r=this._options.height;if(0===n&&0===r){var o=t.getBoundingClientRect();n=o.width,r=o.height}n=Math.max(70,n),r=Math.max(50,r),this.resize(r,n),this._syncGuiWithModel(),t.appendChild(this._element),this._updateTimeAxisVisibility(),this._model.timeScale().optionsApplied().subscribe(function(){i._updateTimeAxisVisibility(),i.adjustSize()},this)}return t.prototype.model=function(){return this._model},t.prototype.options=function(){return this._options},t.prototype.paneWidgets=function(){return this._paneWidgets},t.prototype.destroy=function(){this._element.removeEventListener("wheel",this._onWheelBound),0!==this._drawRafId&&window.cancelAnimationFrame(this._drawRafId),this._model.crosshairMoved().unsubscribeAll(this),this._model.timeScale().optionsApplied().unsubscribeAll(this),this._model.destroy();for(var t=0,e=this._paneWidgets;t<e.length;t++){var i=e[t];this._tableElement.removeChild(i.getElement()),i.clicked().unsubscribeAll(this),i.destroy()}this._paneWidgets=[];for(var n=0,r=this._paneSeparators;n<r.length;n++)this._destroySeparator(r[n]);this._paneSeparators=[],c(this._timeAxisWidget).destroy(),null!==this._element.parentElement&&this._element.parentElement.removeChild(this._element),this._crosshairMoved.destroy(),this._clicked.destroy(),delete this._element},t.prototype.resize=function(t,e,i){if(void 0===i&&(i=!1),this._height!==t||this._width!==e){this._height=t,this._width=e;var n=t+"px",r=e+"px";c(this._element).style.height=n,c(this._element).style.width=r,this._tableElement.style.height=n,this._tableElement.style.width=r,i?this._drawImpl(new de(3)):this._model.fullUpdate()}},t.prototype.paint=function(t){void 0===t&&(t=new de(3));for(var e=0;e<this._paneWidgets.length;e++)this._paneWidgets[e].paint(t.invalidateForPane(e).level);this._timeAxisWidget.paint(t.fullInvalidation())},t.prototype.adjustSize=function(){this._adjustSizeImpl(),this._model.fullUpdate()},t.prototype.applyOptions=function(t){this._model.applyOptions(t),this._updateTimeAxisVisibility(),this.resize(t.height||this._height,t.width||this._width)},t.prototype.clicked=function(){return this._clicked},t.prototype.crosshairMoved=function(){return this._crosshairMoved},t.prototype._adjustSizeImpl=function(){for(var t=0,e=0,i=0,n=this._paneWidgets;i<n.length;i++){var r=n[i];"none"!==this._options.priceScale.position&&(e=Math.max(e,c(r.priceAxisWidget()).optimalWidth())),t+=r.stretchFactor()}for(var o=this._height,s=Math.max(this._width-e,0),a=ni*this._paneSeparators.length,l=this._options.timeScale.visible?this._timeAxisWidget.optimalHeight():0,h=a+l,u=o<h?0:o-h,d=u/t,p=0,f=0;f<this._paneWidgets.length;++f){var _,m;(r=this._paneWidgets[f]).setState(this._model.panes()[f]),m=f===this._paneWidgets.length-1?u-p:Math.round(r.stretchFactor()*d),p+=_=Math.max(m,2),r.setSize(new je(s,_)),"none"!==this._options.priceScale.position&&r.setPriceAxisSize(e),r.state()&&this._model.setPaneHeight(r.state(),_)}this._timeAxisWidget.setSizes(new je(s,l),e),this._model.setWidth(s),this._priceAxisWidth!==e&&(this._priceAxisWidth=e,this._priceAxisWidthChanged.fire(e))},t.prototype._onMousewheel=function(t){var e=t.deltaX/100,i=-t.deltaY/100;if(0!==e&&this._options.handleScroll.mouseWheel||0!==i&&this._options.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120,i*=120;break;case t.DOM_DELTA_LINE:e*=32,i*=32}if(0!==i&&this._options.handleScale.mouseWheel){var n=Math.sign(i)*Math.min(1,Math.abs(i)),r=t.clientX-this._element.getBoundingClientRect().left;this.model().zoomTime(r,n)}0!==e&&this._options.handleScroll.mouseWheel&&this.model().scrollChart(-80*e)}},t.prototype._drawImpl=function(t){var e=t.fullInvalidation();if(3===e&&this._updateGui(),3===e||2===e){for(var i=this._model.panes(),n=0;n<i.length;n++)t.invalidateForPane(n).autoScale&&i[n].momentaryAutoScale();t.getFitContent()&&this._model.timeScale().fitContent();var r=t.getTargetTimeRange();null!==r&&this._model.timeScale().setTimePointsRange(r),this._timeAxisWidget.update()}this.paint(t)},t.prototype._invalidateHandler=function(t){var e=this;null!==this._invalidateMask?this._invalidateMask.merge(t):this._invalidateMask=t,this._drawPlanned||(this._drawPlanned=!0,this._drawRafId=window.requestAnimationFrame(function(){e._drawPlanned=!1,e._drawRafId=0,null!==e._invalidateMask&&(e._drawImpl(e._invalidateMask),e._invalidateMask=null)}))},t.prototype._updateGui=function(){this._syncGuiWithModel()},t.prototype._destroySeparator=function(t){this._tableElement.removeChild(t.getElement()),t.destroy()},t.prototype._syncGuiWithModel=function(){for(var t=this._model.panes(),e=t.length,i=this._paneWidgets.length,n=e;n<i;n++){var r=l(this._paneWidgets.pop());this._tableElement.removeChild(r.getElement()),r.clicked().unsubscribeAll(this),r.destroy(),void 0!==(o=this._paneSeparators.pop())&&this._destroySeparator(o)}for(n=i;n<e;n++){if((r=new hi(this,t[n])).clicked().subscribe(this._onPaneWidgetClicked.bind(this),this),this._paneWidgets.push(r),n>1){var o=new ri(this,n-1,n,!0);this._paneSeparators.push(o),this._tableElement.insertBefore(o.getElement(),this._timeAxisWidget.getElement())}this._tableElement.insertBefore(r.getElement(),this._timeAxisWidget.getElement())}for(n=0;n<e;n++){var s=t[n];(r=this._paneWidgets[n]).state()!==s?r.setState(s):r.updatePriceAxisWidget()}this._updateTimeAxisVisibility(),this._adjustSizeImpl()},t.prototype._getMouseEventParamsImpl=function(t,e){var i,n=new Map;if(null!==t&&this._model.serieses().forEach(function(e){var i=e.data().valueAt(t);if(null!==i){var r=e.barFunction()(i.value);n.set(e,r)}}),null!==t){var r=this._model.timeScale().indexToUserTime(t);null!==r&&(i=r)}return{time:i,point:e||void 0,seriesPrices:n}},t.prototype._onPaneWidgetClicked=function(t,e){var i=this._getMouseEventParamsImpl(t,e);this._clicked.fire(i)},t.prototype._onPaneWidgetCrosshairMoved=function(t,e){var i=this._getMouseEventParamsImpl(t,e);this._crosshairMoved.fire(i)},t.prototype._updateTimeAxisVisibility=function(){var t=this._options.timeScale.visible?"":"none";this._timeAxisWidget.getElement().style.display=t},t}();function mi(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}!function(t){t[t.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",t[t.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(pi||(pi={}));var vi=function(){function t(t,e){this._series=t,this._dataUpdatesConsumer=e}return t.prototype.destroy=function(){delete this._series,delete this._dataUpdatesConsumer},t.prototype.priceFormatter=function(){return this._series.formatter()},t.prototype.series=function(){return this._series},t.prototype.priceToCoordinate=function(t){var e=this._series.firstValue();return null===e?null:this._series.priceScale().priceToCoordinate(t,e)},t.prototype.setData=function(t){this._dataUpdatesConsumer.applyNewData(this._series,t)},t.prototype.update=function(t){this._dataUpdatesConsumer.updateData(this._series,t)},t.prototype.applyOptions=function(t){this._series.applyOptions(t)},t.prototype.options=function(){return m(this._series.options())},t}(),gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.applyOptions=function(e){mi(e),t.prototype.applyOptions.call(this,e)},e}(vi);function yi(t){if(!ie(t))throw new Error("time must be of type BusinessDay");var e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{timestamp:Math.round(e.getTime()/1e3),businessDay:t}}function bi(t){if(!ne(t))throw new Error("time must be of type isUTCTimestamp");return{timestamp:t}}function Si(t){return 0===t.length?null:ie(t[0].time)?yi:bi}function wi(t){return ie(t)?yi(t):bi(t)}function xi(t,e){if("value"in t){var i=t.value,n=0;if("color"in t){var r=t;void 0!==r.color&&(n=l(e).addColor(r.color))}return[i,i,i,i,n]}return[t.open,t.high,t.low,t.close,0]}function Ci(t){return 60*t*60*1e3}function ki(t){return 60*t*1e3}var Ti=[{divisor:1,span:20},{divisor:1e3,span:19},{divisor:ki(1),span:20},{divisor:ki(5),span:21},{divisor:ki(30),span:22},{divisor:Ci(1),span:30},{divisor:Ci(3),span:31},{divisor:Ci(6),span:32},{divisor:Ci(12),span:33}];function Mi(t,e){if(null!==e){var i=new Date(1e3*e.timestamp),n=new Date(1e3*t.timestamp);if(n.getUTCFullYear()!==i.getUTCFullYear())return 70;if(n.getUTCMonth()!==i.getUTCMonth())return 60;if(n.getUTCDate()!==i.getUTCDate())return 50;for(var r=Ti.length-1;r>=0;--r)if(Math.floor(i.getTime()/Ti[r].divisor)!==Math.floor(n.getTime()/Ti[r].divisor))return Ti[r].span}return 20}function Pi(t,e){return t.timestamp<e.timestamp}function Ei(t){f(t.time)&&(t.time=function(t){var e=new Date(t);if(isNaN(e.getTime()))throw new Error("Invalid date string="+t+", expected format=yyyy-mm-dd");return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}(t.time))}var Di,Ai=function(){function t(){this._pointDataByTimePoint=new Map,this._timePointsByIndex=new Map,this._sortedTimePoints=[]}return t.prototype.destroy=function(){this._pointDataByTimePoint.clear(),this._timePointsByIndex.clear(),this._sortedTimePoints=[]},t.prototype.setSeriesData=function(t,e,i){var n=this;e.forEach(Ei),this._pointDataByTimePoint.forEach(function(e){return e.mapping.delete(t)});var r=Si(e);null!==r&&e.forEach(function(e){var i=r(e.time),o=n._pointDataByTimePoint.get(i.timestamp)||{index:0,mapping:new Map,timePoint:i};o.mapping.set(t,e),n._pointDataByTimePoint.set(i.timestamp,o)});var o=new Map;return this._pointDataByTimePoint.forEach(function(t,e){t.mapping.size>0&&o.set(e,t)}),this._setNewPoints(o,i)},t.prototype.removeSeries=function(t){return this.setSeriesData(t,[])},t.prototype.updateSeriesData=function(t,e,i){Ei(e);var n=t.data().bars();if(n.size()>0)if(void 0!==c(n.last()).time.businessDay){if(!ie(e.time))throw new Error("time must be of type BusinessDay")}else if(!ne(e.time))throw new Error("time must be of type isUTCTimestamp");var r=c(Si([e]))(e.time),o=this._pointDataByTimePoint.get(r.timestamp)||{index:0,mapping:new Map,timePoint:r},s=0===o.mapping.size;o.mapping.set(t,e);var a=!1;if(s){var h=this._pointDataByTimePoint.size;this._sortedTimePoints.length>0&&this._sortedTimePoints[this._sortedTimePoints.length-1].timestamp>r.timestamp?(h=pt(this._sortedTimePoints,r,Pi),this._sortedTimePoints.splice(h,0,r),this._incrementIndicesFrom(h),a=!0):this._sortedTimePoints.push(r),o.index=h,this._timePointsByIndex.set(o.index,r)}this._pointDataByTimePoint.set(r.timestamp,o);var u=new Map,d=function(e){var n=l(p._timePointsByIndex.get(e));l(p._pointDataByTimePoint.get(n.timestamp)).mapping.forEach(function(r,o){if(a||o===t){var s=u.get(o)||{update:[]},l={index:e,time:n,value:xi(r,i)};s.update.push(l),u.set(o,s)}})},p=this;for(h=o.index;h<this._pointDataByTimePoint.size;++h)d(h);var f=s?this._generateMarksSinceIndex(o.index):[],_=s?this._sortedTimePoints.slice(o.index):[];return{timeScaleUpdate:{seriesUpdates:u,changes:_,index:o.index,marks:f}}},t.prototype._setNewPoints=function(t,e){var i=this;this._pointDataByTimePoint=t,this._sortedTimePoints=Array.from(this._pointDataByTimePoint.values()).map(function(t){return t.timePoint}),this._sortedTimePoints.sort(function(t,e){return t.timestamp-e.timestamp});var n=new Map;this._sortedTimePoints.forEach(function(t,r){var o=l(i._pointDataByTimePoint.get(t.timestamp));o.index=r,o.mapping.forEach(function(i,o){var s=n.get(o)||{update:[]},a={index:r,time:t,value:xi(i,e)};s.update.push(a),n.set(o,s)})});var r=null,o=this._sortedTimePoints.map(function(t,e){var i=Mi(t,r);return r=t,{span:i,time:t,index:e}}),s={seriesUpdates:n,changes:this._sortedTimePoints.slice(),index:0,marks:o};return this._rebuildTimePointsByIndex(),{timeScaleUpdate:s}},t.prototype._incrementIndicesFrom=function(t){for(var e=this._timePointsByIndex.size-1;e>=t;--e){var i=l(this._timePointsByIndex.get(e)),n=e+1;l(this._pointDataByTimePoint.get(i.timestamp)).index=n,this._timePointsByIndex.delete(e),this._timePointsByIndex.set(n,i)}},t.prototype._rebuildTimePointsByIndex=function(){var t=this;this._timePointsByIndex.clear(),this._pointDataByTimePoint.forEach(function(e,i){t._timePointsByIndex.set(e.index,e.timePoint)})},t.prototype._generateMarksSinceIndex=function(t){for(var e=[],i=this._timePointsByIndex.get(t-1)||null,n=t;n<this._timePointsByIndex.size;++n){var r=l(this._timePointsByIndex.get(n)),o=Mi(r,i);i=r,e.push({span:o,time:r,index:n})}return e},t}(),Oi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.setData=function(t){var e,i,n,r=(e=t,i=this._series.options().color,(n=new Nt).addColor(i),e.forEach(function(t){void 0!==t.color&&n.addColor(t.color)}),n);this._dataUpdatesConsumer.applyNewData(this._series,t,r)},e}(vi),Li={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Ii={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Ri={color:"#2196f3",lineStyle:0,lineWidth:3,crosshairMarkerVisible:!0,crosshairMarkerRadius:4},zi={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,crosshairMarkerVisible:!0,crosshairMarkerRadius:4},$i={color:"#26a69a",base:0,lineWidth:2},Vi={title:"",lastValueVisible:!0,priceLineVisible:!0,priceLineWidth:1,priceLineColor:"",priceLineStyle:1,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},Bi=function(){function t(t){this._chartModel=t}return t.prototype.destroy=function(){delete this._chartModel},t.prototype.applyOptions=function(t){this._chartModel.applyOptions({priceScale:t})},t.prototype.options=function(){return this._priceScale().options()},t.prototype._priceScale=function(){return this._chartModel.mainPriceScale()},t}();!function(t){t[t.AnimationDurationMs=1e3]="AnimationDurationMs"}(Di||(Di={}));var Ni=function(){function t(t){this._model=t}return t.prototype.destroy=function(){delete this._model},t.prototype.scrollPosition=function(){return this._timeScale().rightOffset()},t.prototype.scrollToPosition=function(t,e){e?this._timeScale().scrollToOffsetAnimated(t,1e3):this._timeScale().setRightOffset(t)},t.prototype.scrollToRealTime=function(){this._timeScale().scrollToRealTime()},t.prototype.getVisibleRange=function(){var t=this._timeScale().visibleBars();if(null===t)return null;var e=this._model.timeScale().points(),i=c(e.firstIndex()),n=c(e.lastIndex());return{from:Wi(c(e.valueAt(Math.max(i,t.firstBar())))),to:Wi(c(e.valueAt(Math.min(n,t.lastBar()))))}},t.prototype.setVisibleRange=function(t){var e={from:wi(t.from),to:wi(t.to)};this._model.setTargetTimeRange(e)},t.prototype.resetTimeScale=function(){this._model.resetTimeScale()},t.prototype.fitContent=function(){this._model.fitContent()},t.prototype.applyOptions=function(t){this._timeScale().applyOptions(t)},t.prototype.options=function(){return m(this._timeScale().options())},t.prototype._timeScale=function(){return this._model.timeScale()},t}();function Wi(t){return t.businessDay||t.timestamp}function Hi(t){void 0!==t&&void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(t){if(t>=1)return 0;for(var e=0;e<8;e++){var i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}(t.minMove))}var Fi=function(){function t(t,e){var i=this;this._dataLayer=new Ai,this._timeRangeChanged=new Y,this._seriesMap=new Map,this._seriesMapReversed=new Map,this._clickedDelegate=new Y,this._crosshairMovedDelegate=new Y,this._chartWidget=new _i(t,e),this._chartWidget.model().timeScale().visibleBarsChanged().subscribe(this._onVisibleBarsChanged.bind(this)),this._chartWidget.clicked().subscribe(function(t){return i._clickedDelegate.fire(i._convertMouseParams(t))},this),this._chartWidget.crosshairMoved().subscribe(function(t){return i._crosshairMovedDelegate.fire(i._convertMouseParams(t))},this);var n=this._chartWidget.model();this._priceScaleApi=new Bi(n),this._timeScaleApi=new Ni(n)}return t.prototype.remove=function(){this._chartWidget.model().timeScale().visibleBarsChanged().unsubscribeAll(this),this._chartWidget.clicked().unsubscribeAll(this),this._chartWidget.crosshairMoved().unsubscribeAll(this),this._priceScaleApi.destroy(),this._timeScaleApi.destroy(),this._chartWidget.destroy(),delete this._chartWidget,this._seriesMap.forEach(function(t,e){e.destroy()}),this._seriesMap.clear(),this._seriesMapReversed.clear(),this._timeRangeChanged.destroy(),this._clickedDelegate.destroy(),this._crosshairMovedDelegate.destroy(),this._dataLayer.destroy(),delete this._dataLayer},t.prototype.resize=function(t,e,i){this._chartWidget.resize(t,e,i)},t.prototype.addAreaSeries=function(t){void 0===t&&(t={}),Hi(t.priceFormat);var e=u(m(Vi),zi,t),i=this._chartWidget.model().createSeries("Area",e),n=new vi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addBarSeries=function(t){void 0===t&&(t={}),Hi(t.priceFormat);var e=u(m(Vi),Ii,t),i=this._chartWidget.model().createSeries("Bar",e),n=new vi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),mi(t),Hi(t.priceFormat);var e=u(m(Vi),Li,t),i=this._chartWidget.model().createSeries("Candlestick",e),n=new gi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),Hi(t.priceFormat);var e=u(m(Vi),$i,t),i=this._chartWidget.model().createSeries("Histogram",e),n=new Oi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.addLineSeries=function(t){void 0===t&&(t={}),Hi(t.priceFormat);var e=u(m(Vi),Ri,t),i=this._chartWidget.model().createSeries("Line",e),n=new vi(i,this);return this._seriesMap.set(n,i),this._seriesMapReversed.set(i,n),n},t.prototype.removeSeries=function(t){var e=t,i=l(this._seriesMap.get(e)),n=this._dataLayer.removeSeries(i),r=this._chartWidget.model();r.removeSeries(i);var o=n.timeScaleUpdate;r.updateTimeScale(o.index,o.changes,o.marks,!0),o.seriesUpdates.forEach(function(t,e){e.setData(t.update,!1)}),r.updateTimeScaleBaseIndex(0),this._seriesMap.delete(e),this._seriesMapReversed.delete(i)},t.prototype.applyNewData=function(t,e,i){var n=this._dataLayer.setSeriesData(t,e,i),r=this._chartWidget.model(),o=n.timeScaleUpdate;r.updateTimeScale(o.index,o.changes,o.marks,!0),o.seriesUpdates.forEach(function(e,n){n.setData(e.update,t===n,i)}),r.updateTimeScaleBaseIndex(0)},t.prototype.updateData=function(t,e){var i=t.palette(),n=this._dataLayer.updateSeriesData(t,e,i),r=this._chartWidget.model(),o=n.timeScaleUpdate;r.updateTimeScale(o.index,o.changes,o.marks,!1),o.seriesUpdates.forEach(function(t,e){e.updateData(t.update)}),r.updateTimeScaleBaseIndex(0)},t.prototype.subscribeClick=function(t){this._clickedDelegate.subscribe(t)},t.prototype.unsubscribeClick=function(t){this._clickedDelegate.unsubscribe(t)},t.prototype.subscribeCrosshairMove=function(t){this._crosshairMovedDelegate.subscribe(t)},t.prototype.unsubscribeCrosshairMove=function(t){this._crosshairMovedDelegate.unsubscribe(t)},t.prototype.subscribeVisibleTimeRangeChange=function(t){this._timeRangeChanged.subscribe(t)},t.prototype.unsubscribeVisibleTimeRangeChange=function(t){this._timeRangeChanged.unsubscribe(t)},t.prototype.priceScale=function(){return this._priceScaleApi},t.prototype.timeScale=function(){return this._timeScaleApi},t.prototype.applyOptions=function(t){this._chartWidget.applyOptions(t)},t.prototype.options=function(){return this._chartWidget.options()},t.prototype._onVisibleBarsChanged=function(){this._timeRangeChanged.hasListeners()&&this._timeRangeChanged.fire(this.timeScale().getVisibleRange())},t.prototype._mapSeriesToApi=function(t){return l(this._seriesMapReversed.get(t))},t.prototype._convertMouseParams=function(t){var e=this,i=new Map;return t.seriesPrices.forEach(function(t,n){i.set(e._mapSeriesToApi(n),t)}),{time:t.time&&(t.time.businessDay||t.time.timestamp),point:t.point,seriesPrices:i}},t}(),ji={width:0,height:0,layout:{backgroundColor:"#FFFFFF",textColor:"#191919",fontSize:11,fontFamily:oe},crosshair:{vertLine:{color:"#758696",width:1,style:2,visible:!0,labelVisible:!0},horzLine:{color:"#758696",width:1,style:2,visible:!0,labelVisible:!0},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},priceScale:{autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,position:"right",borderVisible:!0,borderColor:"#2B2B43",scaleMargins:{bottom:.1,top:.2}},timeScale:{rightOffset:0,barSpacing:6,fixLeftEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0},watermark:{color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,text:"",horzAlign:"center",vertAlign:"center"},localization:{locale:navigator.language,dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0},handleScale:{axisPressedMouseMove:!0,mouseWheel:!0,pinch:!0}},qi=Object.freeze({version:function(){return"1.0.0-rc.5"},get LineStyle(){return e},get LineType(){return t},get CrosshairMode(){return I},get PriceScaleMode(){return Gt},isBusinessDay:ie,isUTCTimestamp:ne,createChart:function(t,e){var i=c(f(t)?document.getElementById(t):t),n=void 0===e?m(ji):u(m(ji),e);return new Fi(i,n)}});window.LightweightCharts=qi}(),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],n=t.document,r=Object.getPrototypeOf,o=i.slice,s=i.concat,a=i.push,l=i.indexOf,c={},h=c.toString,u=c.hasOwnProperty,d=u.toString,p=d.call(Object),f={},_=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function g(t,e,i){var r,o=(e=e||n).createElement("script");if(o.text=t,i)for(r in v)i[r]&&(o[r]=i[r]);e.head.appendChild(o).parentNode.removeChild(o)}function y(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?c[h.call(t)]||"object":typeof t}var b=function(t,e){return new b.fn.init(t,e)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(t){var e=!!t&&"length"in t&&t.length,i=y(t);return!_(t)&&!m(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},b.extend=b.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||_(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],s!==(n=t[e])&&(c&&n&&(b.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&b.isPlainObject(i)?i:{},s[e]=b.extend(c,o,n)):void 0!==n&&(s[e]=n));return s},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==h.call(t)||(e=r(t))&&("function"!=typeof(i=u.call(e,"constructor")&&e.constructor)||d.call(i)!==p))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){g(t)},each:function(t,e){var i,n=0;if(w(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(S,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(w(Object(t))?b.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,i){var n,r,o=0,a=[];if(w(t))for(n=t.length;o<n;o++)null!=(r=e(t[o],o,i))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,i))&&a.push(r);return s.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=i[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){c["[object "+e+"]"]=e.toLowerCase()});var x=function(t){var e,i,n,r,o,s,a,l,c,h,u,d,p,f,_,m,v,g,y,b="sizzle"+1*new Date,S=t.document,w=0,x=0,C=st(),k=st(),T=st(),M=function(t,e){return t===e&&(u=!0),0},P={}.hasOwnProperty,E=[],D=E.pop,A=E.push,O=E.push,L=E.slice,I=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",V="\\["+z+"*("+$+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+z+"*\\]",B=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",N=new RegExp(z+"+","g"),W=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),H=new RegExp("^"+z+"*,"+z+"*"),F=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),j=new RegExp("="+z+"*([^\\]'\"]*?)"+z+"*\\]","g"),q=new RegExp(B),U=new RegExp("^"+$+"$"),Y={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){d()},rt=gt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{O.apply(E=L.call(S.childNodes),S.childNodes)}catch(xt){O={apply:E.length?function(t,e){A.apply(t,L.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function ot(t,e,n,r){var o,a,c,h,u,f,v,g=e&&e.ownerDocument,w=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return n;if(!r&&((e?e.ownerDocument||e:S)!==p&&d(e),e=e||p,_)){if(11!==w&&(u=J.exec(t)))if(o=u[1]){if(9===w){if(!(c=e.getElementById(o)))return n;if(c.id===o)return n.push(c),n}else if(g&&(c=g.getElementById(o))&&y(e,c)&&c.id===o)return n.push(c),n}else{if(u[2])return O.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&i.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(o)),n}if(i.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==w)g=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((h=e.getAttribute("id"))?h=h.replace(et,it):e.setAttribute("id",h=b),a=(f=s(t)).length;a--;)f[a]="#"+h+" "+vt(f[a]);v=f.join(","),g=K.test(t)&&_t(e.parentNode)||e}if(v)try{return O.apply(n,g.querySelectorAll(v)),n}catch(x){}finally{h===b&&e.removeAttribute("id")}}}return l(t.replace(W,"$1"),e,n,r)}function st(){var t=[];return function e(i,r){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=r}}function at(t){return t[b]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(xt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return at(function(e){return e=+e,at(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function _t(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:S;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,_=!o(p),S!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",nt,!1):r.attachEvent&&r.attachEvent("onunload",nt)),i.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=lt(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=Z.test(p.getElementsByClassName),i.getById=lt(function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&_){var i,n,r,o=e.getElementById(t);if(o){if((i=o.getAttributeNode("id"))&&i.value===t)return[o];for(r=e.getElementsByName(t),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===t)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&_)return e.getElementsByClassName(t)},v=[],m=[],(i.qsa=Z.test(p.querySelectorAll))&&(lt(function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+z+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=Z.test(g=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt(function(t){i.disconnectedMatch=g.call(t,"*"),g.call(t,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(f.compareDocumentPosition),y=e||Z.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},M=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===S&&y(S,t)?-1:e===p||e.ownerDocument===S&&y(S,e)?1:h?I(h,t)-I(h,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:h?I(h,t)-I(h,e):0;if(r===o)return ht(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ht(s[n],a[n]):s[n]===S?-1:a[n]===S?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),e=e.replace(j,"='$1']"),i.matchesSelector&&_&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var n=g.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(xt){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),y(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var r=n.attrHandle[e.toLowerCase()],o=r&&P.call(n.attrHandle,e.toLowerCase())?r(t,e,!_):void 0;return void 0!==o?o:i.attributes||!_?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,it)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,n=[],r=0,o=0;if(u=!i.detectDuplicates,h=!i.sortStable&&t.slice(0),t.sort(M),u){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return h=null,t},r=ot.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(n=ot.selectors={cacheLength:50,createPseudo:at,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&q.test(i)&&(e=s(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+z+")"+t+"("+z+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var r=ot.attr(n,t);return null==r?"!="===e:!e||(r+="","="===e?r===i:"!="===e?r!==i:"^="===e?i&&0===r.indexOf(i):"*="===e?i&&r.indexOf(i)>-1:"$="===e?i&&r.slice(-i.length)===i:"~="===e?(" "+r.replace(N," ")+" ").indexOf(i)>-1:"|="===e&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var c,h,u,d,p,f,_=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),g=!l&&!a,y=!1;if(m){if(o){for(;_;){for(d=e;d=d[_];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=_="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&g){for(y=(p=(c=(h=(u=(d=m)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[_]||(y=p=0)||f.pop();)if(1===d.nodeType&&++y&&d===e){h[t]=[w,p,y];break}}else if(g&&(y=p=(c=(h=(u=(d=e)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===y)for(;(d=++p&&d&&d[_]||(y=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(g&&((h=(u=d[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]=[w,y]),d!==e)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(t,e){var i,r=n.pseudos[t]||n.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,i){for(var n,o=r(t,e),s=o.length;s--;)t[n=I(t,o[s])]=!(i[n]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:at(function(t){var e=[],i=[],n=a(t.replace(W,"$1"));return n[b]?at(function(t,e,i,r){for(var o,s=n(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,n(e,null,o,i),e[0]=null,!i.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:at(function(t){return U.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var i;do{if(i=_?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=dt(e);function mt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function gt(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=x++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r);return!1}:function(e,i,l){var c,h,u,d=[w,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(h=(u=e[b]||(e[b]={}))[e.uniqueID]||(u[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((c=h[o])&&c[0]===w&&c[1]===a)return d[2]=c[2];if(h[o]=d,d[2]=t(e,i,l))return!0}return!1}}function yt(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function bt(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),c&&e.push(a)));return s}function St(t,e,i,n,r,o){return n&&!n[b]&&(n=St(n)),r&&!r[b]&&(r=St(r,o)),at(function(o,s,a,l){var c,h,u,d=[],p=[],f=s.length,_=o||function(t,e,i){for(var n=0,r=e.length;n<r;n++)ot(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?_:bt(_,d,t,a,l),v=i?r||(o?t:f||n)?[]:s:m;if(i&&i(m,v,a,l),n)for(c=bt(v,p),n(c,[],a,l),h=c.length;h--;)(u=c[h])&&(v[p[h]]=!(m[p[h]]=u));if(o){if(r||t){if(r){for(c=[],h=v.length;h--;)(u=v[h])&&c.push(m[h]=u);r(null,v=[],c,l)}for(h=v.length;h--;)(u=v[h])&&(c=r?I(o,u):d[h])>-1&&(o[c]=!(s[c]=u))}}else v=bt(v===s?v.splice(f,v.length):v),r?r(null,s,v,l):O.apply(s,v)})}function wt(t){for(var e,i,r,o=t.length,s=n.relative[t[0].type],a=s||n.relative[" "],l=s?1:0,h=gt(function(t){return t===e},a,!0),u=gt(function(t){return I(e,t)>-1},a,!0),d=[function(t,i,n){var r=!s&&(n||i!==c)||((e=i).nodeType?h(t,i,n):u(t,i,n));return e=null,r}];l<o;l++)if(i=n.relative[t[l].type])d=[gt(yt(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!n.relative[t[r].type];r++);return St(l>1&&yt(d),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(W,"$1"),i,l<r&&wt(t.slice(l,r)),r<o&&wt(t=t.slice(r)),r<o&&vt(t))}d.push(i)}return yt(d)}return mt.prototype=n.filters=n.pseudos,n.setFilters=new mt,s=ot.tokenize=function(t,e){var i,r,o,s,a,l,c,h=k[t+" "];if(h)return e?0:h.slice(0);for(a=t,l=[],c=n.preFilter;a;){for(s in i&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=F.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(W," ")}),a=a.slice(i.length)),n.filter)!(r=Y[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?ot.error(t):k(t,l).slice(0)},a=ot.compile=function(t,e){var i,r=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),i=e.length;i--;)(a=wt(e[i]))[b]?r.push(a):o.push(a);(a=T(t,function(t,e){var i=e.length>0,r=t.length>0,o=function(o,s,a,l,h){var u,f,m,v=0,g="0",y=o&&[],b=[],S=c,x=o||r&&n.find.TAG("*",h),C=w+=null==S?1:Math.random()||.1,k=x.length;for(h&&(c=s===p||s||h);g!==k&&null!=(u=x[g]);g++){if(r&&u){for(f=0,s||u.ownerDocument===p||(d(u),a=!_);m=t[f++];)if(m(u,s||p,a)){l.push(u);break}h&&(w=C)}i&&((u=!m&&u)&&v--,o&&y.push(u))}if(v+=g,i&&g!==v){for(f=0;m=e[f++];)m(y,b,s,a);if(o){if(v>0)for(;g--;)y[g]||b[g]||(b[g]=D.call(l));b=bt(b)}O.apply(l,b),h&&!o&&b.length>0&&v+e.length>1&&ot.uniqueSort(l)}return h&&(w=C,c=S),y};return i?at(o):o}(o,r))).selector=t}return a},l=ot.select=function(t,e,i,r){var o,l,c,h,u,d="function"==typeof t&&t,p=!r&&s(t=d.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&_&&n.relative[l[1].type]){if(!(e=(n.find.ID(c.matches[0].replace(Q,tt),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&!n.relative[h=(c=l[o]).type];)if((u=n.find[h])&&(r=u(c.matches[0].replace(Q,tt),K.test(l[0].type)&&_t(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&vt(l)))return O.apply(i,r),i;break}}return(d||a(t,p))(r,e,!_,i,!e||K.test(t)&&_t(e.parentNode)||e),i},i.sortStable=b.split("").sort(M).join("")===b,i.detectDuplicates=!!u,d(),i.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(R,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),ot}(t);b.find=x,b.expr=x.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=x.uniqueSort,b.text=x.getText,b.isXMLDoc=x.isXML,b.contains=x.contains,b.escapeSelector=x.escape;var C=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&b(t).is(i))break;n.push(t)}return n},k=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},T=b.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,i){return _(e)?b.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?b.grep(t,function(t){return t===e!==i}):"string"!=typeof e?b.grep(t,function(t){return l.call(e,t)>-1!==i}):b.filter(e,t,i)}b.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?b.find.matchesSelector(n,t)?[n]:[]:b.find.matches(t,b.grep(e,function(t){return 1===t.nodeType}))},b.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(b(t).filter(function(){for(e=0;e<n;e++)if(b.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)b.find(t,r[e],i);return n>1?b.uniqueSort(i):i},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&T.test(t)?b(t):t||[],!1).length}});var D,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(t,e,i){var r,o;if(!t)return this;if(i=i||D,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:A.exec(t))||!r[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(r[1]){if(b.merge(this,b.parseHTML(r[1],(e=e instanceof b?e[0]:e)&&e.nodeType?e.ownerDocument||e:n,!0)),P.test(r[1])&&b.isPlainObject(e))for(r in e)_(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=n.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_(t)?void 0!==i.ready?i.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,D=b(n);var O=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(b.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&b(t);if(!T.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&b.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(b(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,i){return C(t,"parentNode",i)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,i){return C(t,"nextSibling",i)},prevUntil:function(t,e,i){return C(t,"previousSibling",i)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return M(t,"iframe")?t.contentDocument:(M(t,"template")&&(t=t.content||t),b.merge([],t.childNodes))}},function(t,e){b.fn[t]=function(i,n){var r=b.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=b.filter(n,r)),this.length>1&&(L[t]||b.uniqueSort(r),O.test(t)&&r.reverse()),this.pushStack(r)}});var R=/[^\x20\t\r\n\f]+/g;function z(t){return t}function $(t){throw t}function V(t,e,i,n){var r;try{t&&_(r=t.promise)?r.call(t).done(e).fail(i):t&&_(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}b.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return b.each(t.match(R)||[],function(t,i){e[i]=!0}),e}(t):b.extend({},t);var e,i,n,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,n=e=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(a=o.length-1,s.push(i)),function e(i){b.each(i,function(i,n){_(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==y(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return b.each(arguments,function(t,e){for(var i;(i=b.inArray(e,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(t){return t?b.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=s=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],s.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},b.extend({Deferred:function(e){var i=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return b.Deferred(function(e){b.each(i,function(i,n){var r=_(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&_(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){var o=0;function s(e,i,n,r){return function(){var a=this,l=arguments,c=function(){var t,c;if(!(e<o)){if((t=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");_(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?r?c.call(t,s(o,i,z,r),s(o,i,$,r)):c.call(t,s(++o,i,z,r),s(o,i,$,r),s(o,i,z,i.notifyWith)):(n!==z&&(a=void 0,l=[t]),(r||i.resolveWith)(a,l))}},h=r?c:function(){try{c()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,h.stackTrace),e+1>=o&&(n!==$&&(a=void 0,l=[t]),i.rejectWith(a,l))}};e?h():(b.Deferred.getStackHook&&(h.stackTrace=b.Deferred.getStackHook()),t.setTimeout(h))}}return b.Deferred(function(t){i[0][3].add(s(0,t,_(r)?r:z,t.notifyWith)),i[1][3].add(s(0,t,_(e)?e:z)),i[2][3].add(s(0,t,_(n)?n:$))}).promise()},promise:function(t){return null!=t?b.extend(t,r):r}},o={};return b.each(i,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){n=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=o.call(arguments),s=b.Deferred(),a=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?o.call(arguments):i,--e||s.resolveWith(n,r)}};if(e<=1&&(V(t,s.done(a(i)).resolve,s.reject,!e),"pending"===s.state()||_(r[i]&&r[i].then)))return s.then();for(;i--;)V(r[i],a(i),s.reject);return s.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&B.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},b.readyException=function(e){t.setTimeout(function(){throw e})};var N=b.Deferred();function W(){n.removeEventListener("DOMContentLoaded",W),t.removeEventListener("load",W),b.ready()}b.fn.ready=function(t){return N.then(t).catch(function(t){b.readyException(t)}),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||N.resolveWith(n,[b]))}}),b.ready.then=N.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(b.ready):(n.addEventListener("DOMContentLoaded",W),t.addEventListener("load",W));var H=function(t,e,i,n,r,o,s){var a=0,l=t.length,c=null==i;if("object"===y(i))for(a in r=!0,i)H(t,e,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,_(n)||(s=!0),c&&(s?(e.call(t,n),e=null):(c=e,e=function(t,e,i){return c.call(b(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:c?e.call(t):l?e(t[0],i):o},F=/^-ms-/,j=/-([a-z])/g;function q(t,e){return e.toUpperCase()}function U(t){return t.replace(F,"ms-").replace(j,q)}var Y=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function X(){this.expando=b.expando+X.uid++}X.uid=1,X.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Y(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[U(e)]=i;else for(n in e)r[U(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][U(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(U):(e=U(e))in n?[e]:e.match(R)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||b.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var G=new X,Z=new X,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Q(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(K,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:J.test(t)?JSON.parse(t):t)}(i)}catch(r){}Z.set(t,e,i)}else i=void 0;return i}b.extend({hasData:function(t){return Z.hasData(t)||G.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return G.access(t,e,i)},_removeData:function(t,e){G.remove(t,e)}}),b.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Z.get(o),1===o.nodeType&&!G.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=U(n.slice(5)),Q(o,n,r[n]));G.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Z.set(this,t)}):H(this,function(e){var i;if(o&&void 0===e)return void 0!==(i=Z.get(o,t))?i:void 0!==(i=Q(o,t))?i:void 0;this.each(function(){Z.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),b.extend({queue:function(t,e,i){var n;if(t)return n=G.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=G.access(t,e,b.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){var i=b.queue(t,e=e||"fx"),n=i.length,r=i.shift(),o=b._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,function(){b.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return G.get(t,i)||G.access(t,i,{empty:b.Callbacks("once memory").add(function(){G.remove(t,[e+"queue",i])})})}}),b.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?b.queue(this[0],t):void 0===e?this:this.each(function(){var i=b.queue(this,t,e);b._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&b.dequeue(this,t)})},dequeue:function(t){return this.each(function(){b.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=b.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=G.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&b.contains(t.ownerDocument,t)&&"none"===b.css(t,"display")},rt=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=i.apply(t,n||[]),e)t.style[o]=s[o];return r};function ot(t,e,i,n){var r,o,s=20,a=n?function(){return n.cur()}:function(){return b.css(t,e,"")},l=a(),c=i&&i[3]||(b.cssNumber[e]?"":"px"),h=(b.cssNumber[e]||"px"!==c&&+l)&&et.exec(b.css(t,e));if(h&&h[3]!==c){for(c=c||h[3],h=+(l/=2)||1;s--;)b.style(t,e,h+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),h/=o;b.style(t,e,(h*=2)+c),i=i||[]}return i&&(h=+h||+l||0,r=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=h,n.end=r)),r}var st={};function at(t){var e,i=t.ownerDocument,n=t.nodeName,r=st[n];return r||(e=i.body.appendChild(i.createElement(n)),r=b.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),st[n]=r,r)}function lt(t,e){for(var i,n,r=[],o=0,s=t.length;o<s;o++)(n=t[o]).style&&(i=n.style.display,e?("none"===i&&(r[o]=G.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&nt(n)&&(r[o]=at(n))):"none"!==i&&(r[o]="none",G.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}b.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){nt(this)?b(this).show():b(this).hide()})}});var ct=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ut=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?b.merge([t],i):i}function ft(t,e){for(var i=0,n=t.length;i<n;i++)G.set(t[i],"globalEval",!e||G.get(e[i],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var _t,mt,vt=/<|&#?\w+;/;function gt(t,e,i,n,r){for(var o,s,a,l,c,h,u=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((o=t[p])||0===o)if("object"===y(o))b.merge(d,o.nodeType?[o]:o);else if(vt.test(o)){for(s=s||u.appendChild(e.createElement("div")),a=(ht.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=dt[a]||dt._default)[1]+b.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;b.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(e.createTextNode(o));for(u.textContent="",p=0;o=d[p++];)if(n&&b.inArray(o,n)>-1)r&&r.push(o);else if(c=b.contains(o.ownerDocument,o),s=pt(u.appendChild(o),"script"),c&&ft(s),i)for(h=0;o=s[h++];)ut.test(o.type||"")&&i.push(o);return u}_t=n.createDocumentFragment().appendChild(n.createElement("div")),(mt=n.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),_t.appendChild(mt),f.checkClone=_t.cloneNode(!0).cloneNode(!0).lastChild.checked,_t.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!_t.cloneNode(!0).lastChild.defaultValue;var yt=n.documentElement,bt=/^key/,St=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function Ct(){return!1}function kt(){try{return n.activeElement}catch(t){}}function Tt(t,e,i,n,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)Tt(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return b().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=b.guid++)),t.each(function(){b.event.add(this,e,r,n,i)})}b.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,c,h,u,d,p,f,_,m=G.get(t);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&b.find.matchesSelector(yt,r),i.guid||(i.guid=b.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(R)||[""]).length;c--;)p=_=(a=wt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(u=b.event.special[p]||{},u=b.event.special[p=(r?u.delegateType:u.bindType)||p]||{},h=b.extend({type:p,origType:_,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s)),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),b.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,c,h,u,d,p,f,_,m=G.hasData(t)&&G.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(R)||[""]).length;c--;)if(p=_=(a=wt.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(u=b.event.special[p]||{},d=l[p=(n?u.delegateType:u.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)h=d[o],!r&&_!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(o,1),h.selector&&d.delegateCount--,u.remove&&u.remove.call(t,h));s&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,f,m.handle)||b.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)b.event.remove(t,p+e[c],i,n,!0);b.isEmptyObject(l)&&G.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=b.event.fix(t),l=new Array(arguments.length),c=(G.get(this,"events")||{})[a.type]||[],h=b.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=b.event.handlers.call(this,a,c),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((b.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,o,s,a=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[r=(n=e[i]).selector+" "]&&(s[r]=n.needsContext?b(r,this).index(c)>-1:b.find(r,this,null,[c]).length),s[r]&&o.push(n);o.length&&a.push({elem:c,handlers:o})}return c=this,l<e.length&&a.push({elem:c,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==kt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===kt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M(this,"input"))return this.click(),!1},_default:function(t){return M(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&St.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||b.contains(this,n))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),b.fn.extend({on:function(t,e,i,n){return Tt(this,t,e,i,n)},one:function(t,e,i,n){return Tt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,b(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Ct),this.each(function(){b.event.remove(this,t,i,e)})}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function At(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&b(t).children("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var i,n,r,o,s,a,l,c;if(1===e.nodeType){if(G.hasData(t)&&(o=G.access(t),s=G.set(e,o),c=o.events))for(r in delete s.handle,s.events={},c)for(i=0,n=c[r].length;i<n;i++)b.event.add(e,r,c[r][i]);Z.hasData(t)&&(a=Z.access(t),l=b.extend({},a),Z.set(e,l))}}function Rt(t,e,i,n){e=s.apply([],e);var r,o,a,l,c,h,u=0,d=t.length,p=d-1,m=e[0],v=_(m);if(v||d>1&&"string"==typeof m&&!f.checkClone&&Et.test(m))return t.each(function(r){var o=t.eq(r);v&&(e[0]=m.call(this,r,o.html())),Rt(o,e,i,n)});if(d&&(o=(r=gt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(l=(a=b.map(pt(r,"script"),Ot)).length;u<d;u++)c=r,u!==p&&(c=b.clone(c,!0,!0),l&&b.merge(a,pt(c,"script"))),i.call(t[u],c,u);if(l)for(h=a[a.length-1].ownerDocument,b.map(a,Lt),u=0;u<l;u++)ut.test((c=a[u]).type||"")&&!G.access(c,"globalEval")&&b.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?b._evalUrl&&b._evalUrl(c.src):g(c.textContent.replace(Dt,""),h,c))}return t}function zt(t,e,i){for(var n,r=e?b.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||b.cleanData(pt(n)),n.parentNode&&(i&&b.contains(n.ownerDocument,n)&&ft(pt(n,"script")),n.parentNode.removeChild(n));return t}b.extend({htmlPrefilter:function(t){return t.replace(Mt,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a,l,c,h=t.cloneNode(!0),u=b.contains(t.ownerDocument,t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(s=pt(h),n=0,r=(o=pt(t)).length;n<r;n++)a=o[n],"input"===(c=(l=s[n]).nodeName.toLowerCase())&&ct.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(e)if(i)for(o=o||pt(t),s=s||pt(h),n=0,r=o.length;n<r;n++)It(o[n],s[n]);else It(t,h);return(s=pt(h,"script")).length>0&&ft(s,!u&&pt(t,"script")),h},cleanData:function(t){for(var e,i,n,r=b.event.special,o=0;void 0!==(i=t[o]);o++)if(Y(i)){if(e=i[G.expando]){if(e.events)for(n in e.events)r[n]?b.event.remove(i,n):b.removeEvent(i,n,e.handle);i[G.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),b.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return H(this,function(t){return void 0===t?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||At(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=At(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(pt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return b.clone(this,t,e)})},html:function(t){return H(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!dt[(ht.exec(t)||["",""])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(b.cleanData(pt(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Rt(this,arguments,function(e){var i=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(pt(this)),i&&i.replaceChild(e,this))},t)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){b.fn[t]=function(t){for(var i,n=[],r=b(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),b(r[s])[e](i),a.apply(n,i.get());return this.pushStack(n)}});var $t=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Vt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},Bt=new RegExp(it.join("|"),"i");function Nt(t,e,i){var n,r,o,s,a=t.style;return(i=i||Vt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||b.contains(t.ownerDocument,t)||(s=b.style(t,e)),!f.pixelBoxStyles()&&$t.test(s)&&Bt.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(c).appendChild(h);var e=t.getComputedStyle(h);r="1%"!==e.top,l=12===i(e.marginLeft),h.style.right="60%",a=36===i(e.right),o=36===i(e.width),h.style.position="absolute",s=36===h.offsetWidth||"absolute",yt.removeChild(c),h=null}}function i(t){return Math.round(parseFloat(t))}var r,o,s,a,l,c=n.createElement("div"),h=n.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===h.style.backgroundClip,b.extend(f,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s}}))}();var Ht=/^(none|table(?!-c[ea]).+)/,Ft=/^--/,jt={position:"absolute",visibility:"hidden",display:"block"},qt={letterSpacing:"0",fontWeight:"400"},Ut=["Webkit","Moz","ms"],Yt=n.createElement("div").style;function Xt(t){var e=b.cssProps[t];return e||(e=b.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Ut.length;i--;)if((t=Ut[i]+e)in Yt)return t}(t)||t),e}function Gt(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Zt(t,e,i,n,r,o){var s="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=b.css(t,i+it[s],!0,r)),n?("content"===i&&(l-=b.css(t,"padding"+it[s],!0,r)),"margin"!==i&&(l-=b.css(t,"border"+it[s]+"Width",!0,r))):(l+=b.css(t,"padding"+it[s],!0,r),"padding"!==i?l+=b.css(t,"border"+it[s]+"Width",!0,r):a+=b.css(t,"border"+it[s]+"Width",!0,r));return!n&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))),l}function Jt(t,e,i){var n=Vt(t),r=Nt(t,e,n),o="border-box"===b.css(t,"boxSizing",!1,n),s=o;if($t.test(r)){if(!i)return r;r="auto"}return s=s&&(f.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===b.css(t,"display",!1,n))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+Zt(t,e,i||(o?"border":"content"),s,n,r)+"px"}function Kt(t,e,i,n,r){return new Kt.prototype.init(t,e,i,n,r)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Nt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=U(e),l=Ft.test(e),c=t.style;if(l||(e=Xt(a)),s=b.cssHooks[e]||b.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:c[e];"string"==(o=typeof i)&&(r=et.exec(i))&&r[1]&&(i=ot(t,e,r),o="number"),null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(b.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==i||0!==e.indexOf("background")||(c[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?c.setProperty(e,i):c[e]=i))}},css:function(t,e,i,n){var r,o,s,a=U(e);return Ft.test(e)||(e=Xt(a)),(s=b.cssHooks[e]||b.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=Nt(t,e,n)),"normal"===r&&e in qt&&(r=qt[e]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),b.each(["height","width"],function(t,e){b.cssHooks[e]={get:function(t,i,n){if(i)return!Ht.test(b.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Jt(t,e,n):rt(t,jt,function(){return Jt(t,e,n)})},set:function(t,i,n){var r,o=Vt(t),s="border-box"===b.css(t,"boxSizing",!1,o),a=n&&Zt(t,e,n,s,o);return s&&f.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Zt(t,e,"border",!1,o)-.5)),a&&(r=et.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=b.css(t,e)),Gt(0,i,a)}}}),b.cssHooks.marginLeft=Wt(f.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Nt(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(t,e){b.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+it[n]+e]=o[n]||o[n-2]||o[0];return r}},"margin"!==t&&(b.cssHooks[t+e].set=Gt)}),b.fn.extend({css:function(t,e){return H(this,function(t,e,i){var n,r,o={},s=0;if(Array.isArray(e)){for(n=Vt(t),r=e.length;s<r;s++)o[e[s]]=b.css(t,e[s],!1,n);return o}return void 0!==i?b.style(t,e,i):b.css(t,e)},t,e,arguments.length>1)}}),b.Tween=Kt,(Kt.prototype={constructor:Kt,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(b.cssNumber[i]?"":"px")},cur:function(){var t=Kt.propHooks[this.prop];return t&&t.get?t.get(this):Kt.propHooks._default.get(this)},run:function(t){var e,i=Kt.propHooks[this.prop];return this.pos=e=this.options.duration?b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Kt.propHooks._default.set(this),this}}).init.prototype=Kt.prototype,(Kt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[b.cssProps[t.prop]]&&!b.cssHooks[t.prop]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Kt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},b.fx=Kt.prototype.init,b.fx.step={};var Qt,te,ee=/^(?:toggle|show|hide)$/,ie=/queueHooks$/;function ne(){te&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ne):t.setTimeout(ne,b.fx.interval),b.fx.tick())}function re(){return t.setTimeout(function(){Qt=void 0}),Qt=Date.now()}function oe(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=it[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function se(t,e,i){for(var n,r=(ae.tweeners[e]||[]).concat(ae.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function ae(t,e,i){var n,r,o=0,s=ae.prefilters.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Qt||re(),i=Math.max(0,c.startTime+c.duration-e),n=1-(i/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(n);return a.notifyWith(t,[c,n,i]),n<1&&s?i:(s||a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},i),originalProperties:e,originalOptions:i,startTime:Qt||re(),duration:i.duration,tweens:[],createTween:function(e,i){var n=b.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var i=0,n=e?c.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)c.tweens[i].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),h=c.props;for(function(t,e){var i,n,r,o,s;for(i in t)if(r=e[n=U(i)],o=t[i],Array.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=b.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete t[n],o)i in t||(t[i]=o[i],e[i]=r);else e[n]=r}(h,c.opts.specialEasing);o<s;o++)if(n=ae.prefilters[o].call(c,t,h,c.opts))return _(n.stop)&&(b._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return b.map(h,se,c),_(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),b.fx.timer(b.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}b.Animation=b.extend(ae,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ot(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){_(t)?(e=t,t=["*"]):t=t.match(R);for(var i,n=0,r=t.length;n<r;n++)(ae.tweeners[i=t[n]]=ae.tweeners[i]||[]).unshift(e)},prefilters:[function(t,e,i){var n,r,o,s,a,l,c,h,u="width"in e||"height"in e,d=this,p={},f=t.style,_=t.nodeType&&nt(t),m=G.get(t,"fxshow");for(n in i.queue||(null==(s=b._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,b.queue(t,"fx").length||s.empty.fire()})})),e)if(ee.test(r=e[n])){if(delete e[n],o=o||"toggle"===r,r===(_?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;_=!0}p[n]=m&&m[n]||b.style(t,n)}if((l=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=G.get(t,"display")),"none"===(h=b.css(t,"display"))&&(c?h=c:(lt([t],!0),c=t.style.display||c,h=b.css(t,"display"),lt([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===b.css(t,"float")&&(l||(d.done(function(){f.display=c}),null==c&&(c="none"===(h=f.display)?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(_=m.hidden):m=G.access(t,"fxshow",{display:c}),o&&(m.hidden=!_),_&&lt([t],!0),d.done(function(){for(n in _||lt([t]),G.remove(t,"fxshow"),p)b.style(t,n,p[n])})),l=se(_?m[n]:0,n,d),n in m||(m[n]=l.start,_&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ae.prefilters.unshift(t):ae.prefilters.push(t)}}),b.speed=function(t,e,i){var n=t&&"object"==typeof t?b.extend({},t):{complete:i||!i&&e||_(t)&&t,duration:t,easing:i&&e||e&&!_(e)&&e};return b.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in b.fx.speeds?b.fx.speeds[n.duration]:b.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){_(n.old)&&n.old.call(this),n.queue&&b.dequeue(this,n.queue)},n},b.fn.extend({fadeTo:function(t,e,i,n){return this.filter(nt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=b.isEmptyObject(t),o=b.speed(e,i,n),s=function(){var e=ae(this,b.extend({},t),o);(r||G.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=b.timers,s=G.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&ie.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||b.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=G.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=b.timers,s=n?n.length:0;for(i.finish=!0,b.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),b.each(["toggle","show","hide"],function(t,e){var i=b.fn[e];b.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(oe(e,!0),t,n,r)}}),b.each({slideDown:oe("show"),slideUp:oe("hide"),slideToggle:oe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){b.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),b.timers=[],b.fx.tick=function(){var t,e=0,i=b.timers;for(Qt=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||b.fx.stop(),Qt=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){te||(te=!0,ne())},b.fx.stop=function(){te=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,i){return e=b.fx&&b.fx.speeds[e]||e,this.queue(i=i||"fx",function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=n.createElement("input"),e=n.createElement("select").appendChild(n.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=n.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var le,ce=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return H(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){b.removeAttr(this,t)})}}),b.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?b.prop(t,e,i):(1===o&&b.isXMLDoc(t)||(r=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?le:void 0)),void 0!==i?null===i?void b.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=b.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&M(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(R);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),le={set:function(t,e,i){return!1===e?b.removeAttr(t,i):t.setAttribute(i,i),i}},b.each(b.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ce[e]||b.find.attr;ce[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=ce[s],ce[s]=r,r=null!=i(t,e,n)?s:null,ce[s]=o),r}});var he=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;function de(t){return(t.match(R)||[]).join(" ")}function pe(t){return t.getAttribute&&t.getAttribute("class")||""}function fe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}b.fn.extend({prop:function(t,e){return H(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[b.propFix[t]||t]})}}),b.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(t)||(r=b.propHooks[e=b.propFix[e]||e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,"tabindex");return e?parseInt(e,10):he.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(b.propHooks.selected={get:function(t){return null},set:function(t){}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(_(t))return this.each(function(e){b(this).addClass(t.call(this,e,pe(this)))});if((e=fe(t)).length)for(;i=this[l++];)if(r=pe(i),n=1===i.nodeType&&" "+de(r)+" "){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=de(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(_(t))return this.each(function(e){b(this).removeClass(t.call(this,e,pe(this)))});if(!arguments.length)return this.attr("class","");if((e=fe(t)).length)for(;i=this[l++];)if(r=pe(i),n=1===i.nodeType&&" "+de(r)+" "){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(a=de(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):_(t)?this.each(function(i){b(this).toggleClass(t.call(this,i,pe(this),e),e)}):this.each(function(){var e,r,o,s;if(n)for(r=0,o=b(this),s=fe(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=pe(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":G.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+de(pe(i))+" ").indexOf(e)>-1)return!0;return!1}});var _e=/\r/g;b.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=_(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,b(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,function(t){return null==t?"":t+""})),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(_e,""):null==i?"":i:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,"value");return null!=e?e:de(b.text(t))}},select:{get:function(t){var e,i,n,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(n=o<0?l:s?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!M(i.parentNode,"optgroup"))){if(e=b(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,r=t.options,o=b.makeArray(e),s=r.length;s--;)((n=r[s]).selected=b.inArray(b.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},f.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),f.focusin="onfocusin"in t;var me=/^(?:focusinfocus|focusoutblur)$/,ve=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,i,r,o){var s,a,l,c,h,d,p,f,v=[r||n],g=u.call(e,"type")?e.type:e,y=u.call(e,"namespace")?e.namespace.split("."):[];if(a=f=l=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!me.test(g+b.event.triggered)&&(g.indexOf(".")>-1&&(y=g.split("."),g=y.shift(),y.sort()),h=g.indexOf(":")<0&&"on"+g,(e=e[b.expando]?e:new b.Event(g,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),i=null==i?[e]:b.makeArray(i,[e]),p=b.event.special[g]||{},o||!p.trigger||!1!==p.trigger.apply(r,i))){if(!o&&!p.noBubble&&!m(r)){for(me.test((c=p.delegateType||g)+g)||(a=a.parentNode);a;a=a.parentNode)v.push(a),l=a;l===(r.ownerDocument||n)&&v.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=v[s++])&&!e.isPropagationStopped();)f=a,e.type=s>1?c:p.bindType||g,(d=(G.get(a,"events")||{})[e.type]&&G.get(a,"handle"))&&d.apply(a,i),(d=h&&a[h])&&d.apply&&Y(a)&&(e.result=d.apply(a,i),!1===e.result&&e.preventDefault());return e.type=g,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),i)||!Y(r)||h&&_(r[g])&&!m(r)&&((l=r[h])&&(r[h]=null),b.event.triggered=g,e.isPropagationStopped()&&f.addEventListener(g,ve),r[g](),e.isPropagationStopped()&&f.removeEventListener(g,ve),b.event.triggered=void 0,l&&(r[h]=l)),e.result}},simulate:function(t,e,i){var n=b.extend(new b.Event,i,{type:t,isSimulated:!0});b.event.trigger(n,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each(function(){b.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return b.event.trigger(t,e,i,!0)}}),f.focusin||b.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=G.access(n,e);r||n.addEventListener(t,i,!0),G.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=G.access(n,e)-1;r?G.access(n,e,r):(n.removeEventListener(t,i,!0),G.remove(n,e))}}});var ge=t.location,ye=Date.now(),be=/\?/;b.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+e),i};var Se=/\[\]$/,we=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function ke(t,e,i,n){var r;if(Array.isArray(e))b.each(e,function(e,r){i||Se.test(t)?n(t,r):ke(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==y(e))n(t,e);else for(r in e)ke(t+"["+r+"]",e[r],i,n)}b.param=function(t,e){var i,n=[],r=function(t,e){var i=_(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,function(){r(this.name,this.value)});else for(i in t)ke(i,t[i],e,r);return n.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=b.prop(this,"elements");return t?b.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!b(this).is(":disabled")&&Ce.test(this.nodeName)&&!xe.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var i=b(this).val();return null==i?null:Array.isArray(i)?b.map(i,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:i.replace(we,"\r\n")}}).get()}});var Te=/%20/g,Me=/#.*$/,Pe=/([?&])_=[^&]*/,Ee=/^(.*?):[ \t]*([^\r\n]*)$/gm,De=/^(?:GET|HEAD)$/,Ae=/^\/\//,Oe={},Le={},Ie="*/".concat("*"),Re=n.createElement("a");function ze(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(R)||[];if(_(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function $e(t,e,i,n){var r={},o=t===Le;function s(a){var l;return r[a]=!0,b.each(t[a]||[],function(t,a){var c=a(e,i,n);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),s(c),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ve(t,e){var i,n,r=b.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&b.extend(!0,t,n),t}Re.href=ge.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,b.ajaxSettings),e):Ve(b.ajaxSettings,t)},ajaxPrefilter:ze(Oe),ajaxTransport:ze(Le),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0);var r,o,s,a,l,c,h,u,d,p,f=b.ajaxSetup({},i=i||{}),_=f.context||f,m=f.context&&(_.nodeType||_.jquery)?b(_):b.event,v=b.Deferred(),g=b.Callbacks("once memory"),y=f.statusCode||{},S={},w={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Ee.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return h?s:null},setRequestHeader:function(t,e){return null==h&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,S[t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),k(0,e),this}};if(v.promise(C),f.url=((e||f.url||ge.href)+"").replace(Ae,ge.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(R)||[""],null==f.crossDomain){c=n.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Re.protocol+"//"+Re.host!=c.protocol+"//"+c.host}catch(T){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional)),$e(Oe,f,i,C),h)return C;for(d in(u=b.event&&f.global)&&0==b.active++&&b.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!De.test(f.type),o=f.url.replace(Me,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Te,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(be.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(Pe,"$1"),p=(be.test(o)?"&":"?")+"_="+ye+++p),f.url=o+p),f.ifModified&&(b.lastModified[o]&&C.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&C.setRequestHeader("If-None-Match",b.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ie+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(_,C,f)||h))return C.abort();if(x="abort",g.add(f.complete),C.done(f.success),C.fail(f.error),r=$e(Le,f,i,C)){if(C.readyState=1,u&&m.trigger("ajaxSend",[C,f]),h)return C;f.async&&f.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},f.timeout));try{h=!1,r.send(S,k)}catch(T){if(h)throw T;k(-1,T)}}else k(-1,"No Transport");function k(e,i,n,a){var c,d,p,S,w,x=i;h||(h=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,n&&(S=function(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}(f,C,n)),S=function(t,e,i,n){var r,o,s,a,l,c={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(T){return{state:"parsererror",error:s?T:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,S,C,c),c?(f.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(b.lastModified[o]=w),(w=C.getResponseHeader("etag"))&&(b.etag[o]=w)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=S.state,d=S.data,c=!(p=S.error))):(p=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(i||x)+"",c?v.resolveWith(_,[d,x,C]):v.rejectWith(_,[C,x,p]),C.statusCode(y),y=void 0,u&&m.trigger(c?"ajaxSuccess":"ajaxError",[C,f,c?d:p]),g.fireWith(_,[C,x]),u&&(m.trigger("ajaxComplete",[C,f]),--b.active||b.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,i){return b.get(t,e,i,"json")},getScript:function(t,e){return b.get(t,void 0,e,"script")}}),b.each(["get","post"],function(t,e){b[e]=function(t,i,n,r){return _(i)&&(r=r||n,n=i,i=void 0),b.ajax(b.extend({url:t,type:e,dataType:r,data:i,success:n},b.isPlainObject(t)&&t))}}),b._evalUrl=function(t){return b.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(_(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _(t)?this.each(function(e){b(this).wrapInner(t.call(this,e))}):this.each(function(){var e=b(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=_(t);return this.each(function(i){b(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Be={0:200,1223:204},Ne=b.ajaxSettings.xhr();f.cors=!!Ne&&"withCredentials"in Ne,f.ajax=Ne=!!Ne,b.ajaxTransport(function(e){var i,n;if(f.cors||Ne&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Be[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(i)throw l}},abort:function(){i&&i()}}}),b.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),b.ajaxTransport("script",function(t){var e,i;if(t.crossDomain)return{send:function(r,o){e=b("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}});var We,He=[],Fe=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||b.expando+"_"+ye++;return this[t]=!0,t}}),b.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(Fe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fe.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Fe,"$1"+r):!1!==e.jsonp&&(e.url+=(be.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||b.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?b(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,He.push(r)),s&&_(o)&&o(s[0]),s=o=void 0}),"script"}),f.createHTMLDocument=((We=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),b.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(f.createHTMLDocument?((r=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(r)):e=n),s=!i&&[],(o=P.exec(t))?[e.createElement(o[1])]:(o=gt([t],e,s),s&&s.length&&b(s).remove(),b.merge([],o.childNodes)));var r,o,s},b.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=de(t.slice(a)),t=t.slice(0,a)),_(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&b.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?b("<div>").append(b.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){b.fn[e]=function(t){return this.on(e,t)}}),b.expr.pseudos.animated=function(t){return b.grep(b.timers,function(e){return t===e.elem}).length},b.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,c=b.css(t,"position"),h=b(t),u={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=b.css(t,"top"),l=b.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(n=h.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),_(e)&&(e=e.call(t,i,b.extend({},a))),null!=e.top&&(u.top=e.top-a.top+s),null!=e.left&&(u.left=e.left-a.left+r),"using"in e?e.using.call(t,u):h.css(u)}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){b.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?{top:(e=n.getBoundingClientRect()).top+(i=n.ownerDocument.defaultView).pageYOffset,left:e.left+i.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===b.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===b.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=b(t).offset()).top+=b.css(t,"borderTopWidth",!0),r.left+=b.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-b.css(n,"marginTop",!0),left:e.left-r.left-b.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===b.css(t,"position");)t=t.offsetParent;return t||yt})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;b.fn[t]=function(n){return H(this,function(t,n,r){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[n];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r},t,n,arguments.length)}}),b.each(["top","left"],function(t,e){b.cssHooks[e]=Wt(f.pixelPosition,function(t,i){if(i)return i=Nt(t,e),$t.test(i)?b(t).position()[e]+"px":i})}),b.each({Height:"height",Width:"width"},function(t,e){b.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){b.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===o?"margin":"border");return H(this,function(e,i,r){var o;return m(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?b.css(e,i,a):b.style(e,i,r,a)},e,s?r:void 0,s)}})}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){b.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),b.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),b.proxy=function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),_(t))return n=o.call(arguments,2),(r=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||b.guid++,r},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=M,b.isFunction=_,b.isWindow=m,b.camelCase=U,b.type=y,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var je=t.jQuery,qe=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=qe),e&&t.jQuery===b&&(t.jQuery=je),b},e||(t.jQuery=t.$=b),b}),function(t){var e="iCheck",i=e+"-helper",n="radio",r="checked",o="un"+r,s="disabled",a="determinate",l="in"+a,c="update",h="type",u="touchbegin.i touchend.i",d="addClass",p="removeClass",f="trigger",_="label",m="cursor",v=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);function g(t,e,i){var o=t[0],u=/er/.test(i)?l:/bl/.test(i)?s:r,d=i==c?{checked:o[r],disabled:o[s],indeterminate:"true"==t.attr(l)||"false"==t.attr(a)}:o[u];if(/^(ch|di|in)/.test(i)&&!d)y(t,u);else if(/^(un|en|de)/.test(i)&&d)b(t,u);else if(i==c)for(var p in d)d[p]?y(t,p,!0):b(t,p,!0);else e&&"toggle"!=i||(e||t[f]("ifClicked"),d?o[h]!==n&&b(t,u):y(t,u))}function y(c,u,f){var _=c[0],v=c.parent(),g=u==r,y=u==l,S=u==s,k=y?a:g?o:"enabled",T=w(c,k+x(_[h])),M=w(c,u+x(_[h]));if(!0!==_[u]){if(!f&&u==r&&_[h]==n&&_.name){var P=c.closest("form"),E='input[name="'+_.name+'"]';(E=P.length?P.find(E):t(E)).each(function(){this!==_&&t(this).data(e)&&b(t(this),u)})}y?(_[u]=!0,_[r]&&b(c,r,"force")):(f||(_[u]=!0),g&&_[l]&&b(c,l,!1)),C(c,g,u,f)}_[s]&&w(c,m,!0)&&v.find("."+i).css(m,"default"),v[d](M||w(c,u)||""),v.attr("role")&&!y&&v.attr("aria-"+(S?s:r),"true"),v[p](T||w(c,k)||"")}function b(t,e,n){var c=t[0],u=t.parent(),f=e==r,_=e==l,v=e==s,g=_?a:f?o:"enabled",y=w(t,g+x(c[h])),b=w(t,e+x(c[h]));!1!==c[e]&&(!_&&n&&"force"!=n||(c[e]=!1),C(t,f,g,n)),!c[s]&&w(t,m,!0)&&u.find("."+i).css(m,"pointer"),u[p](b||w(t,e)||""),u.attr("role")&&!_&&u.attr("aria-"+(v?s:r),"false"),u[d](y||w(t,g)||"")}function S(i,n){i.data(e)&&(i.parent().html(i.attr("style",i.data(e).s||"")),n&&i[f](n),i.off(".i").unwrap(),t(_+'[for="'+i[0].id+'"]').add(i.closest(_)).off(".i"))}function w(t,i,n){if(t.data(e))return t.data(e).o[i+(n?"":"Class")]}function x(t){return t.charAt(0).toUpperCase()+t.slice(1)}function C(t,e,i,n){n||(e&&t[f]("ifToggled"),t[f]("ifChanged")[f]("if"+x(i)))}t.fn[e]=function(o,a){var m='input[type="checkbox"], input[type="'+n+'"]',w=t(),x=function(e){e.each(function(){var e=t(this);w=e.is(m)?w.add(e):w.add(e.find(m))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),x(this),w.each(function(){var e=t(this);"destroy"==o?S(e,"ifDestroyed"):g(e,!0,o),t.isFunction(a)&&a()});if("object"!=typeof o&&o)return this;var C=t.extend({checkedClass:r,disabledClass:s,indeterminateClass:l,labelHover:!0},o),k=C.handle,T=C.hoverClass||"hover",M=C.focusClass||"focus",P=C.activeClass||"active",E=!!C.labelHover,D=C.labelHoverClass||"hover",A=0|(""+C.increaseArea).replace("%","");return"checkbox"!=k&&k!=n||(m='input[type="'+k+'"]'),A<-50&&(A=-50),x(this),w.each(function(){var o=t(this);S(o);var a,l=this,m=l.id,w=-A+"%",x=100+2*A+"%",k={position:"absolute",top:w,left:w,display:"block",width:x,height:x,margin:0,padding:0,background:"#fff",border:0,opacity:0},O=v?{position:"absolute",visibility:"hidden"}:A?k:{position:"absolute",opacity:0},L="checkbox"==l[h]?C.checkboxClass||"icheckbox":C.radioClass||"i"+n,I=t(_+'[for="'+m+'"]').add(o.closest(_)),R=!!C.aria,z=e+"-"+Math.random().toString(36).substr(2,6),$='<div class="'+L+'" '+(R?'role="'+l[h]+'" ':"");R&&I.each(function(){$+='aria-labelledby="',this.id?$+=this.id:(this.id=z,$+=z),$+='"'}),$=o.wrap($+"/>")[f]("ifCreated").parent().append(C.insert),a=t('<ins class="'+i+'"/>').css(k).appendTo($),o.data(e,{o:C,s:o.attr("style")}).css(O),C.inheritClass&&$[d](l.className||""),C.inheritID&&m&&$.attr("id",e+"-"+m),"static"==$.css("position")&&$.css("position","relative"),g(o,!0,c),I.length&&I.on("click.i mouseover.i mouseout.i "+u,function(e){var i=e[h],n=t(this);if(!l[s]){if("click"==i){if(t(e.target).is("a"))return;g(o,!1,!0)}else E&&(/ut|nd/.test(i)?($[p](T),n[p](D)):($[d](T),n[d](D)));if(!v)return!1;e.stopPropagation()}}),o.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[h];return"click"!=e&&("keydown"==e&&32==t.keyCode?(l[h]==n&&l[r]||(l[r]?b(o,r):y(o,r)),!1):void("keyup"==e&&l[h]==n?!l[r]&&y(o,r):/us|ur/.test(e)&&$["blur"==e?p:d](M)))}),a.on("click mousedown mouseup mouseover mouseout "+u,function(t){var e=t[h],i=/wn|up/.test(e)?P:T;if(!l[s]){if("click"==e?g(o,!1,!0):(/wn|er|in/.test(e)?$[d](i):$[p](i+" "+P),I.length&&E&&i==T&&I[/ut|nd/.test(e)?p:d](D)),!v)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e,i=window;(e=0,i=function(i,n){var r,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(i),appendDots:t(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=t(i),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,r=t(i).data("slick")||{},o.options=t.extend({},o.defaults,n,r),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=t.proxy(o.autoPlay,o),o.autoPlayClear=t.proxy(o.autoPlayClear,o),o.autoPlayIterator=t.proxy(o.autoPlayIterator,o),o.changeSlide=t.proxy(o.changeSlide,o),o.clickHandler=t.proxy(o.clickHandler,o),o.selectHandler=t.proxy(o.selectHandler,o),o.setPosition=t.proxy(o.setPosition,o),o.swipeHandler=t.proxy(o.swipeHandler,o),o.dragHandler=t.proxy(o.dragHandler,o),o.keyHandler=t.proxy(o.keyHandler,o),o.instanceUid=e++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},i.prototype.addSlide=i.prototype.slickAdd=function(e,i,n){var r=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=r.slideCount)return!1;r.unload(),"number"==typeof i?0===i&&0===r.$slides.length?t(e).appendTo(r.$slideTrack):n?t(e).insertBefore(r.$slides.eq(i)):t(e).insertAfter(r.$slides.eq(i)):!0===n?t(e).prependTo(r.$slideTrack):t(e).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),r.$slidesCache=r.$slides,r.reinit()},i.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},i.prototype.animateSlide=function(e,i){var n={},r=this;r.animateHeight(),!0===r.options.rtl&&!1===r.options.vertical&&(e=-e),!1===r.transformsEnabled?r.$slideTrack.animate(!1===r.options.vertical?{left:e}:{top:e},r.options.speed,r.options.easing,i):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),t({animStart:r.currentLeft}).animate({animStart:e},{duration:r.options.speed,easing:r.options.easing,step:function(t){t=Math.ceil(t),!1===r.options.vertical?(n[r.animType]="translate("+t+"px, 0px)",r.$slideTrack.css(n)):(n[r.animType]="translate(0px,"+t+"px)",r.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(r.applyTransition(),e=Math.ceil(e),n[r.animType]=!1===r.options.vertical?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",r.$slideTrack.css(n),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},i.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=t(e).not(this.$slider)),e},i.prototype.asNavFor=function(e){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},i.prototype.applyTransition=function(t){var e=this,i={};i[e.transitionType]=!1===e.options.fade?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},i.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},i.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},i.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},i.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},i.prototype.buildDots=function(){var e,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},i.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},i.prototype.buildRows=function(){var t,e,i,n,r,o,s,a=this;if(n=document.createDocumentFragment(),o=a.$slider.children(),a.options.rows>0){for(s=a.options.slidesPerRow*a.options.rows,r=Math.ceil(o.length/s),t=0;t<r;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var c=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var h=t*s+(e*a.options.slidesPerRow+i);o.get(h)&&c.appendChild(o.get(h))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},i.prototype.checkResponsive=function(e,i){var n,r,o,s=this,a=!1,l=s.$slider.width(),c=window.innerWidth||t(window).width();if("window"===s.respondTo?o=c:"slider"===s.respondTo?o=l:"min"===s.respondTo&&(o=Math.min(c,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(n in r=null,s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(!1===s.originalSettings.mobileFirst?o<s.breakpoints[n]&&(r=s.breakpoints[n]):o>s.breakpoints[n]&&(r=s.breakpoints[n]));null!==r?null!==s.activeBreakpoint?(r!==s.activeBreakpoint||i)&&(s.activeBreakpoint=r,"unslick"===s.breakpointSettings[r]?s.unslick(r):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[r]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),a=r):(s.activeBreakpoint=r,"unslick"===s.breakpointSettings[r]?s.unslick(r):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[r]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),a=r):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e),a=r),e||!1===a||s.$slider.trigger("breakpoint",[s,a])}},i.prototype.changeSlide=function(e,i){var n,r,o=this,s=t(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),n=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":r=0===n?o.options.slidesToScroll:o.options.slidesToShow-n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-r,!1,i);break;case"next":r=0===n?o.options.slidesToScroll:n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+r,!1,i);break;case"index":var a=0===e.data.index?0:e.data.index||s.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(a),!1,i),s.children().trigger("focus");break;default:return}},i.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},i.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},i.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},i.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>0&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},i.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},i.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},i.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},i.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},i.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},i.prototype.filterSlides=i.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},i.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var n=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())},0)})},i.prototype.getCurrent=i.prototype.slickCurrentSlide=function(){return this.currentSlide},i.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},i.prototype.getLeft=function(t){var e,i,n,r,o=this,s=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=-1,!0===o.options.vertical&&!0===o.options.centerMode&&(2===o.options.slidesToShow?r=-1.5:1===o.options.slidesToShow&&(r=-2)),s=i*o.options.slidesToShow*r),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,s=(o.options.slidesToShow-(t-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,s=o.slideCount%o.options.slidesToScroll*i*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,s=(t+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,s=0),!0===o.options.centerMode&&o.slideCount<=o.options.slidesToShow?o.slideOffset=o.slideWidth*Math.floor(o.options.slidesToShow)/2-o.slideWidth*o.slideCount/2:!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*i*-1+s,!0===o.options.variableWidth&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow),e=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===o.options.centerMode&&(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1),e=!0===o.options.rtl?n[0]?-1*(o.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(o.$list.width()-n.outerWidth())/2)),e},i.prototype.getOption=i.prototype.slickGetOption=function(t){return this.options[t]},i.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,r=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)r.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return r},i.prototype.getSlick=function(){return this},i.prototype.getSlideCount=function(){var e,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(r,o){if(o.offsetLeft-i+t(o).outerWidth()/2>-1*n.swipeLeft)return e=o,!1}),Math.abs(t(e).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},i.prototype.goTo=i.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},i.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},i.prototype.initADA=function(){var e=this,i=Math.ceil(e.slideCount/e.options.slidesToShow),n=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i){var r=n.indexOf(i);if(t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+i,tabindex:-1}),-1!==r){var o="slick-slide-control"+e.instanceUid+r;t("#"+o).length&&t(this).attr({"aria-describedby":o})}}),e.$dots.attr("role","tablist").find("li").each(function(r){var o=n[r];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+r,"aria-controls":"slick-slide"+e.instanceUid+o,"aria-label":r+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var r=e.currentSlide,o=r+e.options.slidesToShow;r<o;r++)e.options.focusOnChange?e.$slides.eq(r).attr({tabindex:"0"}):e.$slides.eq(r).removeAttr("tabindex");e.activateADA()},i.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},i.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},i.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},i.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},i.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},i.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},i.prototype.lazyLoad=function(){var e,i,n,r=this;function o(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=t(this).attr("data-srcset"),o=t(this).attr("data-sizes")||r.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){e.animate({opacity:0},100,function(){n&&(e.attr("srcset",n),o&&e.attr("sizes",o)),e.attr("src",i).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,i])})},s.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,i])},s.src=i})}if(!0===r.options.centerMode?!0===r.options.infinite?n=(i=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(i=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),n=r.options.slidesToShow/2+1+2+r.currentSlide):(i=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(i+r.options.slidesToShow),!0===r.options.fade&&(i>0&&i--,n<=r.slideCount&&n++)),e=r.$slider.find(".slick-slide").slice(i,n),"anticipated"===r.options.lazyLoad)for(var s=i-1,a=n,l=r.$slider.find(".slick-slide"),c=0;c<r.options.slidesToScroll;c++)s<0&&(s=r.slideCount-1),e=(e=e.add(l.eq(s))).add(l.eq(a)),s--,a++;o(e),r.slideCount<=r.options.slidesToShow?o(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?o(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&o(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},i.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},i.prototype.next=i.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},i.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},i.prototype.pause=i.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},i.prototype.play=i.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},i.prototype.postSlide=function(e){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,e]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange&&t(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))},i.prototype.prev=i.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},i.prototype.preventDefault=function(t){t.preventDefault()},i.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,r,o,s,a=this,l=t("img[data-lazy]",a.$slider);l.length?(i=l.first(),n=i.attr("data-lazy"),r=i.attr("data-srcset"),o=i.attr("data-sizes")||a.$slider.attr("data-sizes"),(s=document.createElement("img")).onload=function(){r&&(i.attr("srcset",r),o&&i.attr("sizes",o)),i.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,i,n]),a.progressiveLazyLoad()},s.onerror=function(){e<3?setTimeout(function(){a.progressiveLazyLoad(e+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,i,n]),a.progressiveLazyLoad())},s.src=n):a.$slider.trigger("allImagesLoaded",[a])},i.prototype.refresh=function(e){var i,n,r=this;n=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>n&&(r.currentSlide=n),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),i=r.currentSlide,r.destroy(!0),t.extend(r,r.initials,{currentSlide:i}),r.init(),e||r.changeSlide({data:{message:"index",index:i}},!1)},i.prototype.registerBreakpoints=function(){var e,i,n,r=this,o=r.options.responsive||null;if("array"===t.type(o)&&o.length){for(e in r.respondTo=r.options.respondTo||"window",o)if(n=r.breakpoints.length-1,o.hasOwnProperty(e)){for(i=o[e].breakpoint;n>=0;)r.breakpoints[n]&&r.breakpoints[n]===i&&r.breakpoints.splice(n,1),n--;r.breakpoints.push(i),r.breakpointSettings[i]=o[e].settings}r.breakpoints.sort(function(t,e){return r.options.mobileFirst?t-e:e-t})}},i.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},i.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},i.prototype.removeSlide=i.prototype.slickRemove=function(t,e,i){var n=this;if(t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,n.slideCount<1||t<0||t>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},i.prototype.setCSS=function(t){var e,i,n=this,r={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",r[n.positionProp]=t,!1===n.transformsEnabled?n.$slideTrack.css(r):(r={},!1===n.cssTransitions?(r[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(r)):(r[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(r)))},i.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},i.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,r){e=i.slideWidth*n*-1,!0===i.options.rtl?t(r).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(r).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},i.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},i.prototype.setOption=i.prototype.slickSetOption=function(){var e,i,n,r,o,s=this,a=!1;if("object"===t.type(arguments[0])?(n=arguments[0],a=arguments[1],o="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],r=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)s.options[n]=r;else if("multiple"===o)t.each(n,function(t,e){s.options[t]=e});else if("responsive"===o)for(i in r)if("array"!==t.type(s.options.responsive))s.options.responsive=[r[i]];else{for(e=s.options.responsive.length-1;e>=0;)s.options.responsive[e].breakpoint===r[i].breakpoint&&s.options.responsive.splice(e,1),e--;s.options.responsive.push(r[i])}a&&(s.unload(),s.reinit())},i.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},i.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},i.prototype.setSlideClasses=function(t){var e,i,n,r,o=this;if(i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode){var s=o.options.slidesToShow%2==0?1:0;e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t>=e&&t<=o.slideCount-1-e?o.$slides.slice(t-e+s,t+e+1).addClass("slick-active").attr("aria-hidden","false"):i.slice((n=o.options.slidesToShow+t)-e+1+s,n+e+2).addClass("slick-active").attr("aria-hidden","false"),0===t?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,n=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==o.options.lazyLoad&&"anticipated"!==o.options.lazyLoad||o.lazyLoad()},i.prototype.setupInfinite=function(){var e,i,n,r=this;if(!0===r.options.fade&&(r.options.centerMode=!1),!0===r.options.infinite&&!1===r.options.fade&&(i=null,r.slideCount>r.options.slidesToShow)){for(n=!0===r.options.centerMode?r.options.slidesToShow+1:r.options.slidesToShow,e=r.slideCount;e>r.slideCount-n;e-=1)t(r.$slides[i=e-1]).clone(!0).attr("id","").attr("data-slick-index",i-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(e=0;e<n+r.slideCount;e+=1)t(r.$slides[i=e]).clone(!0).attr("id","").attr("data-slick-index",i+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},i.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},i.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),r=parseInt(n.attr("data-slick-index"));r||(r=0),i.slideCount<=i.options.slidesToShow?i.slideHandler(r,!1,!0):i.slideHandler(r)},i.prototype.slideHandler=function(t,e,i){var n,r,o,s,a,l,c=this;if(e=e||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===t))if(!1===e&&c.asNavFor(t),a=c.getLeft(n=t),s=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?s:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(t<0||t>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(t<0||t>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(n=c.currentSlide,!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(s,function(){c.postSlide(n)}):c.postSlide(n));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),r=n<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:n-c.slideCount:n,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,r]),o=c.currentSlide,c.currentSlide=r,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(l=(l=c.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==i?(c.fadeSlideOut(o),c.fadeSlide(r,function(){c.postSlide(r)})):c.postSlide(r),void c.animateHeight();!0!==i&&c.slideCount>c.options.slidesToShow?c.animateSlide(a,function(){c.postSlide(r)}):c.postSlide(r)}},i.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},i.prototype.swipeDirection=function(){var t,e,i=this;return t=Math.atan2(i.touchObject.startY-i.touchObject.curY,i.touchObject.startX-i.touchObject.curX),(e=Math.round(180*t/Math.PI))<0&&(e=360-Math.abs(e)),e<=45&&e>=0?!1===i.options.rtl?"left":"right":e<=360&&e>=315?!1===i.options.rtl?"left":"right":e>=135&&e<=225?!1===i.options.rtl?"right":"left":!0===i.options.verticalSwiping?e>=35&&e<=135?"down":"up":"vertical"},i.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},i.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},i.prototype.swipeMove=function(t){var e,i,n,r,o,s,a=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||a.scrolling||o&&1!==o.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,a.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&s>4?(a.scrolling=!0,!1):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),i=a.swipeDirection(),void 0!==t.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,t.preventDefault()),r=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(r=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.swipeLeft=!1===a.options.vertical?e+n*r:e+n*(a.$list.height()/a.listWidth)*r,!0===a.options.verticalSwiping&&(a.swipeLeft=e+n*r),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},i.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},i.prototype.unfilterSlides=i.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},i.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},i.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},i.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},i.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},i.prototype.visibility=function(){var t=this;t.options.autoplay&&(t.interrupted=!!document[t.hidden])},t.fn.slick=function(){var t,e,n=this,r=arguments[0],o=Array.prototype.slice.call(arguments,1),s=n.length;for(t=0;t<s;t++)if("object"==typeof r||void 0===r?n[t].slick=new i(n[t],r):e=n[t].slick[r].apply(n[t].slick,o),void 0!==e)return e;return n}}),$(window).on("load",function(){var t=$(window).width();if($(".footer_info .slides").slick({infinite:!0,arrows:!0,dots:!1,autoplay:!0,slidesToShow:5,slidesToScroll:1,autoplaySpeed:4e3,responsive:[{breakpoint:1024,settings:{slidesToShow:5,slidesToScroll:1,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]}),t>=1240)$(".gnb>li").on("mouseenter",function(){$(this).find(".s_gnb").fadeIn(200)}).on("mouseleave",function(){$(this).find(".s_gnb").fadeOut(200)});else{var e=$(".dep2_menu>a"),i=($(".call_close_menu"),e.next());e.on("click",function(){var t=$(this).next(":hidden");return i.slideUp(200),t.slideDown(200),!1})}$(window).resize(function(){if($(window).width()>=1240)$(".gnb>li").unbind("mouseenter"),$(".gnb>li").unbind("mouseleave"),$(".dep2_menu>a").unbind("click"),$(".s_gnb").hide(),$(".menu_area").show(),$(".gnb>li").on("mouseenter",function(){$(this).find(".s_gnb").fadeIn(200)}).on("mouseleave",function(){$(this).find(".s_gnb").fadeOut(200)});else{$(".gnb>li").unbind("mouseenter"),$(".gnb>li").unbind("mouseleave"),$(".dep2_menu>a").unbind("click"),$(".mb_colspan").attr("colspan","2"),$(".s_gnb").hide(),$(".menu_area").hide();var t=$(".dep2_menu>a"),e=t.next();t.on("click",function(){var t=$(this).next(":hidden");return e.slideUp(200),t.slideDown(200),!1})}}),t>=768?$(".mb_colspan").attr("colspan","3"):$(".mb_colspan").attr("colspan","2"),$(window).resize(function(){$(window).width()>=768?$(".mb_colspan").attr("colspan","3"):$(".mb_colspan").attr("colspan","2")})});